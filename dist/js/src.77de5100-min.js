parcelRequire=function(e,t,i,r){var n,s="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function a(i,r){if(!t[i]){if(!e[i]){var n="function"==typeof parcelRequire&&parcelRequire;if(!r&&n)return n(i,!0);if(s)return s(i,!0);if(o&&"string"==typeof i)return o(i);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}c.resolve=function(t){return e[i][1][t]||t},c.cache={};var u=t[i]=new a.Module(i);e[i][0].call(u.exports,c,u,u.exports,this)}return t[i].exports;function c(e){return a(c.resolve(e))}}a.isParcelRequire=!0,a.Module=function(e){this.id=e,this.bundle=a,this.exports={}},a.modules=e,a.cache=t,a.parent=s,a.register=function(t,i){e[t]=[function(e,t){t.exports=i},{}]};for(var l=0;l<i.length;l++)try{a(i[l])}catch(e){n||(n=e)}if(i.length){var u=a(i[i.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=u:"function"==typeof define&&define.amd&&define((function(){return u}))}if(parcelRequire=a,n)throw n;return a}({GJEO:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.WRAP_MODES=i.TYPES=i.TARGETS=i.SCALE_MODES=i.SAMPLER_TYPES=i.RENDERER_TYPE=i.PRECISION=i.MSAA_QUALITY=i.MIPMAP_MODES=i.MASK_TYPES=i.GC_MODES=i.FORMATS=i.ENV=i.DRAW_MODES=i.COLOR_MASK_BITS=i.CLEAR_MODES=i.BUFFER_TYPE=i.BUFFER_BITS=i.BLEND_MODES=i.ALPHA_MODES=void 0;var r=(e=>(e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2",e))(r||{});i.ENV=r;var n=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS",e))(n||{});i.RENDERER_TYPE=n;var s=(e=>(e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e))(s||{});i.BUFFER_BITS=s;var o=(e=>(e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR",e))(o||{});i.BLEND_MODES=o;var a=(e=>(e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e))(a||{});i.DRAW_MODES=a;var l=(e=>(e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e))(l||{});i.FORMATS=l;var u=(e=>(e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e))(u||{});i.TARGETS=u;var c=(e=>(e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT",e))(c||{});i.TYPES=c;var h=(e=>(e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT",e))(h||{});i.SAMPLER_TYPES=h;var d=(e=>(e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR",e))(d||{});i.SCALE_MODES=d;var p=(e=>(e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e))(p||{});i.WRAP_MODES=p;var f=(e=>(e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL",e))(f||{});i.MIPMAP_MODES=f;var m=(e=>(e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",e))(m||{});i.ALPHA_MODES=m;var g=(e=>(e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT",e))(g||{});i.CLEAR_MODES=g;var y=(e=>(e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL",e))(y||{});i.GC_MODES=y;var v=(e=>(e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp",e))(v||{});i.PRECISION=v;var x=(e=>(e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE",e[e.COLOR=4]="COLOR",e))(x||{});i.MASK_TYPES=x;var _=(e=>(e[e.RED=1]="RED",e[e.GREEN=2]="GREEN",e[e.BLUE=4]="BLUE",e[e.ALPHA=8]="ALPHA",e))(_||{});i.COLOR_MASK_BITS=_;var b=(e=>(e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH",e))(b||{});i.MSAA_QUALITY=b;var S=(e=>(e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e))(S||{});i.BUFFER_TYPE=S},{}],qucL:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BrowserAdapter=void 0;const r={createCanvas:(e,t)=>{const i=document.createElement("canvas");return i.width=e,i.height=t,i},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(e,t)=>fetch(e,t),parseXML:e=>(new DOMParser).parseFromString(e,"text/xml")};i.BrowserAdapter=r},{}],jaeA:[function(e,t,i){},{}],UwR6:[function(e,t,i){},{}],dPI7:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.settings=void 0;const r={ADAPTER:e("./adapter.mjs").BrowserAdapter,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};i.settings=r},{"./adapter.mjs":"qucL"}],UGVv:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var i=t.userAgent,x=i.split("[FBAN");void 0!==x[1]&&(i=x[0]);void 0!==(x=i.split("Twitter"))[1]&&(i=x[0]);var _=function(e){return function(t){return t.test(e)}}(i),b={apple:{phone:_(r)&&!_(h),ipod:_(n),tablet:!_(r)&&(_(s)||v(t))&&!_(h),universal:_(o),device:(_(r)||_(n)||_(s)||_(o)||v(t))&&!_(h)},amazon:{phone:_(u),tablet:!_(u)&&_(c),device:_(u)||_(c)},android:{phone:!_(h)&&_(u)||!_(h)&&_(a),tablet:!_(h)&&!_(u)&&!_(a)&&(_(c)||_(l)),device:!_(h)&&(_(u)||_(c)||_(a)||_(l))||_(/\bokhttp\b/i)},windows:{phone:_(h),tablet:_(d),device:_(h)||_(d)},other:{blackberry:_(p),blackberry10:_(f),opera:_(m),firefox:_(y),chrome:_(g),device:_(p)||_(f)||_(m)||_(y)||_(g)},any:!1,phone:!1,tablet:!1};return b.any=b.apple.device||b.android.device||b.windows.device||b.other.device,b.phone=b.apple.phone||b.android.phone||b.windows.phone,b.tablet=b.apple.tablet||b.android.tablet||b.windows.tablet,b};var r=/iPhone/i,n=/iPod/i,s=/iPad/i,o=/\biOS-universal(?:.+)Mac\b/i,a=/\bAndroid(?:.+)Mobile\b/i,l=/Android/i,u=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,c=/Silk/i,h=/Windows Phone/i,d=/\bWindows(?:.+)ARM\b/i,p=/BlackBerry/i,f=/BB10/i,m=/Opera Mini/i,g=/\b(CriOS|Chrome)(?:.+)Mobile/i,y=/Mobile(?:.+)Firefox\b/i,v=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream}},{}],KzjX:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={};Object.defineProperty(i,"default",{enumerable:!0,get:function(){return n.default}});var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=s(t);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,i&&i.set(e,r);return r}(e("./isMobile"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(s=function(e){return e?i:t})(e)}Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===n[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return n[e]}}))}))},{"./isMobile":"UGVv"}],DyHp:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.isMobile=void 0;var r,n=(r=e("ismobilejs"))&&r.__esModule?r:{default:r};const s=(n.default.default??n.default)(globalThis.navigator);i.isMobile=s},{ismobilejs:"KzjX"}],NIYj:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"BrowserAdapter",{enumerable:!0,get:function(){return r.BrowserAdapter}}),Object.defineProperty(i,"isMobile",{enumerable:!0,get:function(){return s.isMobile}}),Object.defineProperty(i,"settings",{enumerable:!0,get:function(){return n.settings}});var r=e("./adapter.mjs");e("./ICanvas.mjs"),e("./ICanvasRenderingContext2D.mjs");var n=e("./settings.mjs"),s=e("./utils/isMobile.mjs")},{"./adapter.mjs":"qucL","./ICanvas.mjs":"jaeA","./ICanvasRenderingContext2D.mjs":"UwR6","./settings.mjs":"dPI7","./utils/isMobile.mjs":"DyHp"}],fOKm:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"settings",{enumerable:!0,get:function(){return r.settings}});var r=e("@pixi/settings");r.settings.RETINA_PREFIX=/@([0-9\.]+)x/,r.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1},{"@pixi/settings":"NIYj"}],JJlS:[function(e,t,i){"use strict";var r=Object.prototype.hasOwnProperty,n="~";function s(){}function o(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function a(e,t,i,r,s){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new o(i,r||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new s:delete e._events[t]}function u(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(n=!1)),u.prototype.eventNames=function(){var e,t,i=[];if(0===this._eventsCount)return i;for(t in e=this._events)r.call(e,t)&&i.push(n?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},u.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,s=i.length,o=new Array(s);r<s;r++)o[r]=i[r].fn;return o},u.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},u.prototype.emit=function(e,t,i,r,s,o){var a=n?n+e:e;if(!this._events[a])return!1;var l,u,c=this._events[a],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,i),!0;case 4:return c.fn.call(c.context,t,i,r),!0;case 5:return c.fn.call(c.context,t,i,r,s),!0;case 6:return c.fn.call(c.context,t,i,r,s,o),!0}for(u=1,l=new Array(h-1);u<h;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var d,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),h){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,i);break;case 4:c[u].fn.call(c[u].context,t,i,r);break;default:if(!l)for(d=1,l=new Array(h-1);d<h;d++)l[d-1]=arguments[d];c[u].fn.apply(c[u].context,l)}}return!0},u.prototype.on=function(e,t,i){return a(this,e,t,i,!1)},u.prototype.once=function(e,t,i){return a(this,e,t,i,!0)},u.prototype.removeListener=function(e,t,i,r){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return l(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||r&&!o.once||i&&o.context!==i||l(this,s);else{for(var a=0,u=[],c=o.length;a<c;a++)(o[a].fn!==t||r&&!o[a].once||i&&o[a].context!==i)&&u.push(o[a]);u.length?this._events[s]=1===u.length?u[0]:u:l(this,s)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&l(this,t)):(this._events=new s,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,void 0!==t&&(t.exports=u)},{}],vwhv:[function(e,t,i){"use strict";function r(e,t,i){i=i||2;var r,s,a,l,u,c,p,f=t&&t.length,g=f?t[0]*i:e.length,y=n(e,0,g,i,!0),v=[];if(!y||y.next===y.prev)return v;if(f&&(y=function(e,t,i,r){var s,o,a,l=[];for(s=0,o=t.length;s<o;s++)(a=n(e,t[s]*r,s<o-1?t[s+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),l.push(m(a));for(l.sort(h),s=0;s<l.length;s++)i=d(l[s],i);return i}(e,t,y,i)),e.length>80*i){r=a=e[0],s=l=e[1];for(var x=i;x<g;x+=i)(u=e[x])<r&&(r=u),(c=e[x+1])<s&&(s=c),u>a&&(a=u),c>l&&(l=c);p=0!==(p=Math.max(a-r,l-s))?32767/p:0}return o(y,v,i,r,s,p,0),v}function n(e,t,i,r,n){var s,o;if(n===M(e,t,i,r)>0)for(s=t;s<i;s+=r)o=E(s,e[s],e[s+1],o);else for(s=i-r;s>=t;s-=r)o=E(s,e[s],e[s+1],o);return o&&x(o,o.next)&&(P(o),o=o.next),o}function s(e,t){if(!e)return e;t||(t=e);var i,r=e;do{if(i=!1,r.steiner||!x(r,r.next)&&0!==v(r.prev,r,r.next))r=r.next;else{if(P(r),(r=t=r.prev)===r.next)break;i=!0}}while(i||r!==t);return t}function o(e,t,i,r,n,h,d){if(e){!d&&h&&function(e,t,i,r){var n=e;do{0===n.z&&(n.z=f(n.x,n.y,t,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,function(e){var t,i,r,n,s,o,a,l,u=1;do{for(i=e,e=null,s=null,o=0;i;){for(o++,r=i,a=0,t=0;t<u&&(a++,r=r.nextZ);t++);for(l=u;a>0||l>0&&r;)0!==a&&(0===l||!r||i.z<=r.z)?(n=i,i=i.nextZ,a--):(n=r,r=r.nextZ,l--),s?s.nextZ=n:e=n,n.prevZ=s,s=n;i=r}s.nextZ=null,u*=2}while(o>1)}(n)}(e,r,n,h);for(var p,m,g=e;e.prev!==e.next;)if(p=e.prev,m=e.next,h?l(e,r,n,h):a(e))t.push(p.i/i|0),t.push(e.i/i|0),t.push(m.i/i|0),P(e),e=m.next,g=m.next;else if((e=m)===g){d?1===d?o(e=u(s(e),t,i),t,i,r,n,h,2):2===d&&c(e,t,i,r,n,h):o(s(e),t,i,r,n,h,1);break}}}function a(e){var t=e.prev,i=e,r=e.next;if(v(t,i,r)>=0)return!1;for(var n=t.x,s=i.x,o=r.x,a=t.y,l=i.y,u=r.y,c=n<s?n<o?n:o:s<o?s:o,h=a<l?a<u?a:u:l<u?l:u,d=n>s?n>o?n:o:s>o?s:o,p=a>l?a>u?a:u:l>u?l:u,f=r.next;f!==t;){if(f.x>=c&&f.x<=d&&f.y>=h&&f.y<=p&&g(n,a,s,l,o,u,f.x,f.y)&&v(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function l(e,t,i,r){var n=e.prev,s=e,o=e.next;if(v(n,s,o)>=0)return!1;for(var a=n.x,l=s.x,u=o.x,c=n.y,h=s.y,d=o.y,p=a<l?a<u?a:u:l<u?l:u,m=c<h?c<d?c:d:h<d?h:d,y=a>l?a>u?a:u:l>u?l:u,x=c>h?c>d?c:d:h>d?h:d,_=f(p,m,t,i,r),b=f(y,x,t,i,r),S=e.prevZ,T=e.nextZ;S&&S.z>=_&&T&&T.z<=b;){if(S.x>=p&&S.x<=y&&S.y>=m&&S.y<=x&&S!==n&&S!==o&&g(a,c,l,h,u,d,S.x,S.y)&&v(S.prev,S,S.next)>=0)return!1;if(S=S.prevZ,T.x>=p&&T.x<=y&&T.y>=m&&T.y<=x&&T!==n&&T!==o&&g(a,c,l,h,u,d,T.x,T.y)&&v(T.prev,T,T.next)>=0)return!1;T=T.nextZ}for(;S&&S.z>=_;){if(S.x>=p&&S.x<=y&&S.y>=m&&S.y<=x&&S!==n&&S!==o&&g(a,c,l,h,u,d,S.x,S.y)&&v(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;T&&T.z<=b;){if(T.x>=p&&T.x<=y&&T.y>=m&&T.y<=x&&T!==n&&T!==o&&g(a,c,l,h,u,d,T.x,T.y)&&v(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function u(e,t,i){var r=e;do{var n=r.prev,o=r.next.next;!x(n,o)&&_(n,r,r.next,o)&&T(n,o)&&T(o,n)&&(t.push(n.i/i|0),t.push(r.i/i|0),t.push(o.i/i|0),P(r),P(r.next),r=e=o),r=r.next}while(r!==e);return s(r)}function c(e,t,i,r,n,a){var l=e;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&y(l,u)){var c=w(l,u);return l=s(l,l.next),c=s(c,c.next),o(l,t,i,r,n,a,0),void o(c,t,i,r,n,a,0)}u=u.next}l=l.next}while(l!==e)}function h(e,t){return e.x-t.x}function d(e,t){var i=function(e,t){var i,r=t,n=e.x,s=e.y,o=-1/0;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var a=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>o&&(o=a,i=r.x<r.next.x?r:r.next,a===n))return i}r=r.next}while(r!==t);if(!i)return null;var l,u=i,c=i.x,h=i.y,d=1/0;r=i;do{n>=r.x&&r.x>=c&&n!==r.x&&g(s<h?n:o,s,c,h,s<h?o:n,s,r.x,r.y)&&(l=Math.abs(s-r.y)/(n-r.x),T(r,e)&&(l<d||l===d&&(r.x>i.x||r.x===i.x&&p(i,r)))&&(i=r,d=l)),r=r.next}while(r!==u);return i}(e,t);if(!i)return t;var r=w(i,e);return s(r,r.next),s(i,i.next)}function p(e,t){return v(e.prev,e,t.prev)<0&&v(t.next,e,e.next)<0}function f(e,t,i,r,n){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-i)*n|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*n|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function m(e){var t=e,i=e;do{(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next}while(t!==e);return i}function g(e,t,i,r,n,s,o,a){return(n-o)*(t-a)>=(e-o)*(s-a)&&(e-o)*(r-a)>=(i-o)*(t-a)&&(i-o)*(s-a)>=(n-o)*(r-a)}function y(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&_(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}(e,t)&&(T(e,t)&&T(t,e)&&function(e,t){var i=e,r=!1,n=(e.x+t.x)/2,s=(e.y+t.y)/2;do{i.y>s!=i.next.y>s&&i.next.y!==i.y&&n<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==e);return r}(e,t)&&(v(e.prev,e,t.prev)||v(e,t.prev,t))||x(e,t)&&v(e.prev,e,e.next)>0&&v(t.prev,t,t.next)>0)}function v(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function x(e,t){return e.x===t.x&&e.y===t.y}function _(e,t,i,r){var n=S(v(e,t,i)),s=S(v(e,t,r)),o=S(v(i,r,e)),a=S(v(i,r,t));return n!==s&&o!==a||(!(0!==n||!b(e,i,t))||(!(0!==s||!b(e,r,t))||(!(0!==o||!b(i,e,r))||!(0!==a||!b(i,t,r)))))}function b(e,t,i){return t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y)}function S(e){return e>0?1:e<0?-1:0}function T(e,t){return v(e.prev,e,e.next)<0?v(e,t,e.next)>=0&&v(e,e.prev,t)>=0:v(e,t,e.prev)<0||v(e,e.next,t)<0}function w(e,t){var i=new A(e.i,e.x,e.y),r=new A(t.i,t.x,t.y),n=e.next,s=t.prev;return e.next=t,t.prev=e,i.next=n,n.prev=i,r.next=i,i.prev=r,s.next=r,r.prev=s,r}function E(e,t,i,r){var n=new A(e,t,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function P(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function A(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function M(e,t,i,r){for(var n=0,s=t,o=i-r;s<i;s+=r)n+=(e[o]-e[s])*(e[s+1]+e[o+1]),o=s;return n}t.exports=r,t.exports.default=r,r.deviation=function(e,t,i,r){var n=t&&t.length,s=n?t[0]*i:e.length,o=Math.abs(M(e,0,s,i));if(n)for(var a=0,l=t.length;a<l;a++){var u=t[a]*i,c=a<l-1?t[a+1]*i:e.length;o-=Math.abs(M(e,u,c,i))}var h=0;for(a=0;a<r.length;a+=3){var d=r[a]*i,p=r[a+1]*i,f=r[a+2]*i;h+=Math.abs((e[d]-e[f])*(e[p+1]-e[d+1])-(e[d]-e[p])*(e[f+1]-e[d+1]))}return 0===o&&0===h?0:Math.abs((h-o)/o)},r.flatten=function(e){for(var t=e[0][0].length,i={vertices:[],holes:[],dimensions:t},r=0,n=0;n<e.length;n++){for(var s=0;s<e[n].length;s++)for(var o=0;o<t;o++)i.vertices.push(e[n][s][o]);n>0&&(r+=e[n-1].length,i.holes.push(r))}return i}},{}],oWqx:[function(e,t,i){var r,n=arguments[3];!function(e){var s="object"==typeof i&&i&&!i.nodeType&&i,o="object"==typeof t&&t&&!t.nodeType&&t,a="object"==typeof n&&n;a.global!==a&&a.window!==a&&a.self!==a||(e=a);var l,u,c=2147483647,h=36,d=/^xn--/,p=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=Math.floor,y=String.fromCharCode;function v(e){throw new RangeError(m[e])}function x(e,t){for(var i=e.length,r=[];i--;)r[i]=t(e[i]);return r}function _(e,t){var i=e.split("@"),r="";return i.length>1&&(r=i[0]+"@",e=i[1]),r+x((e=e.replace(f,".")).split("."),t).join(".")}function b(e){for(var t,i,r=[],n=0,s=e.length;n<s;)(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<s?56320==(64512&(i=e.charCodeAt(n++)))?r.push(((1023&t)<<10)+(1023&i)+65536):(r.push(t),n--):r.push(t);return r}function S(e){return x(e,(function(e){var t="";return e>65535&&(t+=y((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=y(e)})).join("")}function T(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,i){var r=0;for(e=i?g(e/700):e>>1,e+=g(e/t);e>455;r+=h)e=g(e/35);return g(r+36*e/(e+38))}function E(e){var t,i,r,n,s,o,a,l,u,d,p,f=[],m=e.length,y=0,x=128,_=72;for((i=e.lastIndexOf("-"))<0&&(i=0),r=0;r<i;++r)e.charCodeAt(r)>=128&&v("not-basic"),f.push(e.charCodeAt(r));for(n=i>0?i+1:0;n<m;){for(s=y,o=1,a=h;n>=m&&v("invalid-input"),((l=(p=e.charCodeAt(n++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:h)>=h||l>g((c-y)/o))&&v("overflow"),y+=l*o,!(l<(u=a<=_?1:a>=_+26?26:a-_));a+=h)o>g(c/(d=h-u))&&v("overflow"),o*=d;_=w(y-s,t=f.length+1,0==s),g(y/t)>c-x&&v("overflow"),x+=g(y/t),y%=t,f.splice(y++,0,x)}return S(f)}function P(e){var t,i,r,n,s,o,a,l,u,d,p,f,m,x,_,S=[];for(f=(e=b(e)).length,t=128,i=0,s=72,o=0;o<f;++o)(p=e[o])<128&&S.push(y(p));for(r=n=S.length,n&&S.push("-");r<f;){for(a=c,o=0;o<f;++o)(p=e[o])>=t&&p<a&&(a=p);for(a-t>g((c-i)/(m=r+1))&&v("overflow"),i+=(a-t)*m,t=a,o=0;o<f;++o)if((p=e[o])<t&&++i>c&&v("overflow"),p==t){for(l=i,u=h;!(l<(d=u<=s?1:u>=s+26?26:u-s));u+=h)_=l-d,x=h-d,S.push(y(T(d+_%x,0))),l=g(_/x);S.push(y(T(l,0))),s=w(i,m,r==n),i=0,++r}++i,++t}return S.join("")}if(l={version:"1.4.1",ucs2:{decode:b,encode:S},decode:E,encode:P,toASCII:function(e){return _(e,(function(e){return p.test(e)?"xn--"+P(e):e}))},toUnicode:function(e){return _(e,(function(e){return d.test(e)?E(e.slice(4).toLowerCase()):e}))}},"function"==typeof r&&"object"==typeof r.amd&&r.amd)r("punycode",(function(){return l}));else if(s&&o)if(t.exports==s)o.exports=l;else for(u in l)l.hasOwnProperty(u)&&(s[u]=l[u]);else e.punycode=l}(this)},{}],jYt2:[function(e,t,i){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),i=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(i))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var n=Object.getOwnPropertyDescriptor(e,t);if(42!==n.value||!0!==n.enumerable)return!1}return!0}},{}],NS5K:[function(e,t,i){"use strict";var r="undefined"!=typeof Symbol&&Symbol,n=e("./shams");t.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&n())))}},{"./shams":"jYt2"}],Hgl8:[function(e,t,i){"use strict";var r={foo:{}},n=Object;t.exports=function(){return{__proto__:r}.foo===r.foo&&!({__proto__:null}instanceof n)}},{}],B6OE:[function(e,t,i){"use strict";var r="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,s=Object.prototype.toString,o="[object Function]";t.exports=function(e){var t=this;if("function"!=typeof t||s.call(t)!==o)throw new TypeError(r+t);for(var i,a=n.call(arguments,1),l=function(){if(this instanceof i){var r=t.apply(this,a.concat(n.call(arguments)));return Object(r)===r?r:this}return t.apply(e,a.concat(n.call(arguments)))},u=Math.max(0,t.length-a.length),c=[],h=0;h<u;h++)c.push("$"+h);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(l),t.prototype){var d=function(){};d.prototype=t.prototype,i.prototype=new d,d.prototype=null}return i}},{}],TiwC:[function(e,t,i){"use strict";var r=e("./implementation");t.exports=Function.prototype.bind||r},{"./implementation":"B6OE"}],ar57:[function(e,t,i){"use strict";var r=e("function-bind");t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":"TiwC"}],LiLl:[function(e,t,i){"use strict";var r,n=SyntaxError,s=Function,o=TypeError,a=function(e){try{return s('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var u=function(){throw new o},c=l?function(){try{return u}catch(e){try{return l(arguments,"callee").get}catch(e){return u}}}():u,h=e("has-symbols")(),d=e("has-proto")(),p=Object.getPrototypeOf||(d?function(e){return e.__proto__}:null),f={},m="undefined"!=typeof Uint8Array&&p?p(Uint8Array):r,g={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":h&&p?p([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h&&p?p(p([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&h&&p?p((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&h&&p?p((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h&&p?p(""[Symbol.iterator]()):r,"%Symbol%":h?Symbol:r,"%SyntaxError%":n,"%ThrowTypeError%":c,"%TypedArray%":m,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(p)try{null.error}catch(e){var y=p(p(e));g["%Error.prototype%"]=y}var v=function e(t){var i;if("%AsyncFunction%"===t)i=a("async function () {}");else if("%GeneratorFunction%"===t)i=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)i=a("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(i=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var n=e("%AsyncGenerator%");n&&p&&(i=p(n.prototype))}return g[t]=i,i},x={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_=e("function-bind"),b=e("has"),S=_.call(Function.call,Array.prototype.concat),T=_.call(Function.apply,Array.prototype.splice),w=_.call(Function.call,String.prototype.replace),E=_.call(Function.call,String.prototype.slice),P=_.call(Function.call,RegExp.prototype.exec),A=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M=/\\(\\)?/g,O=function(e){var t=E(e,0,1),i=E(e,-1);if("%"===t&&"%"!==i)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===i&&"%"!==t)throw new n("invalid intrinsic syntax, expected opening `%`");var r=[];return w(e,A,(function(e,t,i,n){r[r.length]=i?w(n,M,"$1"):t||e})),r},C=function(e,t){var i,r=e;if(b(x,r)&&(r="%"+(i=x[r])[0]+"%"),b(g,r)){var s=g[r];if(s===f&&(s=v(r)),void 0===s&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:s}}throw new n("intrinsic "+e+" does not exist!")};t.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new o('"allowMissing" argument must be a boolean');if(null===P(/^%?[^%]*%?$/,e))throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=O(e),r=i.length>0?i[0]:"",s=C("%"+r+"%",t),a=s.name,u=s.value,c=!1,h=s.alias;h&&(r=h[0],T(i,S([0,1],h)));for(var d=1,p=!0;d<i.length;d+=1){var f=i[d],m=E(f,0,1),y=E(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===y||"'"===y||"`"===y)&&m!==y)throw new n("property names with quotes must have matching quotes");if("constructor"!==f&&p||(c=!0),b(g,a="%"+(r+="."+f)+"%"))u=g[a];else if(null!=u){if(!(f in u)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&d+1>=i.length){var v=l(u,f);u=(p=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:u[f]}else p=b(u,f),u=u[f];p&&!c&&(g[a]=u)}}return u}},{"has-symbols":"NS5K","has-proto":"Hgl8","function-bind":"TiwC",has:"ar57"}],y9YS:[function(e,t,i){"use strict";var r=e("function-bind"),n=e("get-intrinsic"),s=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),a=n("%Reflect.apply%",!0)||r.call(o,s),l=n("%Object.getOwnPropertyDescriptor%",!0),u=n("%Object.defineProperty%",!0),c=n("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}t.exports=function(e){var t=a(r,o,arguments);if(l&&u){var i=l(t,"length");i.configurable&&u(t,"length",{value:1+c(0,e.length-(arguments.length-1))})}return t};var h=function(){return a(r,s,arguments)};u?u(t.exports,"apply",{value:h}):t.exports.apply=h},{"function-bind":"TiwC","get-intrinsic":"LiLl"}],tAiC:[function(e,t,i){"use strict";var r=e("get-intrinsic"),n=e("./"),s=n(r("String.prototype.indexOf"));t.exports=function(e,t){var i=r(e,!!t);return"function"==typeof i&&s(e,".prototype.")>-1?n(i):i}},{"get-intrinsic":"LiLl","./":"y9YS"}],rDCW:[function(e,t,i){},{}],JahF:[function(e,t,i){var r="function"==typeof Map&&Map.prototype,n=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,s=r&&n&&"function"==typeof n.get?n.get:null,o=r&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=a&&l&&"function"==typeof l.get?l.get:null,c=a&&Set.prototype.forEach,h="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,m=Object.prototype.toString,g=Function.prototype.toString,y=String.prototype.match,v=String.prototype.slice,x=String.prototype.replace,_=String.prototype.toUpperCase,b=String.prototype.toLowerCase,S=RegExp.prototype.test,T=Array.prototype.concat,w=Array.prototype.join,E=Array.prototype.slice,P=Math.floor,A="function"==typeof BigInt?BigInt.prototype.valueOf:null,M=Object.getOwnPropertySymbols,O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,C="function"==typeof Symbol&&"object"==typeof Symbol.iterator,j="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===C||"symbol")?Symbol.toStringTag:null,R=Object.prototype.propertyIsEnumerable,I=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function B(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||S.call(/e/,t))return t;var i=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-P(-e):P(e);if(r!==e){var n=String(r),s=v.call(t,n.length+1);return x.call(n,i,"$&_")+"."+x.call(x.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return x.call(t,i,"$&_")}var D=e("./util.inspect"),k=D.custom,F=H(k)?k:null;function L(e,t,i){var r="double"===(i.quoteStyle||t)?'"':"'";return r+e+r}function N(e){return x.call(String(e),/"/g,"&quot;")}function U(e){return!("[object Array]"!==z(e)||j&&"object"==typeof e&&j in e)}function G(e){return!("[object RegExp]"!==z(e)||j&&"object"==typeof e&&j in e)}function H(e){if(C)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!O)return!1;try{return O.call(e),!0}catch(e){}return!1}t.exports=function e(t,i,r,n){var a=i||{};if(W(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(W(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=!W(a,"customInspect")||a.customInspect;if("boolean"!=typeof l&&"symbol"!==l)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(W(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(W(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var m=a.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return X(t,a);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var _=String(t);return m?B(t,_):_}if("bigint"==typeof t){var S=String(t)+"n";return m?B(t,S):S}var P=void 0===a.depth?5:a.depth;if(void 0===r&&(r=0),r>=P&&P>0&&"object"==typeof t)return U(t)?"[Array]":"[Object]";var M=function(e,t){var i;if("\t"===e.indent)i="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;i=w.call(Array(e.indent+1)," ")}return{base:i,prev:w.call(Array(t+1),i)}}(a,r);if(void 0===n)n=[];else if(Y(n,t)>=0)return"[Circular]";function k(t,i,s){if(i&&(n=E.call(n)).push(i),s){var o={depth:a.depth};return W(a,"quoteStyle")&&(o.quoteStyle=a.quoteStyle),e(t,o,r+1,n)}return e(t,a,r+1,n)}if("function"==typeof t&&!G(t)){var V=function(e){if(e.name)return e.name;var t=y.call(g.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),q=J(t,k);return"[Function"+(V?": "+V:" (anonymous)")+"]"+(q.length>0?" { "+w.call(q,", ")+" }":"")}if(H(t)){var ee=C?x.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):O.call(t);return"object"!=typeof t||C?ee:$(ee)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var te="<"+b.call(String(t.nodeName)),ie=t.attributes||[],re=0;re<ie.length;re++)te+=" "+ie[re].name+"="+L(N(ie[re].value),"double",a);return te+=">",t.childNodes&&t.childNodes.length&&(te+="..."),te+="</"+b.call(String(t.nodeName))+">"}if(U(t)){if(0===t.length)return"[]";var ne=J(t,k);return M&&!function(e){for(var t=0;t<e.length;t++)if(Y(e[t],"\n")>=0)return!1;return!0}(ne)?"["+Z(ne,M)+"]":"[ "+w.call(ne,", ")+" ]"}if(function(e){return!("[object Error]"!==z(e)||j&&"object"==typeof e&&j in e)}(t)){var se=J(t,k);return"cause"in Error.prototype||!("cause"in t)||R.call(t,"cause")?0===se.length?"["+String(t)+"]":"{ ["+String(t)+"] "+w.call(se,", ")+" }":"{ ["+String(t)+"] "+w.call(T.call("[cause]: "+k(t.cause),se),", ")+" }"}if("object"==typeof t&&l){if(F&&"function"==typeof t[F]&&D)return D(t,{depth:P-r});if("symbol"!==l&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!s||!e||"object"!=typeof e)return!1;try{s.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var oe=[];return o&&o.call(t,(function(e,i){oe.push(k(i,t,!0)+" => "+k(e,t))})),Q("Map",s.call(t),oe,M)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{s.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var ae=[];return c&&c.call(t,(function(e){ae.push(k(e,t))})),Q("Set",u.call(t),ae,M)}if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{h.call(e,h);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return K("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{h.call(e,h)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return K("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}(t))return K("WeakRef");if(function(e){return!("[object Number]"!==z(e)||j&&"object"==typeof e&&j in e)}(t))return $(k(Number(t)));if(function(e){if(!e||"object"!=typeof e||!A)return!1;try{return A.call(e),!0}catch(e){}return!1}(t))return $(k(A.call(t)));if(function(e){return!("[object Boolean]"!==z(e)||j&&"object"==typeof e&&j in e)}(t))return $(f.call(t));if(function(e){return!("[object String]"!==z(e)||j&&"object"==typeof e&&j in e)}(t))return $(k(String(t)));if(!function(e){return!("[object Date]"!==z(e)||j&&"object"==typeof e&&j in e)}(t)&&!G(t)){var le=J(t,k),ue=I?I(t)===Object.prototype:t instanceof Object||t.constructor===Object,ce=t instanceof Object?"":"null prototype",he=!ue&&j&&Object(t)===t&&j in t?v.call(z(t),8,-1):ce?"Object":"",de=(ue||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(he||ce?"["+w.call(T.call([],he||[],ce||[]),": ")+"] ":"");return 0===le.length?de+"{}":M?de+"{"+Z(le,M)+"}":de+"{ "+w.call(le,", ")+" }"}return String(t)};var V=Object.prototype.hasOwnProperty||function(e){return e in this};function W(e,t){return V.call(e,t)}function z(e){return m.call(e)}function Y(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1}function X(e,t){if(e.length>t.maxStringLength){var i=e.length-t.maxStringLength,r="... "+i+" more character"+(i>1?"s":"");return X(v.call(e,0,t.maxStringLength),t)+r}return L(x.call(x.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,q),"single",t)}function q(e){var t=e.charCodeAt(0),i={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return i?"\\"+i:"\\x"+(t<16?"0":"")+_.call(t.toString(16))}function $(e){return"Object("+e+")"}function K(e){return e+" { ? }"}function Q(e,t,i,r){return e+" ("+t+") {"+(r?Z(i,r):w.call(i,", "))+"}"}function Z(e,t){if(0===e.length)return"";var i="\n"+t.prev+t.base;return i+w.call(e,","+i)+"\n"+t.prev}function J(e,t){var i=U(e),r=[];if(i){r.length=e.length;for(var n=0;n<e.length;n++)r[n]=W(e,n)?t(e[n],e):""}var s,o="function"==typeof M?M(e):[];if(C){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var l in e)W(e,l)&&(i&&String(Number(l))===l&&l<e.length||C&&s["$"+l]instanceof Symbol||(S.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if("function"==typeof M)for(var u=0;u<o.length;u++)R.call(e,o[u])&&r.push("["+t(o[u])+"]: "+t(e[o[u]],e));return r}},{"./util.inspect":"rDCW"}],iGu9:[function(e,t,i){"use strict";var r=e("get-intrinsic"),n=e("call-bind/callBound"),s=e("object-inspect"),o=r("%TypeError%"),a=r("%WeakMap%",!0),l=r("%Map%",!0),u=n("WeakMap.prototype.get",!0),c=n("WeakMap.prototype.set",!0),h=n("WeakMap.prototype.has",!0),d=n("Map.prototype.get",!0),p=n("Map.prototype.set",!0),f=n("Map.prototype.has",!0),m=function(e,t){for(var i,r=e;null!==(i=r.next);r=i)if(i.key===t)return r.next=i.next,i.next=e.next,e.next=i,i};t.exports=function(){var e,t,i,r={assert:function(e){if(!r.has(e))throw new o("Side channel does not contain "+s(e))},get:function(r){if(a&&r&&("object"==typeof r||"function"==typeof r)){if(e)return u(e,r)}else if(l){if(t)return d(t,r)}else if(i)return function(e,t){var i=m(e,t);return i&&i.value}(i,r)},has:function(r){if(a&&r&&("object"==typeof r||"function"==typeof r)){if(e)return h(e,r)}else if(l){if(t)return f(t,r)}else if(i)return function(e,t){return!!m(e,t)}(i,r);return!1},set:function(r,n){a&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new a),c(e,r,n)):l?(t||(t=new l),p(t,r,n)):(i||(i={key:{},next:null}),function(e,t,i){var r=m(e,t);r?r.value=i:e.next={key:t,next:e.next,value:i}}(i,r,n))}};return r}},{"get-intrinsic":"LiLl","call-bind/callBound":"tAiC","object-inspect":"JahF"}],vn5D:[function(e,t,i){"use strict";var r=String.prototype.replace,n=/%20/g,s="RFC1738",o="RFC3986";t.exports={default:o,formatters:{RFC1738:function(e){return r.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:s,RFC3986:o}},{}],lcoA:[function(e,t,i){"use strict";var r=e("./formats"),n=Object.prototype.hasOwnProperty,s=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e,t){for(var i=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(i[r]=e[r]);return i};t.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce((function(e,i){return e[i]=t[i],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],i=[],r=0;r<t.length;++r)for(var n=t[r],o=n.obj[n.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],c=o[u];"object"==typeof c&&null!==c&&-1===i.indexOf(c)&&(t.push({obj:o,prop:u}),i.push(c))}return function(e){for(;e.length>1;){var t=e.pop(),i=t.obj[t.prop];if(s(i)){for(var r=[],n=0;n<i.length;++n)void 0!==i[n]&&r.push(i[n]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,i){var r=e.replace(/\+/g," ");if("iso-8859-1"===i)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,i,n,s){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===i)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var l="",u=0;u<a.length;++u){var c=a.charCodeAt(u);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===r.RFC1738&&(40===c||41===c)?l+=a.charAt(u):c<128?l+=o[c]:c<2048?l+=o[192|c>>6]+o[128|63&c]:c<55296||c>=57344?l+=o[224|c>>12]+o[128|c>>6&63]+o[128|63&c]:(u+=1,c=65536+((1023&c)<<10|1023&a.charCodeAt(u)),l+=o[240|c>>18]+o[128|c>>12&63]+o[128|c>>6&63]+o[128|63&c])}return l},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(s(e)){for(var i=[],r=0;r<e.length;r+=1)i.push(t(e[r]));return i}return t(e)},merge:function e(t,i,r){if(!i)return t;if("object"!=typeof i){if(s(t))t.push(i);else{if(!t||"object"!=typeof t)return[t,i];(r&&(r.plainObjects||r.allowPrototypes)||!n.call(Object.prototype,i))&&(t[i]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(i);var o=t;return s(t)&&!s(i)&&(o=a(t,r)),s(t)&&s(i)?(i.forEach((function(i,s){if(n.call(t,s)){var o=t[s];o&&"object"==typeof o&&i&&"object"==typeof i?t[s]=e(o,i,r):t.push(i)}else t[s]=i})),t):Object.keys(i).reduce((function(t,s){var o=i[s];return n.call(t,s)?t[s]=e(t[s],o,r):t[s]=o,t}),o)}}},{"./formats":"vn5D"}],Juyr:[function(e,t,i){"use strict";var r=e("side-channel"),n=e("./utils"),s=e("./formats"),o=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,u=Array.prototype.push,c=function(e,t){u.apply(e,l(t)?t:[t])},h=Date.prototype.toISOString,d=s.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,format:d,formatter:s.formatters[d],indices:!1,serializeDate:function(e){return h.call(e)},skipNulls:!1,strictNullHandling:!1},f={},m=function e(t,i,s,o,a,u,h,d,m,g,y,v,x,_,b,S){for(var T,w=t,E=S,P=0,A=!1;void 0!==(E=E.get(f))&&!A;){var M=E.get(t);if(P+=1,void 0!==M){if(M===P)throw new RangeError("Cyclic object value");A=!0}void 0===E.get(f)&&(P=0)}if("function"==typeof d?w=d(i,w):w instanceof Date?w=y(w):"comma"===s&&l(w)&&(w=n.maybeMap(w,(function(e){return e instanceof Date?y(e):e}))),null===w){if(a)return h&&!_?h(i,p.encoder,b,"key",v):i;w=""}if("string"==typeof(T=w)||"number"==typeof T||"boolean"==typeof T||"symbol"==typeof T||"bigint"==typeof T||n.isBuffer(w))return h?[x(_?i:h(i,p.encoder,b,"key",v))+"="+x(h(w,p.encoder,b,"value",v))]:[x(i)+"="+x(String(w))];var O,C=[];if(void 0===w)return C;if("comma"===s&&l(w))_&&h&&(w=n.maybeMap(w,h)),O=[{value:w.length>0?w.join(",")||null:void 0}];else if(l(d))O=d;else{var j=Object.keys(w);O=m?j.sort(m):j}for(var R=o&&l(w)&&1===w.length?i+"[]":i,I=0;I<O.length;++I){var B=O[I],D="object"==typeof B&&void 0!==B.value?B.value:w[B];if(!u||null!==D){var k=l(w)?"function"==typeof s?s(R,B):R:R+(g?"."+B:"["+B+"]");S.set(t,P);var F=r();F.set(f,S),c(C,e(D,k,s,o,a,u,"comma"===s&&_&&l(w)?null:h,d,m,g,y,v,x,_,b,F))}}return C};t.exports=function(e,t){var i,n=e,u=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=s.default;if(void 0!==e.format){if(!o.call(s.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var r=s.formatters[i],n=p.filter;return("function"==typeof e.filter||l(e.filter))&&(n=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:n,format:i,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof u.filter?n=(0,u.filter)("",n):l(u.filter)&&(i=u.filter);var h,d=[];if("object"!=typeof n||null===n)return"";h=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var f=a[h];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var g="comma"===f&&t&&t.commaRoundTrip;i||(i=Object.keys(n)),u.sort&&i.sort(u.sort);for(var y=r(),v=0;v<i.length;++v){var x=i[v];u.skipNulls&&null===n[x]||c(d,m(n[x],x,f,g,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,y))}var _=d.join(u.delimiter),b=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),_.length>0?b+_:""}},{"side-channel":"iGu9","./utils":"lcoA","./formats":"vn5D"}],wYCW:[function(e,t,i){"use strict";var r=e("./utils"),n=Object.prototype.hasOwnProperty,s=Array.isArray,o={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},l=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t,i,r){if(e){var s=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,a=i.depth>0&&/(\[[^[\]]*])/.exec(s),u=a?s.slice(0,a.index):s,c=[];if(u){if(!i.plainObjects&&n.call(Object.prototype,u)&&!i.allowPrototypes)return;c.push(u)}for(var h=0;i.depth>0&&null!==(a=o.exec(s))&&h<i.depth;){if(h+=1,!i.plainObjects&&n.call(Object.prototype,a[1].slice(1,-1))&&!i.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+s.slice(a.index)+"]"),function(e,t,i,r){for(var n=r?t:l(t,i),s=e.length-1;s>=0;--s){var o,a=e[s];if("[]"===a&&i.parseArrays)o=[].concat(n);else{o=i.plainObjects?Object.create(null):{};var u="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(u,10);i.parseArrays||""!==u?!isNaN(c)&&a!==u&&String(c)===u&&c>=0&&i.parseArrays&&c<=i.arrayLimit?(o=[])[c]=n:"__proto__"!==u&&(o[u]=n):o={0:n}}n=o}return n}(c,t,i,r)}};t.exports=function(e,t){var i=function(e){if(!e)return o;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?o.charset:e.charset;return{allowDots:void 0===e.allowDots?o.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:o.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:o.comma,decoder:"function"==typeof e.decoder?e.decoder:o.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:o.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:o.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:o.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:o.strictNullHandling}}(t);if(""===e||null==e)return i.plainObjects?Object.create(null):{};for(var c="string"==typeof e?function(e,t){var i,u={__proto__:null},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,h=t.parameterLimit===1/0?void 0:t.parameterLimit,d=c.split(t.delimiter,h),p=-1,f=t.charset;if(t.charsetSentinel)for(i=0;i<d.length;++i)0===d[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[i]?f="utf-8":"utf8=%26%2310003%3B"===d[i]&&(f="iso-8859-1"),p=i,i=d.length);for(i=0;i<d.length;++i)if(i!==p){var m,g,y=d[i],v=y.indexOf("]="),x=-1===v?y.indexOf("="):v+1;-1===x?(m=t.decoder(y,o.decoder,f,"key"),g=t.strictNullHandling?null:""):(m=t.decoder(y.slice(0,x),o.decoder,f,"key"),g=r.maybeMap(l(y.slice(x+1),t),(function(e){return t.decoder(e,o.decoder,f,"value")}))),g&&t.interpretNumericEntities&&"iso-8859-1"===f&&(g=a(g)),y.indexOf("[]=")>-1&&(g=s(g)?[g]:g),n.call(u,m)?u[m]=r.combine(u[m],g):u[m]=g}return u}(e,i):e,h=i.plainObjects?Object.create(null):{},d=Object.keys(c),p=0;p<d.length;++p){var f=d[p],m=u(f,c[f],i,"string"==typeof e);h=r.merge(h,m,i)}return!0===i.allowSparse?h:r.compact(h)}},{"./utils":"lcoA"}],wGDy:[function(e,t,i){"use strict";var r=e("./stringify"),n=e("./parse"),s=e("./formats");t.exports={formats:s,parse:n,stringify:r}},{"./stringify":"Juyr","./parse":"wYCW","./formats":"vn5D"}],Mej7:[function(e,t,i){"use strict";var r=e("punycode");function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var s=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(l),c=["%","/","?",";","#"].concat(u),h=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=e("qs");function v(e,t,i){if(e&&"object"==typeof e&&e instanceof n)return e;var r=new n;return r.parse(e,t,i),r}n.prototype.parse=function(e,t,i){if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),o=-1!==n&&n<e.indexOf("#")?"?":"#",l=e.split(o);l[0]=l[0].replace(/\\/g,"/");var v=e=l.join(o);if(v=v.trim(),!i&&1===e.split("#").length){var x=a.exec(v);if(x)return this.path=v,this.href=v,this.pathname=x[1],x[2]?(this.search=x[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=s.exec(v);if(_){var b=(_=_[0]).toLowerCase();this.protocol=b,v=v.substr(_.length)}if(i||_||v.match(/^\/\/[^@/]+@[^@/]+/)){var S="//"===v.substr(0,2);!S||_&&m[_]||(v=v.substr(2),this.slashes=!0)}if(!m[_]&&(S||_&&!g[_])){for(var T,w,E=-1,P=0;P<h.length;P++){-1!==(A=v.indexOf(h[P]))&&(-1===E||A<E)&&(E=A)}-1!==(w=-1===E?v.lastIndexOf("@"):v.lastIndexOf("@",E))&&(T=v.slice(0,w),v=v.slice(w+1),this.auth=decodeURIComponent(T)),E=-1;for(P=0;P<c.length;P++){var A;-1!==(A=v.indexOf(c[P]))&&(-1===E||A<E)&&(E=A)}-1===E&&(E=v.length),this.host=v.slice(0,E),v=v.slice(E),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var O=this.hostname.split(/\./),C=(P=0,O.length);P<C;P++){var j=O[P];if(j&&!j.match(d)){for(var R="",I=0,B=j.length;I<B;I++)j.charCodeAt(I)>127?R+="x":R+=j[I];if(!R.match(d)){var D=O.slice(0,P),k=O.slice(P+1),F=j.match(p);F&&(D.push(F[1]),k.unshift(F[2])),k.length&&(v="/"+k.join(".")+v),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=r.toASCII(this.hostname));var L=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+L,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!f[b])for(P=0,C=u.length;P<C;P++){var U=u[P];if(-1!==v.indexOf(U)){var G=encodeURIComponent(U);G===U&&(G=escape(U)),v=v.split(U).join(G)}}var H=v.indexOf("#");-1!==H&&(this.hash=v.substr(H),v=v.slice(0,H));var V=v.indexOf("?");if(-1!==V?(this.search=v.substr(V),this.query=v.substr(V+1),t&&(this.query=y.parse(this.query)),v=v.slice(0,V)):t&&(this.search="",this.query={}),v&&(this.pathname=v),g[b]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){L=this.pathname||"";var W=this.search||"";this.path=L+W}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",i=this.pathname||"",r=this.hash||"",n=!1,s="";this.host?n=e+this.host:this.hostname&&(n=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(s=y.stringify(this.query));var o=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==n?(n="//"+(n||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):n||(n=""),r&&"#"!==r.charAt(0)&&(r="#"+r),o&&"?"!==o.charAt(0)&&(o="?"+o),t+n+(i=i.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(o=o.replace("#","%23"))+r},n.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if("string"==typeof e){var t=new n;t.parse(e,!1,!0),e=t}for(var i=new n,r=Object.keys(this),s=0;s<r.length;s++){var o=r[s];i[o]=this[o]}if(i.hash=e.hash,""===e.href)return i.href=i.format(),i;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),l=0;l<a.length;l++){var u=a[l];"protocol"!==u&&(i[u]=e[u])}return g[i.protocol]&&i.hostname&&!i.pathname&&(i.pathname="/",i.path=i.pathname),i.href=i.format(),i}if(e.protocol&&e.protocol!==i.protocol){if(!g[e.protocol]){for(var c=Object.keys(e),h=0;h<c.length;h++){var d=c[h];i[d]=e[d]}return i.href=i.format(),i}if(i.protocol=e.protocol,e.host||m[e.protocol])i.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),i.pathname=p.join("/")}if(i.search=e.search,i.query=e.query,i.host=e.host||"",i.auth=e.auth,i.hostname=e.hostname||e.host,i.port=e.port,i.pathname||i.search){var f=i.pathname||"",y=i.search||"";i.path=f+y}return i.slashes=i.slashes||e.slashes,i.href=i.format(),i}var v=i.pathname&&"/"===i.pathname.charAt(0),x=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=x||v||i.host&&e.pathname,b=_,S=i.pathname&&i.pathname.split("/")||[],T=(p=e.pathname&&e.pathname.split("/")||[],i.protocol&&!g[i.protocol]);if(T&&(i.hostname="",i.port=null,i.host&&(""===S[0]?S[0]=i.host:S.unshift(i.host)),i.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),_=_&&(""===p[0]||""===S[0])),x)i.host=e.host||""===e.host?e.host:i.host,i.hostname=e.hostname||""===e.hostname?e.hostname:i.hostname,i.search=e.search,i.query=e.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),i.search=e.search,i.query=e.query;else if(null!=e.search){if(T)i.host=S.shift(),i.hostname=i.host,(M=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=M.shift(),i.hostname=M.shift(),i.host=i.hostname);return i.search=e.search,i.query=e.query,null===i.pathname&&null===i.search||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!S.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var w=S.slice(-1)[0],E=(i.host||e.host||S.length>1)&&("."===w||".."===w)||""===w,P=0,A=S.length;A>=0;A--)"."===(w=S[A])?S.splice(A,1):".."===w?(S.splice(A,1),P++):P&&(S.splice(A,1),P--);if(!_&&!b)for(;P--;P)S.unshift("..");!_||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),E&&"/"!==S.join("/").substr(-1)&&S.push("");var M,O=""===S[0]||S[0]&&"/"===S[0].charAt(0);T&&(i.hostname=O?"":S.length?S.shift():"",i.host=i.hostname,(M=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=M.shift(),i.hostname=M.shift(),i.host=i.hostname));return(_=_||i.host&&S.length)&&!O&&S.unshift(""),S.length>0?i.pathname=S.join("/"):(i.pathname=null,i.path=null),null===i.pathname&&null===i.search||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=e.auth||i.auth,i.slashes=i.slashes||e.slashes,i.href=i.format(),i},n.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},i.parse=v,i.resolve=function(e,t){return v(e,!1,!0).resolve(t)},i.resolveObject=function(e,t){return e?v(e,!1,!0).resolveObject(t):t},i.format=function(e){return"string"==typeof e&&(e=v(e)),e instanceof n?e.format():n.prototype.format.call(e)},i.Url=n},{punycode:"oWqx",qs:"wGDy"}],Qkto:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.url=void 0;var r=e("url");const n={parse:r.parse,format:r.format,resolve:r.resolve};i.url=n},{url:"Mej7"}],YPuf:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.path=void 0;var r=e("@pixi/settings");function n(e){if("string"!=typeof e)throw new TypeError(`Path must be a string. Received ${JSON.stringify(e)}`)}function s(e){return e.split("?")[0].split("#")[0]}const o={toPosix(e){return t="\\",i="/",e.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),i);var t,i},isUrl(e){return/^https?:/.test(this.toPosix(e))},isDataUrl:e=>/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e),hasProtocol(e){return/^[^/:]+:\//.test(this.toPosix(e))},getProtocol(e){n(e),e=this.toPosix(e);let t="";const i=/^file:\/\/\//.exec(e),r=/^[^/:]+:\/\//.exec(e),s=/^[^/:]+:\//.exec(e);if(i||r||s){const n=i?.[0]||r?.[0]||s?.[0];t=n,e=e.slice(n.length)}return t},toAbsolute(e,t,i){if(this.isDataUrl(e))return e;const a=s(this.toPosix(t??r.settings.ADAPTER.getBaseUrl())),l=s(this.toPosix(i??this.rootname(a)));if(n(e),(e=this.toPosix(e)).startsWith("/"))return o.join(l,e.slice(1));return this.isAbsolute(e)?e:this.join(a,e)},normalize(e){if(n(e=this.toPosix(e)),0===e.length)return".";let t="";const i=e.startsWith("/");this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length));const r=e.endsWith("/");return(e=function(e,t){let i="",r=0,n=-1,s=0,o=-1;for(let a=0;a<=e.length;++a){if(a<e.length)o=e.charCodeAt(a);else{if(47===o)break;o=47}if(47===o){if(n===a-1||1===s);else if(n!==a-1&&2===s){if(i.length<2||2!==r||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){const e=i.lastIndexOf("/");if(e!==i.length-1){-1===e?(i="",r=0):(i=i.slice(0,e),r=i.length-1-i.lastIndexOf("/")),n=a,s=0;continue}}else if(2===i.length||1===i.length){i="",r=0,n=a,s=0;continue}t&&(i.length>0?i+="/..":i="..",r=2)}else i.length>0?i+=`/${e.slice(n+1,a)}`:i=e.slice(n+1,a),r=a-n-1;n=a,s=0}else 46===o&&-1!==s?++s:s=-1}return i}(e,!1)).length>0&&r&&(e+="/"),i?`/${e}`:t+e},isAbsolute(e){return n(e),e=this.toPosix(e),!!this.hasProtocol(e)||e.startsWith("/")},join(...e){if(0===e.length)return".";let t;for(let i=0;i<e.length;++i){const r=e[i];if(n(r),r.length>0)if(void 0===t)t=r;else{const n=e[i-1]??"";this.extname(n)?t+=`/../${r}`:t+=`/${r}`}}return void 0===t?".":this.normalize(t)},dirname(e){if(n(e),0===e.length)return".";let t=(e=this.toPosix(e)).charCodeAt(0);const i=47===t;let r=-1,s=!0;const o=this.getProtocol(e),a=e;for(let i=(e=e.slice(o.length)).length-1;i>=1;--i)if(t=e.charCodeAt(i),47===t){if(!s){r=i;break}}else s=!1;return-1===r?i?"/":this.isUrl(a)?o+e:o:i&&1===r?"//":o+e.slice(0,r)},rootname(e){n(e);let t="";if(t=(e=this.toPosix(e)).startsWith("/")?"/":this.getProtocol(e),this.isUrl(e)){const i=e.indexOf("/",t.length);t=-1!==i?e.slice(0,i):e,t.endsWith("/")||(t+="/")}return t},basename(e,t){n(e),t&&n(t),e=s(this.toPosix(e));let i,r=0,o=-1,a=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";let n=t.length-1,s=-1;for(i=e.length-1;i>=0;--i){const l=e.charCodeAt(i);if(47===l){if(!a){r=i+1;break}}else-1===s&&(a=!1,s=i+1),n>=0&&(l===t.charCodeAt(n)?-1==--n&&(o=i):(n=-1,o=s))}return r===o?o=s:-1===o&&(o=e.length),e.slice(r,o)}for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!a){r=i+1;break}}else-1===o&&(a=!1,o=i+1);return-1===o?"":e.slice(r,o)},extname(e){n(e);let t=-1,i=0,r=-1,o=!0,a=0;for(let n=(e=s(this.toPosix(e))).length-1;n>=0;--n){const s=e.charCodeAt(n);if(47!==s)-1===r&&(o=!1,r=n+1),46===s?-1===t?t=n:1!==a&&(a=1):-1!==t&&(a=-1);else if(!o){i=n+1;break}}return-1===t||-1===r||0===a||1===a&&t===r-1&&t===i+1?"":e.slice(t,r)},parse(e){n(e);const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;let i=(e=s(this.toPosix(e))).charCodeAt(0);const r=this.isAbsolute(e);let o;t.root=this.rootname(e),o=r||this.hasProtocol(e)?1:0;let a=-1,l=0,u=-1,c=!0,h=e.length-1,d=0;for(;h>=o;--h)if(i=e.charCodeAt(h),47!==i)-1===u&&(c=!1,u=h+1),46===i?-1===a?a=h:1!==d&&(d=1):-1!==a&&(d=-1);else if(!c){l=h+1;break}return-1===a||-1===u||0===d||1===d&&a===u-1&&a===l+1?-1!==u&&(t.base=t.name=0===l&&r?e.slice(1,u):e.slice(l,u)):(0===l&&r?(t.name=e.slice(1,a),t.base=e.slice(1,u)):(t.name=e.slice(l,a),t.base=e.slice(l,u)),t.ext=e.slice(a,u)),t.dir=this.dirname(e),t},sep:"/",delimiter:":"};i.path=o},{"@pixi/settings":"NIYj"}],pcMp:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.deprecation=function(e,t,i=3){if(r[t])return;let n=(new Error).stack;void 0===n||(n=n.split("\n").splice(i).join("\n"),console.groupCollapsed);r[t]=!0};const r={}},{}],xVTt:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.sayHello=function(){(0,r.deprecation)("7.0.0",'sayHello is deprecated, please use Renderer\'s "hello" option')},i.skipHello=function(){(0,r.deprecation)("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")};var r=e("../logging/deprecation.mjs")},{"../logging/deprecation.mjs":"pcMp"}],izTb:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.isWebGLSupported=function(){void 0===n&&(n=function(){const e={stencil:!0,failIfMajorPerformanceCaveat:r.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!r.settings.ADAPTER.getWebGLRenderingContext())return!1;const t=r.settings.ADAPTER.createCanvas();let i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);const n=!!i?.getContextAttributes()?.stencil;if(i){const e=i.getExtension("WEBGL_lose_context");e&&e.loseContext()}return i=null,n}catch(e){return!1}}());return n},e("../settings.mjs");var r=e("@pixi/settings");let n},{"../settings.mjs":"fOKm","@pixi/settings":"NIYj"}],lNIL:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.random=i.getFormat=i.extend=i.colord=i.Colord=void 0;var r={grad:.9,turn:360,rad:360/(2*Math.PI)},n=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},s=function(e,t,i){return void 0===t&&(t=0),void 0===i&&(i=Math.pow(10,t)),Math.round(i*e)/i+0},o=function(e,t,i){return void 0===t&&(t=0),void 0===i&&(i=1),e>i?i:e>t?e:t},a=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},l=function(e){return{r:o(e.r,0,255),g:o(e.g,0,255),b:o(e.b,0,255),a:o(e.a)}},u=function(e){return{r:s(e.r),g:s(e.g),b:s(e.b),a:s(e.a,3)}},c=/^#([0-9a-f]{3,8})$/i,h=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},d=function(e){var t=e.r,i=e.g,r=e.b,n=e.a,s=Math.max(t,i,r),o=s-Math.min(t,i,r),a=o?s===t?(i-r)/o:s===i?2+(r-t)/o:4+(t-i)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:n}},p=function(e){var t=e.h,i=e.s,r=e.v,n=e.a;t=t/360*6,i/=100,r/=100;var s=Math.floor(t),o=r*(1-i),a=r*(1-(t-s)*i),l=r*(1-(1-t+s)*i),u=s%6;return{r:255*[r,a,o,o,l,r][u],g:255*[l,r,r,a,o,o][u],b:255*[o,o,l,r,r,a][u],a:n}},f=function(e){return{h:a(e.h),s:o(e.s,0,100),l:o(e.l,0,100),a:o(e.a)}},m=function(e){return{h:s(e.h),s:s(e.s),l:s(e.l),a:s(e.a,3)}},g=function(e){return p((i=(t=e).s,{h:t.h,s:(i*=((r=t.l)<50?r:100-r)/100)>0?2*i/(r+i)*100:0,v:r+i,a:t.a}));var t,i,r},y=function(e){return{h:(t=d(e)).h,s:(n=(200-(i=t.s))*(r=t.v)/100)>0&&n<200?i*r/100/(n<=100?n:200-n)*100:0,l:n/2,a:t.a};var t,i,r,n},v=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,x=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,b=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,S={string:[[function(e){var t=c.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?s(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?s(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=_.exec(e)||b.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:l({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=v.exec(e)||x.exec(e);if(!t)return null;var i,n,s=f({h:(i=t[1],n=t[2],void 0===n&&(n="deg"),Number(i)*(r[n]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return g(s)},"hsl"]],object:[[function(e){var t=e.r,i=e.g,r=e.b,s=e.a,o=void 0===s?1:s;return n(t)&&n(i)&&n(r)?l({r:Number(t),g:Number(i),b:Number(r),a:Number(o)}):null},"rgb"],[function(e){var t=e.h,i=e.s,r=e.l,s=e.a,o=void 0===s?1:s;if(!n(t)||!n(i)||!n(r))return null;var a=f({h:Number(t),s:Number(i),l:Number(r),a:Number(o)});return g(a)},"hsl"],[function(e){var t=e.h,i=e.s,r=e.v,s=e.a,l=void 0===s?1:s;if(!n(t)||!n(i)||!n(r))return null;var u=function(e){return{h:a(e.h),s:o(e.s,0,100),v:o(e.v,0,100),a:o(e.a)}}({h:Number(t),s:Number(i),v:Number(r),a:Number(l)});return p(u)},"hsv"]]},T=function(e,t){for(var i=0;i<t.length;i++){var r=t[i][0](e);if(r)return[r,t[i][1]]}return[null,void 0]},w=function(e){return"string"==typeof e?T(e.trim(),S.string):"object"==typeof e&&null!==e?T(e,S.object):[null,void 0]},E=function(e,t){var i=y(e);return{h:i.h,s:o(i.s+100*t,0,100),l:i.l,a:i.a}},P=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},A=function(e,t){var i=y(e);return{h:i.h,s:i.s,l:o(i.l+100*t,0,100),a:i.a}},M=function(){function e(e){this.parsed=w(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return s(P(this.rgba),2)},e.prototype.isDark=function(){return P(this.rgba)<.5},e.prototype.isLight=function(){return P(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=u(this.rgba)).r,i=e.g,r=e.b,o=(n=e.a)<1?h(s(255*n)):"","#"+h(t)+h(i)+h(r)+o;var e,t,i,r,n,o},e.prototype.toRgb=function(){return u(this.rgba)},e.prototype.toRgbString=function(){return t=(e=u(this.rgba)).r,i=e.g,r=e.b,(n=e.a)<1?"rgba("+t+", "+i+", "+r+", "+n+")":"rgb("+t+", "+i+", "+r+")";var e,t,i,r,n},e.prototype.toHsl=function(){return m(y(this.rgba))},e.prototype.toHslString=function(){return t=(e=m(y(this.rgba))).h,i=e.s,r=e.l,(n=e.a)<1?"hsla("+t+", "+i+"%, "+r+"%, "+n+")":"hsl("+t+", "+i+"%, "+r+"%)";var e,t,i,r,n},e.prototype.toHsv=function(){return e=d(this.rgba),{h:s(e.h),s:s(e.s),v:s(e.v),a:s(e.a,3)};var e},e.prototype.invert=function(){return O({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),O(E(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),O(E(this.rgba,-e))},e.prototype.grayscale=function(){return O(E(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),O(A(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),O(A(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?O({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):s(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=y(this.rgba);return"number"==typeof e?O({h:e,s:t.s,l:t.l,a:t.a}):s(t.h)},e.prototype.isEqual=function(e){return this.toHex()===O(e).toHex()},e}(),O=function(e){return e instanceof M?e:new M(e)},C=[];i.random=function(){return new M({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})},i.extend=function(e){e.forEach((function(e){C.indexOf(e)<0&&(e(M,S),C.push(e))}))},i.colord=O,i.Colord=M,i.getFormat=function(e){return w(e)[1]}},{}],q9ni:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t){var i={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var n in i)r[i[n]]=n;var s={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var n,o,a=r[this.toHex()];if(a)return a;if(null==t?void 0:t.closest){var l=this.toRgb(),u=1/0,c="black";if(!s.length)for(var h in i)s[h]=new e(i[h]).toRgb();for(var d in i){var p=(n=l,o=s[d],Math.pow(n.r-o.r,2)+Math.pow(n.g-o.g,2)+Math.pow(n.b-o.b,2));p<u&&(u=p,c=d)}return c}},t.string.push([function(t){var r=t.toLowerCase(),n="transparent"===r?"#0000":i[r];return n?new e(n).toRgb():null},"name"])}},{}],l5Lm:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Color=void 0;var r,n=e("colord"),s=(r=e("colord/plugins/names"))&&r.__esModule?r:{default:r};(0,n.extend)([s.default]);const o=class{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof o)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(null===e)throw new Error("Cannot set PIXI.Color#value to null");null!==this._value&&this.isSourceEqual(this._value,e)||(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return"string"==typeof e||"number"==typeof e||e instanceof Number||null===e?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):"object"==typeof e&&null!==e?{...e}:e}isSourceEqual(e,t){const i=typeof e;if(i!==typeof t)return!1;if("number"===i||"string"===i||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length===t.length&&e.every(((e,i)=>e===t[i]));if(null!==e&&null!==t){const i=Object.keys(e),r=Object.keys(t);return i.length===r.length&&i.every((i=>e[i]===t[i]))}return e===t}toRgba(){const[e,t,i,r]=this._components;return{r:e,g:t,b:i,a:r}}toRgb(){const[e,t,i]=this._components;return{r:e,g:t,b:i}}toRgbaString(){const[e,t,i]=this.toUint8RgbArray();return`rgba(${e},${t},${i},${this.alpha})`}toUint8RgbArray(e){const[t,i,r]=this._components;return(e=e??[])[0]=Math.round(255*t),e[1]=Math.round(255*i),e[2]=Math.round(255*r),e}toRgbArray(e){e=e??[];const[t,i,r]=this._components;return e[0]=t,e[1]=i,e[2]=r,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(65280&e)+((255&e)<<16)}multiply(e){const[t,i,r,n]=o.temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=i,this._components[2]*=r,this._components[3]*=n,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(1===e)return(255<<24)+this._int;if(0===e)return t?0:this._int;let i=this._int>>16&255,r=this._int>>8&255,n=255&this._int;return t&&(i=i*e+.5|0,r=r*e+.5|0,n=n*e+.5|0),(255*e<<24)+(i<<16)+(r<<8)+n}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[t,i,r]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(i*e)/e,this._components[2]=Math.round(r*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[t,i,r,n]=this._components;return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e}normalize(e){let t,i,r,s;if(("number"==typeof e||e instanceof Number)&&e>=0&&e<=16777215){t=(e>>16&255)/255,i=(e>>8&255)/255,r=(255&e)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,i,r,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,i,r,s=255]=e,t/=255,i/=255,r/=255,s/=255;else if("string"==typeof e||"object"==typeof e){if("string"==typeof e){const t=o.HEX_PATTERN.exec(e);t&&(e=`#${t[2]}`)}const a=(0,n.colord)(e);a.isValid()&&(({r:t,g:i,b:r,a:s}=a.rgba),t/=255,i/=255,r/=255)}if(void 0===t)throw new Error(`Unable to convert color ${e}`);this._components[0]=t,this._components[1]=i,this._components[2]=r,this._components[3]=s,this.refreshInt()}refreshInt(){this._clamp(this._components);const[e,t,i]=this._components;this._int=(255*e<<16)+(255*t<<8)+(255*i|0)}_clamp(e,t=0,i=1){return"number"==typeof e?Math.min(Math.max(e,t),i):(e.forEach(((r,n)=>{e[n]=Math.min(Math.max(r,t),i)})),e)}};let a=o;i.Color=a,a.shared=new o,a.temp=new o,a.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i},{colord:"lNIL","colord/plugins/names":"q9ni"}],WFJG:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"Color",{enumerable:!0,get:function(){return r.Color}});var r=e("./Color.mjs")},{"./Color.mjs":"l5Lm"}],Ocod:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.hex2rgb=function(e,t=[]){return(0,n.deprecation)("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),r.Color.shared.setValue(e).toRgbArray(t)},i.hex2string=function(e){return(0,n.deprecation)("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),r.Color.shared.setValue(e).toHex()},i.rgb2hex=function(e){return(0,n.deprecation)("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),r.Color.shared.setValue(e).toNumber()},i.string2hex=function(e){return(0,n.deprecation)("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead"),r.Color.shared.setValue(e).toNumber()};var r=e("@pixi/color"),n=e("../logging/deprecation.mjs")},{"@pixi/color":"WFJG","../logging/deprecation.mjs":"pcMp"}],j5fx:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.correctBlendMode=function(e,t){return o[t?1:0][e]},i.premultiplyBlendMode=void 0,i.premultiplyRgba=function(e,t,i,n=!0){return(0,s.deprecation)("7.2.0","utils.premultiplyRgba has moved to Color.premultiply"),r.Color.shared.setValue(e).premultiply(t,n).toArray(i??new Float32Array(4))},i.premultiplyTint=function(e,t){return(0,s.deprecation)("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied"),r.Color.shared.setValue(e).toPremultiplied(t)},i.premultiplyTintToRgba=function(e,t,i,n=!0){return(0,s.deprecation)("7.2.0","utils.premultiplyTintToRgba has moved to Color.premultiply"),r.Color.shared.setValue(e).premultiply(t,n).toArray(i??new Float32Array(4))};var r=e("@pixi/color"),n=e("@pixi/constants"),s=e("../logging/deprecation.mjs");const o=function(){const e=[],t=[];for(let i=0;i<32;i++)e[i]=i,t[i]=i;e[n.BLEND_MODES.NORMAL_NPM]=n.BLEND_MODES.NORMAL,e[n.BLEND_MODES.ADD_NPM]=n.BLEND_MODES.ADD,e[n.BLEND_MODES.SCREEN_NPM]=n.BLEND_MODES.SCREEN,t[n.BLEND_MODES.NORMAL]=n.BLEND_MODES.NORMAL_NPM,t[n.BLEND_MODES.ADD]=n.BLEND_MODES.ADD_NPM,t[n.BLEND_MODES.SCREEN]=n.BLEND_MODES.SCREEN_NPM;const i=[];return i.push(t),i.push(e),i}();i.premultiplyBlendMode=o},{"@pixi/color":"WFJG","@pixi/constants":"GJEO","../logging/deprecation.mjs":"pcMp"}],BCPJ:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.DATA_URI=void 0;i.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i},{}],kavt:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.createIndicesForQuads=function(e,t=null){const i=6*e;if((t=t||new Uint16Array(i)).length!==i)throw new Error(`Out buffer length is incorrect, got ${t.length} and expected ${i}`);for(let e=0,r=0;e<i;e+=6,r+=4)t[e+0]=r+0,t[e+1]=r+1,t[e+2]=r+2,t[e+3]=r+0,t[e+4]=r+2,t[e+5]=r+3;return t}},{}],nrS4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.getBufferType=function(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}},{}],T4UQ:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.interleaveTypedArrays=function(e,t){let i=0,s=0;const o={};for(let r=0;r<e.length;r++)s+=t[r],i+=e[r].length;const a=new ArrayBuffer(4*i);let l=null,u=0;for(let i=0;i<e.length;i++){const c=t[i],h=e[i],d=(0,r.getBufferType)(h);o[d]||(o[d]=new n[d](a)),l=o[d];for(let e=0;e<h.length;e++){l[(e/c|0)*s+u+e%c]=h[e]}u+=c}return new Float32Array(a)};var r=e("./getBufferType.mjs");const n={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array}},{"./getBufferType.mjs":"nrS4"}],iydp:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.isPow2=function(e){return!(e&e-1||!e)},i.log2=function(e){let t=(e>65535?1:0)<<4,i=((e>>>=t)>255?1:0)<<3;return t|=i,i=((e>>>=i)>15?1:0)<<2,t|=i,i=((e>>>=i)>3?1:0)<<1,t|=i,t|(e>>>=i)>>1},i.nextPow2=function(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1}},{}],fPlk:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.removeItems=function(e,t,i){const r=e.length;let n;if(t>=r||0===i)return;const s=r-(i=t+i>r?r-t:i);for(n=t;n<s;++n)e[n]=e[n+i];e.length=s}},{}],uI5V:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.sign=function(e){return 0===e?0:e<0?-1:1}},{}],YH4R:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.uid=function(){return++r};let r=0},{}],Ao2b:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BoundingBox=void 0;const r=class{constructor(e,t,i,r){this.left=e,this.top=t,this.right=i,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let n=r;i.BoundingBox=n,n.EMPTY=new r(0,0,0,0)},{}],TUcp:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.TextureCache=i.ProgramCache=i.BaseTextureCache=void 0,i.clearTextureCache=function(){let e;for(e in r)delete r[e];for(e in n)delete n[e]},i.destroyTextureCache=function(){let e;for(e in r)r[e].destroy();for(e in n)n[e].destroy()};i.ProgramCache={};const r=Object.create(null);i.TextureCache=r;const n=Object.create(null);i.BaseTextureCache=n},{}],nDCC:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasRenderTarget=void 0;var r=e("@pixi/settings");i.CanvasRenderTarget=class{constructor(e,t,i){this._canvas=r.settings.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=i||r.settings.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(null===this._canvas)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}},{"@pixi/settings":"NIYj"}],d3PO:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.getCanvasBoundingBox=function(e){const{width:t,height:i}=e,o=e.getContext("2d",{willReadFrequently:!0});if(null===o)throw new TypeError("Failed to get canvas 2D context");const a=o.getImageData(0,0,t,i).data;let l=0,u=0,c=t-1,h=i-1;for(;u<i&&n(a,t,u);)++u;if(u===i)return r.BoundingBox.EMPTY;for(;n(a,t,h);)--h;for(;s(a,t,l,u,h);)++l;for(;s(a,t,c,u,h);)--c;return++c,++h,new r.BoundingBox(l,u,c,h)};var r=e("./BoundingBox.mjs");function n(e,t,i){for(let r=0,n=4*i*t;r<t;++r,n+=4)if(0!==e[n+3])return!1;return!0}function s(e,t,i,r,n){const s=4*t;for(let t=r,o=r*s+4*i;t<=n;++t,o+=s)if(0!==e[o+3])return!1;return!0}},{"./BoundingBox.mjs":"Ao2b"}],qMlF:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.trimCanvas=function(e){const t=(0,r.getCanvasBoundingBox)(e),{width:i,height:n}=t;let s=null;if(!t.isEmpty()){const r=e.getContext("2d");if(null===r)throw new TypeError("Failed to get canvas 2D context");s=r.getImageData(t.left,t.top,i,n)}return{width:i,height:n,data:s}};var r=e("./getCanvasBoundingBox.mjs")},{"./getCanvasBoundingBox.mjs":"d3PO"}],DOTL:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.decomposeDataUri=function(e){const t=r.DATA_URI.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]};return};var r=e("../const.mjs")},{"../const.mjs":"BCPJ"}],RHdH:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.determineCrossOrigin=function(e,t=globalThis.location){if(e.startsWith("data:"))return"";t=t||globalThis.location,n||(n=document.createElement("a"));n.href=e;const i=r.url.parse(n.href),s=!i.port&&""===t.port||i.port===t.port;if(i.hostname!==t.hostname||!s||i.protocol!==t.protocol)return"anonymous";return""};var r=e("../url.mjs");let n},{"../url.mjs":"Qkto"}],hbq6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.getResolutionOfUrl=function(e,t=1){const i=r.settings.RETINA_PREFIX?.exec(e);if(i)return parseFloat(i[1]);return t},e("../settings.mjs");var r=e("@pixi/settings")},{"../settings.mjs":"fOKm","@pixi/settings":"NIYj"}],PZhk:[function(e,t,i){},{}],vvGD:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"BaseTextureCache",{enumerable:!0,get:function(){return S.BaseTextureCache}}),Object.defineProperty(i,"BoundingBox",{enumerable:!0,get:function(){return b.BoundingBox}}),Object.defineProperty(i,"CanvasRenderTarget",{enumerable:!0,get:function(){return T.CanvasRenderTarget}}),Object.defineProperty(i,"DATA_URI",{enumerable:!0,get:function(){return d.DATA_URI}}),Object.defineProperty(i,"EventEmitter",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(i,"ProgramCache",{enumerable:!0,get:function(){return S.ProgramCache}}),Object.defineProperty(i,"TextureCache",{enumerable:!0,get:function(){return S.TextureCache}}),Object.defineProperty(i,"clearTextureCache",{enumerable:!0,get:function(){return S.clearTextureCache}}),Object.defineProperty(i,"correctBlendMode",{enumerable:!0,get:function(){return h.correctBlendMode}}),Object.defineProperty(i,"createIndicesForQuads",{enumerable:!0,get:function(){return p.createIndicesForQuads}}),Object.defineProperty(i,"decomposeDataUri",{enumerable:!0,get:function(){return P.decomposeDataUri}}),Object.defineProperty(i,"deprecation",{enumerable:!0,get:function(){return _.deprecation}}),Object.defineProperty(i,"destroyTextureCache",{enumerable:!0,get:function(){return S.destroyTextureCache}}),Object.defineProperty(i,"determineCrossOrigin",{enumerable:!0,get:function(){return A.determineCrossOrigin}}),Object.defineProperty(i,"earcut",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(i,"getBufferType",{enumerable:!0,get:function(){return f.getBufferType}}),Object.defineProperty(i,"getCanvasBoundingBox",{enumerable:!0,get:function(){return w.getCanvasBoundingBox}}),Object.defineProperty(i,"getResolutionOfUrl",{enumerable:!0,get:function(){return M.getResolutionOfUrl}}),Object.defineProperty(i,"hex2rgb",{enumerable:!0,get:function(){return c.hex2rgb}}),Object.defineProperty(i,"hex2string",{enumerable:!0,get:function(){return c.hex2string}}),Object.defineProperty(i,"interleaveTypedArrays",{enumerable:!0,get:function(){return m.interleaveTypedArrays}}),Object.defineProperty(i,"isMobile",{enumerable:!0,get:function(){return r.isMobile}}),Object.defineProperty(i,"isPow2",{enumerable:!0,get:function(){return g.isPow2}}),Object.defineProperty(i,"isWebGLSupported",{enumerable:!0,get:function(){return u.isWebGLSupported}}),Object.defineProperty(i,"log2",{enumerable:!0,get:function(){return g.log2}}),Object.defineProperty(i,"nextPow2",{enumerable:!0,get:function(){return g.nextPow2}}),Object.defineProperty(i,"path",{enumerable:!0,get:function(){return a.path}}),Object.defineProperty(i,"premultiplyBlendMode",{enumerable:!0,get:function(){return h.premultiplyBlendMode}}),Object.defineProperty(i,"premultiplyRgba",{enumerable:!0,get:function(){return h.premultiplyRgba}}),Object.defineProperty(i,"premultiplyTint",{enumerable:!0,get:function(){return h.premultiplyTint}}),Object.defineProperty(i,"premultiplyTintToRgba",{enumerable:!0,get:function(){return h.premultiplyTintToRgba}}),Object.defineProperty(i,"removeItems",{enumerable:!0,get:function(){return y.removeItems}}),Object.defineProperty(i,"rgb2hex",{enumerable:!0,get:function(){return c.rgb2hex}}),Object.defineProperty(i,"sayHello",{enumerable:!0,get:function(){return l.sayHello}}),Object.defineProperty(i,"sign",{enumerable:!0,get:function(){return v.sign}}),Object.defineProperty(i,"skipHello",{enumerable:!0,get:function(){return l.skipHello}}),Object.defineProperty(i,"string2hex",{enumerable:!0,get:function(){return c.string2hex}}),Object.defineProperty(i,"trimCanvas",{enumerable:!0,get:function(){return E.trimCanvas}}),Object.defineProperty(i,"uid",{enumerable:!0,get:function(){return x.uid}}),Object.defineProperty(i,"url",{enumerable:!0,get:function(){return o.url}}),e("./settings.mjs");var r=e("@pixi/settings"),n=O(e("eventemitter3")),s=O(e("earcut")),o=e("./url.mjs"),a=e("./path.mjs"),l=e("./browser/hello.mjs"),u=e("./browser/isWebGLSupported.mjs"),c=e("./color/hex.mjs"),h=e("./color/premultiply.mjs"),d=e("./const.mjs"),p=e("./data/createIndicesForQuads.mjs"),f=e("./data/getBufferType.mjs"),m=e("./data/interleaveTypedArrays.mjs"),g=e("./data/pow2.mjs"),y=e("./data/removeItems.mjs"),v=e("./data/sign.mjs"),x=e("./data/uid.mjs"),_=e("./logging/deprecation.mjs"),b=e("./media/BoundingBox.mjs"),S=e("./media/caches.mjs"),T=e("./media/CanvasRenderTarget.mjs"),w=e("./media/getCanvasBoundingBox.mjs"),E=e("./media/trimCanvas.mjs"),P=e("./network/decomposeDataUri.mjs"),A=e("./network/determineCrossOrigin.mjs"),M=e("./network/getResolutionOfUrl.mjs");function O(e){return e&&e.__esModule?e:{default:e}}e("./types/index.mjs")},{"./settings.mjs":"fOKm","@pixi/settings":"NIYj",eventemitter3:"JJlS",earcut:"vwhv","./url.mjs":"Qkto","./path.mjs":"YPuf","./browser/hello.mjs":"xVTt","./browser/isWebGLSupported.mjs":"izTb","./color/hex.mjs":"Ocod","./color/premultiply.mjs":"j5fx","./const.mjs":"BCPJ","./data/createIndicesForQuads.mjs":"kavt","./data/getBufferType.mjs":"nrS4","./data/interleaveTypedArrays.mjs":"T4UQ","./data/pow2.mjs":"iydp","./data/removeItems.mjs":"fPlk","./data/sign.mjs":"uI5V","./data/uid.mjs":"YH4R","./logging/deprecation.mjs":"pcMp","./media/BoundingBox.mjs":"Ao2b","./media/caches.mjs":"TUcp","./media/CanvasRenderTarget.mjs":"nDCC","./media/getCanvasBoundingBox.mjs":"d3PO","./media/trimCanvas.mjs":"qMlF","./network/decomposeDataUri.mjs":"DOTL","./network/determineCrossOrigin.mjs":"RHdH","./network/getResolutionOfUrl.mjs":"hbq6","./types/index.mjs":"PZhk"}],LbpS:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.extensions=i.ExtensionType=void 0;var r=(e=>(e.Renderer="renderer",e.Application="application",e.RendererSystem="renderer-webgl-system",e.RendererPlugin="renderer-webgl-plugin",e.CanvasRendererSystem="renderer-canvas-system",e.CanvasRendererPlugin="renderer-canvas-plugin",e.Asset="asset",e.LoadParser="load-parser",e.ResolveParser="resolve-parser",e.CacheParser="cache-parser",e.DetectionParser="detection-parser",e))(r||{});i.ExtensionType=r;const n=e=>{if("function"==typeof e||"object"==typeof e&&e.extension){if(!e.extension)throw new Error("Extension class must have an extension object");e={..."object"!=typeof e.extension?{type:e.extension}:e.extension,ref:e}}if("object"!=typeof e)throw new Error("Invalid extension type");return"string"==typeof(e={...e}).type&&(e.type=[e.type]),e},s=(e,t)=>n(e).priority??t,o={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...e){return e.map(n).forEach((e=>{e.type.forEach((t=>this._removeHandlers[t]?.(e)))})),this},add(...e){return e.map(n).forEach((e=>{e.type.forEach((t=>{const i=this._addHandlers,r=this._queue;i[t]?i[t](e):(r[t]=r[t]||[],r[t].push(e))}))})),this},handle(e,t,i){const r=this._addHandlers,n=this._removeHandlers;if(r[e]||n[e])throw new Error(`Extension type ${e} already has a handler`);r[e]=t,n[e]=i;const s=this._queue;return s[e]&&(s[e].forEach((e=>t(e))),delete s[e]),this},handleByMap(e,t){return this.handle(e,(e=>{t[e.name]=e.ref}),(e=>{delete t[e.name]}))},handleByList(e,t,i=-1){return this.handle(e,(e=>{t.includes(e.ref)||(t.push(e.ref),t.sort(((e,t)=>s(t,i)-s(e,i))))}),(e=>{const i=t.indexOf(e.ref);-1!==i&&t.splice(i,1)}))}};i.extensions=o},{}],CC0h:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ViewableBuffer=void 0;i.ViewableBuffer=class{constructor(e){"number"==typeof e?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}},{}],UVUt:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.checkMaxIfStatementsInShader=function(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const i=t.createShader(t.FRAGMENT_SHADER);for(;;){const s=r.replace(/%forloop%/gi,n(e));if(t.shaderSource(i,s),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS))break;e=e/2|0}return e};const r=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function n(e){let t="";for(let i=0;i<e;++i)i>0&&(t+="\nelse "),i<e-1&&(t+=`if(test == ${i}.0){}`);return t}},{}],ytrH:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.State=void 0;var r=e("@pixi/constants");class n{constructor(){this.data=0,this.blendMode=r.BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(e){!!(1&this.data)!==e&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(e){!!(2&this.data)!==e&&(this.data^=2)}get culling(){return!!(4&this.data)}set culling(e){!!(4&this.data)!==e&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(e){!!(8&this.data)!==e&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(e){!!(32&this.data)!==e&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(e){!!(16&this.data)!==e&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==r.BLEND_MODES.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new n;return e.depthTest=!1,e.blend=!0,e}}i.State=n},{"@pixi/constants":"GJEO"}],BJ7B:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.INSTALLED=void 0,i.autoDetectResource=function(e,t){if(!e)return null;let i="";if("string"==typeof e){const t=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);t&&(i=t[1].toLowerCase())}for(let n=r.length-1;n>=0;--n){const s=r[n];if(s.test&&s.test(e,i))return new s(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")};const r=[];i.INSTALLED=r},{}],KsKx:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Runner=void 0;class r{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,i,r,n,s,o,a){if(arguments.length>8)throw new Error("max arguments reached");const{name:l,items:u}=this;this._aliasCount++;for(let c=0,h=u.length;c<h;c++)u[c][l](e,t,i,r,n,s,o,a);return u===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return 0===this.items.length}get name(){return this._name}}i.Runner=r,Object.defineProperties(r.prototype,{dispatch:{value:r.prototype.emit},run:{value:r.prototype.emit}})},{}],e7ds:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"Runner",{enumerable:!0,get:function(){return r.Runner}});var r=e("./Runner.mjs")},{"./Runner.mjs":"KsKx"}],cB6Z:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Resource=void 0;var r=e("@pixi/runner");i.Resource=class{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new r.Runner("setRealSize"),this.onUpdate=new r.Runner("update"),this.onError=new r.Runner("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){e===this._width&&t===this._height||(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,i){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}},{"@pixi/runner":"e7ds"}],kgeU:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BufferResource=void 0;var r=e("@pixi/constants"),n=e("./Resource.mjs");class s extends n.Resource{constructor(e,t){const{width:i,height:r}=t||{};if(!i||!r)throw new Error("BufferResource width or height invalid");super(i,r),this.data=e}upload(e,t,i){const n=e.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===r.ALPHA_MODES.UNPACK);const s=t.realWidth,o=t.realHeight;return i.width===s&&i.height===o?n.texSubImage2D(t.target,0,0,0,s,o,t.format,i.type,this.data):(i.width=s,i.height=o,n.texImage2D(t.target,0,i.internalFormat,s,o,0,t.format,i.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}i.BufferResource=s},{"@pixi/constants":"GJEO","./Resource.mjs":"cB6Z"}],WC8m:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BaseTexture=void 0;var r=e("@pixi/constants"),n=e("@pixi/settings"),s=e("@pixi/utils"),o=e("./resources/autoDetectResource.mjs"),a=e("./resources/BufferResource.mjs"),l=e("./resources/Resource.mjs");const u={scaleMode:r.SCALE_MODES.NEAREST,format:r.FORMATS.RGBA,alphaMode:r.ALPHA_MODES.NPM},c=class extends s.EventEmitter{constructor(e=null,t=null){super(),t=Object.assign({},c.defaultOptions,t);const{alphaMode:i,mipmap:r,anisotropicLevel:a,scaleMode:u,width:h,height:d,wrapMode:p,format:f,type:m,target:g,resolution:y,resourceOptions:v}=t;!e||e instanceof l.Resource||((e=(0,o.autoDetectResource)(e,v)).internal=!0),this.resolution=y||n.settings.RESOLUTION,this.width=Math.round((h||0)*this.resolution)/this.resolution,this.height=Math.round((d||0)*this.resolution)/this.resolution,this._mipmap=r,this.anisotropicLevel=a,this._wrapMode=p,this._scaleMode=u,this.format=f,this.type=m,this.target=g,this.alphaMode=i,this.uid=(0,s.uid)(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=h>0&&d>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let i;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,i=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,i=!0),i&&this.dirtyStyleId++,this}setSize(e,t,i){return i=i||this.resolution,this.setRealSize(e*i,t*i,i)}setRealSize(e,t,i){return this.resolution=i||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=(0,s.isPow2)(this.realWidth)&&(0,s.isPow2)(this.realHeight)}setResolution(e){const t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT()),this}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete s.BaseTextureCache[this.cacheId],delete s.TextureCache[this.cacheId],this.cacheId=null),this.dispose(),c.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,t,i=n.settings.STRICT_TEXTURE_CACHE){const r="string"==typeof e;let o=null;if(r)o=e;else{if(!e._pixiId){const i=t?.pixiIdPrefix||"pixiid";e._pixiId=`${i}_${(0,s.uid)()}`}o=e._pixiId}let a=s.BaseTextureCache[o];if(r&&i&&!a)throw new Error(`The cacheId "${o}" does not exist in BaseTextureCache.`);return a||(a=new c(e,t),a.cacheId=o,c.addToCache(a,o)),a}static fromBuffer(e,t,i,n){e=e||new Float32Array(t*i*4);const s=new a.BufferResource(e,{width:t,height:i}),o=e instanceof Float32Array?r.TYPES.FLOAT:r.TYPES.UNSIGNED_BYTE;return new c(s,Object.assign({},u,{type:o},n))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),s.BaseTextureCache[t]&&s.BaseTextureCache[t],s.BaseTextureCache[t]=e)}static removeFromCache(e){if("string"==typeof e){const t=s.BaseTextureCache[e];if(t){const i=t.textureCacheIds.indexOf(e);return i>-1&&t.textureCacheIds.splice(i,1),delete s.BaseTextureCache[e],t}}else if(e?.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete s.BaseTextureCache[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};let h=c;i.BaseTexture=h,h.defaultOptions={mipmap:r.MIPMAP_MODES.POW2,anisotropicLevel:0,scaleMode:r.SCALE_MODES.LINEAR,wrapMode:r.WRAP_MODES.CLAMP,alphaMode:r.ALPHA_MODES.UNPACK,target:r.TARGETS.TEXTURE_2D,format:r.FORMATS.RGBA,type:r.TYPES.UNSIGNED_BYTE},h._globalBatch=0},{"@pixi/constants":"GJEO","@pixi/settings":"NIYj","@pixi/utils":"vvGD","./resources/autoDetectResource.mjs":"BJ7B","./resources/BufferResource.mjs":"kgeU","./resources/Resource.mjs":"cB6Z"}],dBmJ:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BatchDrawCall=void 0;var r=e("@pixi/constants");i.BatchDrawCall=class{constructor(){this.texArray=null,this.blend=0,this.type=r.DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null}}},{"@pixi/constants":"GJEO"}],Sewd:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Buffer=void 0;var r=e("@pixi/constants"),n=e("@pixi/runner");let s=0;class o{constructor(e,t=!0,i=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=t,this.id=s++,this.disposeRunner=new n.Runner("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?r.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER:r.BUFFER_TYPE.ARRAY_BUFFER}get index(){return this.type===r.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new o(e)}}i.Buffer=o},{"@pixi/constants":"GJEO","@pixi/runner":"e7ds"}],S0Qz:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Attribute=void 0;var r=e("@pixi/constants");class n{constructor(e,t=0,i=!1,n=r.TYPES.FLOAT,s,o,a,l=1){this.buffer=e,this.size=t,this.normalized=i,this.type=n,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,t,i,r,s){return new n(e,t,i,r,s)}}i.Attribute=n},{"@pixi/constants":"GJEO"}],SU0j:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.interleaveTypedArrays=function(e,t){let i=0,s=0;const o={};for(let r=0;r<e.length;r++)s+=t[r],i+=e[r].length;const a=new ArrayBuffer(4*i);let l=null,u=0;for(let i=0;i<e.length;i++){const c=t[i],h=e[i],d=(0,r.getBufferType)(h);o[d]||(o[d]=new n[d](a)),l=o[d];for(let e=0;e<h.length;e++){l[(e/c|0)*s+u+e%c]=h[e]}u+=c}return new Float32Array(a)};var r=e("@pixi/utils");const n={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array}},{"@pixi/utils":"vvGD"}],Siyo:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Geometry=void 0;var r=e("@pixi/constants"),n=e("@pixi/runner"),s=e("@pixi/utils"),o=e("./Attribute.mjs"),a=e("./Buffer.mjs"),l=e("./utils/interleaveTypedArrays.mjs");const u={5126:4,5123:2,5121:1};let c=0;const h={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array};class d{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=c++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new n.Runner("disposeGeometry"),this.refCount=0}addAttribute(e,t,i=0,r=!1,n,s,l,u=!1){if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof a.Buffer||(t instanceof Array&&(t=new Float32Array(t)),t=new a.Buffer(t));const c=e.split("|");if(c.length>1){for(let e=0;e<c.length;e++)this.addAttribute(c[e],t,i,r,n);return this}let h=this.buffers.indexOf(t);return-1===h&&(this.buffers.push(t),h=this.buffers.length-1),this.attributes[e]=new o.Attribute(h,i,r,n,s,l,u),this.instanced=this.instanced||u,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof a.Buffer||(e instanceof Array&&(e=new Uint16Array(e)),e=new a.Buffer(e)),e.type=r.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;const e=[],t=[],i=new a.Buffer;let r;for(r in this.attributes){const i=this.attributes[r],n=this.buffers[i.buffer];e.push(n.data),t.push(i.size*u[i.type]/4),i.buffer=0}for(i.data=(0,l.interleaveTypedArrays)(e,t),r=0;r<this.buffers.length;r++)this.buffers[r]!==this.indexBuffer&&this.buffers[r].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new d;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new a.Buffer(this.buffers[t].data.slice(0));for(const t in this.attributes){const i=this.attributes[t];e.attributes[t]=new o.Attribute(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=r.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER),e}static merge(e){const t=new d,i=[],n=[],o=[];let l;for(let t=0;t<e.length;t++){l=e[t];for(let e=0;e<l.buffers.length;e++)n[e]=n[e]||0,n[e]+=l.buffers[e].data.length,o[e]=0}for(let e=0;e<l.buffers.length;e++)i[e]=new(h[(0,s.getBufferType)(l.buffers[e].data)])(n[e]),t.buffers[e]=new a.Buffer(i[e]);for(let t=0;t<e.length;t++){l=e[t];for(let e=0;e<l.buffers.length;e++)i[e].set(l.buffers[e].data,o[e]),o[e]+=l.buffers[e].data.length}if(t.attributes=l.attributes,l.indexBuffer){t.indexBuffer=t.buffers[l.buffers.indexOf(l.indexBuffer)],t.indexBuffer.type=r.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;let i=0,n=0,s=0,o=0;for(let e=0;e<l.buffers.length;e++)if(l.buffers[e]!==l.indexBuffer){o=e;break}for(const e in l.attributes){const t=l.attributes[e];(0|t.buffer)===o&&(n+=t.size*u[t.type]/4)}for(let r=0;r<e.length;r++){const a=e[r].indexBuffer.data;for(let e=0;e<a.length;e++)t.indexBuffer.data[e+s]+=i;i+=e[r].buffers[o].data.length/n,s+=a.length}}return t}}i.Geometry=d},{"@pixi/constants":"GJEO","@pixi/runner":"e7ds","@pixi/utils":"vvGD","./Attribute.mjs":"S0Qz","./Buffer.mjs":"Sewd","./utils/interleaveTypedArrays.mjs":"SU0j"}],eR9o:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BatchGeometry=void 0;var r=e("@pixi/constants"),n=e("../geometry/Buffer.mjs"),s=e("../geometry/Geometry.mjs");class o extends s.Geometry{constructor(e=!1){super(),this._buffer=new n.Buffer(null,e,!1),this._indexBuffer=new n.Buffer(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,r.TYPES.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,r.TYPES.FLOAT).addAttribute("aColor",this._buffer,4,!0,r.TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,r.TYPES.FLOAT).addIndex(this._indexBuffer)}}i.BatchGeometry=o},{"@pixi/constants":"GJEO","../geometry/Buffer.mjs":"Sewd","../geometry/Geometry.mjs":"Siyo"}],QM30:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.SHAPES=i.RAD_TO_DEG=i.PI_2=i.DEG_TO_RAD=void 0;const r=2*Math.PI;i.PI_2=r;const n=180/Math.PI;i.RAD_TO_DEG=n;const s=Math.PI/180;i.DEG_TO_RAD=s;var o=(e=>(e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC",e))(o||{});i.SHAPES=o},{}],aU7R:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Point=void 0;class r{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new r(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}i.Point=r},{}],ZDo2:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Rectangle=void 0;var r=e("../const.mjs"),n=e("../Point.mjs");const s=[new n.Point,new n.Point,new n.Point,new n.Point];class o{constructor(e=0,t=0,i=0,n=0){this.x=Number(e),this.y=Number(t),this.width=Number(i),this.height=Number(n),this.type=r.SHAPES.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new o(0,0,0,0)}clone(){return new o(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return!(this.width<=0||this.height<=0)&&(e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height)}intersects(e,t){if(!t){const t=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=t)return!1;const i=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>i}const i=this.left,r=this.right,n=this.top,o=this.bottom;if(r<=i||o<=n)return!1;const a=s[0].set(e.left,e.top),l=s[1].set(e.left,e.bottom),u=s[2].set(e.right,e.top),c=s[3].set(e.right,e.bottom);if(u.x<=a.x||l.y<=a.y)return!1;const h=Math.sign(t.a*t.d-t.b*t.c);if(0===h)return!1;if(t.apply(a,a),t.apply(l,l),t.apply(u,u),t.apply(c,c),Math.max(a.x,l.x,u.x,c.x)<=i||Math.min(a.x,l.x,u.x,c.x)>=r||Math.max(a.y,l.y,u.y,c.y)<=n||Math.min(a.y,l.y,u.y,c.y)>=o)return!1;const d=h*(l.y-a.y),p=h*(a.x-l.x),f=d*i+p*n,m=d*r+p*n,g=d*i+p*o,y=d*r+p*o;if(Math.max(f,m,g,y)<=d*a.x+p*a.y||Math.min(f,m,g,y)>=d*c.x+p*c.y)return!1;const v=h*(a.y-u.y),x=h*(u.x-a.x),_=v*i+x*n,b=v*r+x*n,S=v*i+x*o,T=v*r+x*o;return!(Math.max(_,b,S,T)<=v*a.x+x*a.y||Math.min(_,b,S,T)>=v*c.x+x*c.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this}fit(e){const t=Math.max(this.x,e.x),i=Math.min(this.x+this.width,e.x+e.width),r=Math.max(this.y,e.y),n=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(i-t,0),this.y=r,this.height=Math.max(n-r,0),this}ceil(e=1,t=.001){const i=Math.ceil((this.x+this.width-t)*e)/e,r=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=i-this.x,this.height=r-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),i=Math.max(this.x+this.width,e.x+e.width),r=Math.min(this.y,e.y),n=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=i-t,this.y=r,this.height=n-r,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}i.Rectangle=o},{"../const.mjs":"QM30","../Point.mjs":"aU7R"}],tcB9:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Circle=void 0;var r=e("../const.mjs"),n=e("./Rectangle.mjs");class s{constructor(e=0,t=0,i=0){this.x=e,this.y=t,this.radius=i,this.type=r.SHAPES.CIRC}clone(){return new s(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const i=this.radius*this.radius;let r=this.x-e,n=this.y-t;return r*=r,n*=n,r+n<=i}getBounds(){return new n.Rectangle(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}i.Circle=s},{"../const.mjs":"QM30","./Rectangle.mjs":"ZDo2"}],HON3:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Ellipse=void 0;var r=e("../const.mjs"),n=e("./Rectangle.mjs");class s{constructor(e=0,t=0,i=0,n=0){this.x=e,this.y=t,this.width=i,this.height=n,this.type=r.SHAPES.ELIP}clone(){return new s(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let i=(e-this.x)/this.width,r=(t-this.y)/this.height;return i*=i,r*=r,i+r<=1}getBounds(){return new n.Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}i.Ellipse=s},{"../const.mjs":"QM30","./Rectangle.mjs":"ZDo2"}],VmVT:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Polygon=void 0;var r=e("../const.mjs");class n{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if("number"!=typeof t[0]){const e=[];for(let i=0,r=t.length;i<r;i++)e.push(t[i].x,t[i].y);t=e}this.points=t,this.type=r.SHAPES.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),t=new n(e);return t.closeStroke=this.closeStroke,t}contains(e,t){let i=!1;const r=this.points.length/2;for(let n=0,s=r-1;n<r;s=n++){const r=this.points[2*n],o=this.points[2*n+1],a=this.points[2*s],l=this.points[2*s+1];o>t!=l>t&&e<(t-o)/(l-o)*(a-r)+r&&(i=!i)}return i}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce(((e,t)=>`${e}, ${t}`),"")}]`}}i.Polygon=n},{"../const.mjs":"QM30"}],vB44:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.RoundedRectangle=void 0;var r=e("../const.mjs");class n{constructor(e=0,t=0,i=0,n=0,s=20){this.x=e,this.y=t,this.width=i,this.height=n,this.radius=s,this.type=r.SHAPES.RREC}clone(){return new n(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+i&&t<=this.y+this.height-i||e>=this.x+i&&e<=this.x+this.width-i)return!0;let r=e-(this.x+i),n=t-(this.y+i);const s=i*i;if(r*r+n*n<=s)return!0;if(r=e-(this.x+this.width-i),r*r+n*n<=s)return!0;if(n=t-(this.y+this.height-i),r*r+n*n<=s)return!0;if(r=e-(this.x+i),r*r+n*n<=s)return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}i.RoundedRectangle=n},{"../const.mjs":"QM30"}],gFHN:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Matrix=void 0;var r=e("./const.mjs"),n=e("./Point.mjs");class s{constructor(e=1,t=0,i=0,r=1,n=0,s=0){this.array=null,this.a=e,this.b=t,this.c=i,this.d=r,this.tx=n,this.ty=s}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,i,r,n,s){return this.a=e,this.b=t,this.c=i,this.d=r,this.tx=n,this.ty=s,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const i=t||this.array;return e?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i}apply(e,t){t=t||new n.Point;const i=e.x,r=e.y;return t.x=this.a*i+this.c*r+this.tx,t.y=this.b*i+this.d*r+this.ty,t}applyInverse(e,t){t=t||new n.Point;const i=1/(this.a*this.d+this.c*-this.b),r=e.x,s=e.y;return t.x=this.d*i*r+-this.c*i*s+(this.ty*this.c-this.tx*this.d)*i,t.y=this.a*i*s+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),i=Math.sin(e),r=this.a,n=this.c,s=this.tx;return this.a=r*t-this.b*i,this.b=r*i+this.b*t,this.c=n*t-this.d*i,this.d=n*i+this.d*t,this.tx=s*t-this.ty*i,this.ty=s*i+this.ty*t,this}append(e){const t=this.a,i=this.b,r=this.c,n=this.d;return this.a=e.a*t+e.b*r,this.b=e.a*i+e.b*n,this.c=e.c*t+e.d*r,this.d=e.c*i+e.d*n,this.tx=e.tx*t+e.ty*r+this.tx,this.ty=e.tx*i+e.ty*n+this.ty,this}setTransform(e,t,i,r,n,s,o,a,l){return this.a=Math.cos(o+l)*n,this.b=Math.sin(o+l)*n,this.c=-Math.sin(o-a)*s,this.d=Math.cos(o-a)*s,this.tx=e-(i*this.a+r*this.c),this.ty=t-(i*this.b+r*this.d),this}prepend(e){const t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){const t=this.a,i=this.c;this.a=t*e.a+this.b*e.c,this.b=t*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,i=this.b,n=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-n,s),l=Math.atan2(i,t),u=Math.abs(a+l);return u<1e-5||Math.abs(r.PI_2-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(t*t+i*i),e.scale.y=Math.sqrt(n*n+s*s),e.position.x=this.tx+(o.x*t+o.y*n),e.position.y=this.ty+(o.x*i+o.y*s),e}invert(){const e=this.a,t=this.b,i=this.c,r=this.d,n=this.tx,s=e*r-t*i;return this.a=r/s,this.b=-t/s,this.c=-i/s,this.d=e/s,this.tx=(i*this.ty-r*n)/s,this.ty=-(e*this.ty-t*n)/s,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new s;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new s}static get TEMP_MATRIX(){return new s}}i.Matrix=s},{"./const.mjs":"QM30","./Point.mjs":"aU7R"}],EUVb:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.groupD8=void 0;var r=e("./Matrix.mjs");const n=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],s=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],o=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],a=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],l=[],u=[],c=Math.sign;!function(){for(let e=0;e<16;e++){const t=[];l.push(t);for(let i=0;i<16;i++){const r=c(n[e]*n[i]+o[e]*s[i]),l=c(s[e]*n[i]+a[e]*s[i]),u=c(n[e]*o[i]+o[e]*a[i]),h=c(s[e]*o[i]+a[e]*a[i]);for(let e=0;e<16;e++)if(n[e]===r&&s[e]===l&&o[e]===u&&a[e]===h){t.push(e);break}}}for(let e=0;e<16;e++){const t=new r.Matrix;t.set(n[e],s[e],o[e],a[e],0,0),u.push(t)}}();const h={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:e=>n[e],uY:e=>s[e],vX:e=>o[e],vY:e=>a[e],inv:e=>8&e?15&e:7&-e,add:(e,t)=>l[e][t],sub:(e,t)=>l[e][h.inv(t)],rotate180:e=>4^e,isVertical:e=>2==(3&e),byDirection:(e,t)=>2*Math.abs(e)<=Math.abs(t)?t>=0?h.S:h.N:2*Math.abs(t)<=Math.abs(e)?e>0?h.E:h.W:t>0?e>0?h.SE:h.SW:e>0?h.NE:h.NW,matrixAppendRotationInv:(e,t,i=0,r=0)=>{const n=u[h.inv(t)];n.tx=i,n.ty=r,e.append(n)}};i.groupD8=h},{"./Matrix.mjs":"gFHN"}],HTNA:[function(e,t,i){},{}],RYH5:[function(e,t,i){},{}],NMC2:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ObservablePoint=void 0;class r{constructor(e,t,i=0,r=0){this._x=i,this._y=r,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new r(e,t,this._x,this._y)}set(e=0,t=e){return this._x===e&&this._y===t||(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}i.ObservablePoint=r},{}],RgfL:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Transform=void 0;var r=e("./Matrix.mjs"),n=e("./ObservablePoint.mjs");const s=class{constructor(){this.worldTransform=new r.Matrix,this.localTransform=new r.Matrix,this.position=new n.ObservablePoint(this.onChange,this,0,0),this.scale=new n.ObservablePoint(this.onChange,this,1,1),this.pivot=new n.ObservablePoint(this.onChange,this,0,0),this.skew=new n.ObservablePoint(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(e){const t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){const i=e.worldTransform,r=this.worldTransform;r.a=t.a*i.a+t.b*i.c,r.b=t.a*i.b+t.b*i.d,r.c=t.c*i.a+t.d*i.c,r.d=t.c*i.b+t.d*i.d,r.tx=t.tx*i.a+t.ty*i.c+i.tx,r.ty=t.tx*i.b+t.ty*i.d+i.ty,this._parentID=e._worldID,this._worldID++}}setFromMatrix(e){e.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}};let o=s;i.Transform=o,o.IDENTITY=new s},{"./Matrix.mjs":"gFHN","./ObservablePoint.mjs":"NMC2"}],ua9t:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"Circle",{enumerable:!0,get:function(){return r.Circle}}),Object.defineProperty(i,"DEG_TO_RAD",{enumerable:!0,get:function(){return p.DEG_TO_RAD}}),Object.defineProperty(i,"Ellipse",{enumerable:!0,get:function(){return n.Ellipse}}),Object.defineProperty(i,"Matrix",{enumerable:!0,get:function(){return u.Matrix}}),Object.defineProperty(i,"ObservablePoint",{enumerable:!0,get:function(){return c.ObservablePoint}}),Object.defineProperty(i,"PI_2",{enumerable:!0,get:function(){return p.PI_2}}),Object.defineProperty(i,"Point",{enumerable:!0,get:function(){return h.Point}}),Object.defineProperty(i,"Polygon",{enumerable:!0,get:function(){return s.Polygon}}),Object.defineProperty(i,"RAD_TO_DEG",{enumerable:!0,get:function(){return p.RAD_TO_DEG}}),Object.defineProperty(i,"Rectangle",{enumerable:!0,get:function(){return o.Rectangle}}),Object.defineProperty(i,"RoundedRectangle",{enumerable:!0,get:function(){return a.RoundedRectangle}}),Object.defineProperty(i,"SHAPES",{enumerable:!0,get:function(){return p.SHAPES}}),Object.defineProperty(i,"Transform",{enumerable:!0,get:function(){return d.Transform}}),Object.defineProperty(i,"groupD8",{enumerable:!0,get:function(){return l.groupD8}});var r=e("./shapes/Circle.mjs"),n=e("./shapes/Ellipse.mjs"),s=e("./shapes/Polygon.mjs"),o=e("./shapes/Rectangle.mjs"),a=e("./shapes/RoundedRectangle.mjs"),l=e("./groupD8.mjs");e("./IPoint.mjs"),e("./IPointData.mjs");var u=e("./Matrix.mjs"),c=e("./ObservablePoint.mjs"),h=e("./Point.mjs"),d=e("./Transform.mjs"),p=e("./const.mjs")},{"./shapes/Circle.mjs":"tcB9","./shapes/Ellipse.mjs":"HON3","./shapes/Polygon.mjs":"VmVT","./shapes/Rectangle.mjs":"ZDo2","./shapes/RoundedRectangle.mjs":"vB44","./groupD8.mjs":"EUVb","./IPoint.mjs":"HTNA","./IPointData.mjs":"RYH5","./Matrix.mjs":"gFHN","./ObservablePoint.mjs":"NMC2","./Point.mjs":"aU7R","./Transform.mjs":"RgfL","./const.mjs":"QM30"}],nhxH:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},{}],wkJN:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},{}],Yec3:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.compileShader=function(e,t,i){const r=e.createShader(t);return e.shaderSource(r,i),e.compileShader(r),r}},{}],HHSG:[function(e,t,i){"use strict";function r(e){const t=new Array(e);for(let e=0;e<t.length;e++)t[e]=!1;return t}Object.defineProperty(i,"__esModule",{value:!0}),i.defaultValue=function(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return r(2*t);case"bvec3":return r(3*t);case"bvec4":return r(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}},{}],e3dY:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.uniformParsers=void 0;i.uniformParsers=[{test:e=>"float"===e.type&&1===e.size&&!e.isArray,code:e=>`\n            if(uv["${e}"] !== ud["${e}"].value)\n            {\n                ud["${e}"].value = uv["${e}"]\n                gl.uniform1f(ud["${e}"].location, uv["${e}"])\n            }\n            `},{test:(e,t)=>!("sampler2D"!==e.type&&"samplerCube"!==e.type&&"sampler2DArray"!==e.type||1!==e.size||e.isArray||null!=t&&void 0===t.castToBaseTexture),code:e=>`t = syncData.textureCount++;\n\n            renderer.texture.bind(uv["${e}"], t);\n\n            if(ud["${e}"].value !== t)\n            {\n                ud["${e}"].value = t;\n                gl.uniform1i(ud["${e}"].location, t);\n; // eslint-disable-line max-len\n            }`},{test:(e,t)=>"mat3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.a,code:e=>`\n            gl.uniformMatrix3fv(ud["${e}"].location, false, uv["${e}"].toArray(true));\n            `,codeUbo:e=>`\n                var ${e}_matrix = uv.${e}.toArray(true);\n\n                data[offset] = ${e}_matrix[0];\n                data[offset+1] = ${e}_matrix[1];\n                data[offset+2] = ${e}_matrix[2];\n        \n                data[offset + 4] = ${e}_matrix[3];\n                data[offset + 5] = ${e}_matrix[4];\n                data[offset + 6] = ${e}_matrix[5];\n        \n                data[offset + 8] = ${e}_matrix[6];\n                data[offset + 9] = ${e}_matrix[7];\n                data[offset + 10] = ${e}_matrix[8];\n            `},{test:(e,t)=>"vec2"===e.type&&1===e.size&&!e.isArray&&void 0!==t.x,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["${e}"].location, v.x, v.y);\n                }`,codeUbo:e=>`\n                v = uv.${e};\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            `},{test:e=>"vec2"===e.type&&1===e.size&&!e.isArray,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["${e}"].location, v[0], v[1]);\n                }\n            `},{test:(e,t)=>"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.width,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["${e}"].location, v.x, v.y, v.width, v.height)\n                }`,codeUbo:e=>`\n                    v = uv.${e};\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                `},{test:(e,t)=>"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["${e}"].location, v.red, v.green, v.blue, v.alpha)\n                }`,codeUbo:e=>`\n                    v = uv.${e};\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                `},{test:(e,t)=>"vec3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["${e}"].location, v.red, v.green, v.blue)\n                }`,codeUbo:e=>`\n                    v = uv.${e};\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                `},{test:e=>"vec4"===e.type&&1===e.size&&!e.isArray,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["${e}"].location, v[0], v[1], v[2], v[3])\n                }`}]},{}],eawc:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.generateUniformsSync=function(e,t){const i=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(const o in e.uniforms){const a=t[o];if(!a){e.uniforms[o]?.group&&(e.uniforms[o].ubo?i.push(`\n                        renderer.shader.syncUniformBufferGroup(uv.${o}, '${o}');\n                    `):i.push(`\n                        renderer.shader.syncUniformGroup(uv.${o}, syncData);\n                    `));continue}const l=e.uniforms[o];let u=!1;for(let e=0;e<r.uniformParsers.length;e++)if(r.uniformParsers[e].test(a,l)){i.push(r.uniformParsers[e].code(o,l)),u=!0;break}if(!u){const e=(1!==a.size||a.isArray?s:n)[a.type].replace("location",`ud["${o}"].location`);i.push(`\n            cu = ud["${o}"];\n            cv = cu.value;\n            v = uv["${o}"];\n            ${e};`)}}return new Function("ud","uv","renderer","syncData",i.join("\n"))};var r=e("./uniformParsers.mjs");const n={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},s={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"}},{"./uniformParsers.mjs":"e3dY"}],FVJc:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.getTestContext=function(){if(o===s||o?.isContextLost()){const e=n.settings.ADAPTER.createCanvas();let t;n.settings.PREFER_ENV>=r.ENV.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),o=t}return o};var r=e("@pixi/constants"),n=e("@pixi/settings");const s={};let o=s},{"@pixi/constants":"GJEO","@pixi/settings":"NIYj"}],z9Xk:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.getMaxFragmentPrecision=function(){if(!s){s=r.PRECISION.MEDIUM;const e=(0,n.getTestContext)();if(e&&e.getShaderPrecisionFormat){const t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);s=t.precision?r.PRECISION.HIGH:r.PRECISION.MEDIUM}}return s};var r=e("@pixi/constants"),n=e("./getTestContext.mjs");let s},{"@pixi/constants":"GJEO","./getTestContext.mjs":"FVJc"}],h6Sl:[function(e,t,i){"use strict";function r(e,t){const i=e.getShaderSource(t).split("\n").map(((e,t)=>`${t}: ${e}`)),r=e.getShaderInfoLog(t).split("\n"),n={},s=r.map((e=>parseFloat(e.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1")))).filter((e=>!(!e||n[e])&&(n[e]=!0,!0))),o=[""];s.forEach((e=>{i[e-1]=`%c${i[e-1]}%c`,o.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));const a=i.join("\n");o[0]=a}Object.defineProperty(i,"__esModule",{value:!0}),i.logProgramError=function(e,t,i,n){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(i,e.COMPILE_STATUS)||r(e,i),e.getShaderParameter(n,e.COMPILE_STATUS)||r(e,n),e.getProgramInfoLog(t))}},{}],WO5d:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.mapSize=function(e){return r[e]};const r={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1}},{}],NCqU:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.mapType=function(e,t){if(!r){const t=Object.keys(n);r={};for(let i=0;i<t.length;++i){const s=t[i];r[e[s]]=n[s]}}return r[t]};let r=null;const n={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"}},{}],qeXP:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.setPrecision=function(e,t,i){if("precision"!==e.substring(0,9)){let n=t;return t===r.PRECISION.HIGH&&i!==r.PRECISION.HIGH&&(n=r.PRECISION.MEDIUM),`precision ${n} float;\n${e}`}if(i!==r.PRECISION.HIGH&&"precision highp"===e.substring(0,15))return e.replace("precision highp","precision mediump");return e};var r=e("@pixi/constants")},{"@pixi/constants":"GJEO"}],sdRa:[function(e,t,i){"use strict";let r;Object.defineProperty(i,"__esModule",{value:!0}),i.unsafeEvalSupported=function(){if("boolean"==typeof r)return r;try{const e=new Function("param1","param2","param3","return param1[param2] === param3;");r=!0===e({a:"b"},"a","b")}catch(e){r=!1}return r}},{}],wWmT:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"checkMaxIfStatementsInShader",{enumerable:!0,get:function(){return r.checkMaxIfStatementsInShader}}),Object.defineProperty(i,"compileShader",{enumerable:!0,get:function(){return n.compileShader}}),Object.defineProperty(i,"defaultValue",{enumerable:!0,get:function(){return s.defaultValue}}),Object.defineProperty(i,"generateUniformsSync",{enumerable:!0,get:function(){return o.generateUniformsSync}}),Object.defineProperty(i,"getMaxFragmentPrecision",{enumerable:!0,get:function(){return a.getMaxFragmentPrecision}}),Object.defineProperty(i,"getTestContext",{enumerable:!0,get:function(){return l.getTestContext}}),Object.defineProperty(i,"logProgramError",{enumerable:!0,get:function(){return u.logProgramError}}),Object.defineProperty(i,"mapSize",{enumerable:!0,get:function(){return c.mapSize}}),Object.defineProperty(i,"mapType",{enumerable:!0,get:function(){return h.mapType}}),Object.defineProperty(i,"setPrecision",{enumerable:!0,get:function(){return d.setPrecision}}),Object.defineProperty(i,"uniformParsers",{enumerable:!0,get:function(){return p.uniformParsers}}),Object.defineProperty(i,"unsafeEvalSupported",{enumerable:!0,get:function(){return f.unsafeEvalSupported}});var r=e("./checkMaxIfStatementsInShader.mjs"),n=e("./compileShader.mjs"),s=e("./defaultValue.mjs"),o=e("./generateUniformsSync.mjs"),a=e("./getMaxFragmentPrecision.mjs"),l=e("./getTestContext.mjs"),u=e("./logProgramError.mjs"),c=e("./mapSize.mjs"),h=e("./mapType.mjs"),d=e("./setPrecision.mjs"),p=e("./uniformParsers.mjs"),f=e("./unsafeEvalSupported.mjs")},{"./checkMaxIfStatementsInShader.mjs":"UVUt","./compileShader.mjs":"Yec3","./defaultValue.mjs":"HHSG","./generateUniformsSync.mjs":"eawc","./getMaxFragmentPrecision.mjs":"z9Xk","./getTestContext.mjs":"FVJc","./logProgramError.mjs":"h6Sl","./mapSize.mjs":"WO5d","./mapType.mjs":"NCqU","./setPrecision.mjs":"qeXP","./uniformParsers.mjs":"e3dY","./unsafeEvalSupported.mjs":"sdRa"}],w73G:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Program=void 0;var r=e("@pixi/constants"),n=e("@pixi/utils"),s=u(e("./defaultProgram.mjs")),o=u(e("./defaultProgram2.mjs"));e("./utils/index.mjs");var a=e("./utils/setPrecision.mjs"),l=e("./utils/getMaxFragmentPrecision.mjs");function u(e){return e&&e.__esModule?e:{default:e}}let c=0;const h={},d=class{constructor(e,t,i="pixi-shader",n={}){this.extra={},this.id=c++,this.vertexSrc=e||d.defaultVertexSrc,this.fragmentSrc=t||d.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),h[i]?(h[i]++,i+=`-${h[i]}`):h[i]=1,this.vertexSrc=`#define SHADER_NAME ${i}\n${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${i}\n${this.fragmentSrc}`,this.vertexSrc=(0,a.setPrecision)(this.vertexSrc,d.defaultVertexPrecision,r.PRECISION.HIGH),this.fragmentSrc=(0,a.setPrecision)(this.fragmentSrc,d.defaultFragmentPrecision,(0,l.getMaxFragmentPrecision)())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return o.default}static get defaultFragmentSrc(){return s.default}static from(e,t,i){const r=e+t;let s=n.ProgramCache[r];return s||(n.ProgramCache[r]=s=new d(e,t,i)),s}};let p=d;i.Program=p,p.defaultVertexPrecision=r.PRECISION.HIGH,p.defaultFragmentPrecision=n.isMobile.apple.device?r.PRECISION.HIGH:r.PRECISION.MEDIUM},{"@pixi/constants":"GJEO","@pixi/utils":"vvGD","./defaultProgram.mjs":"nhxH","./defaultProgram2.mjs":"wkJN","./utils/index.mjs":"wWmT","./utils/setPrecision.mjs":"qeXP","./utils/getMaxFragmentPrecision.mjs":"z9Xk"}],bYSX:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.UniformGroup=void 0;var r=e("@pixi/constants"),n=e("../geometry/Buffer.mjs");let s=0;class o{constructor(e,t,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=s++,this.static=!!t,this.ubo=!!i,e instanceof n.Buffer?(this.buffer=e,this.buffer.type=r.BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new n.Buffer(new Float32Array(1)),this.buffer.type=r.BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,i){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[e]=new o(t,i)}static from(e,t,i){return new o(e,t,i)}static uboFrom(e,t){return new o(e,t??!0,!0)}}i.UniformGroup=o},{"@pixi/constants":"GJEO","../geometry/Buffer.mjs":"Sewd"}],MbbR:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Shader=void 0;var r=e("@pixi/runner"),n=e("./Program.mjs"),s=e("./UniformGroup.mjs");class o{constructor(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof s.UniformGroup?this.uniformGroup=t:this.uniformGroup=new s.UniformGroup(t):this.uniformGroup=new s.UniformGroup({}),this.disposeRunner=new r.Runner("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const i in t.uniforms){const r=t.uniforms[i];if(r.group&&this.checkUniformExists(e,r))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,i){const r=n.Program.from(e,t);return new o(r,i)}}i.Shader=o},{"@pixi/runner":"e7ds","./Program.mjs":"w73G","./UniformGroup.mjs":"bYSX"}],Rtlc:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BatchShaderGenerator=void 0;var r=e("@pixi/math"),n=e("../shader/Program.mjs"),s=e("../shader/Shader.mjs"),o=e("../shader/UniformGroup.mjs");i.BatchShaderGenerator=class{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const t=new Int32Array(e);for(let i=0;i<e;i++)t[i]=i;this.defaultGroupCache[e]=o.UniformGroup.from({uSamplers:t},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new n.Program(this.vertexSrc,i)}const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new r.Matrix,default:this.defaultGroupCache[e]};return new s.Shader(this.programCache[e],t)}generateSampleSrc(e){let t="";t+="\n",t+="\n";for(let i=0;i<e;i++)i>0&&(t+="\nelse "),i<e-1&&(t+=`if(vTextureId < ${i}.5)`),t+="\n{",t+=`\n\tcolor = texture2D(uSamplers[${i}], vTextureCoord);`,t+="\n}";return t+="\n",t+="\n",t}}},{"@pixi/math":"ua9t","../shader/Program.mjs":"w73G","../shader/Shader.mjs":"MbbR","../shader/UniformGroup.mjs":"bYSX"}],PJVv:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BatchTextureArray=void 0;i.BatchTextureArray=class{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}},{}],CgE4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.canUploadSameBuffer=function(){return!r.isMobile.apple.device};var r=e("@pixi/settings")},{"@pixi/settings":"NIYj"}],Jd5Z:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.maxRecommendedTextures=function(e){let t=!0;const i=r.settings.ADAPTER.getNavigator();if(r.isMobile.tablet||r.isMobile.phone){if(r.isMobile.apple.device){const e=i.userAgent.match(/OS (\d+)_(\d+)?/);if(e){parseInt(e[1],10)<11&&(t=!1)}}if(r.isMobile.android.device){const e=i.userAgent.match(/Android\s([0-9.]*)/);if(e){parseInt(e[1],10)<7&&(t=!1)}}}return t?e:4};var r=e("@pixi/settings")},{"@pixi/settings":"NIYj"}],NFiB:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ObjectRenderer=void 0;i.ObjectRenderer=class{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}},{}],zcOj:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n"},{}],aMKD:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n"},{}],k0j5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BatchRenderer=void 0;var r=e("@pixi/color"),n=e("@pixi/constants"),s=e("@pixi/extensions"),o=e("@pixi/settings"),a=e("@pixi/utils"),l=e("../geometry/ViewableBuffer.mjs"),u=e("../shader/utils/checkMaxIfStatementsInShader.mjs"),c=e("../state/State.mjs"),h=e("../textures/BaseTexture.mjs"),d=e("./BatchDrawCall.mjs"),p=e("./BatchGeometry.mjs"),f=e("./BatchShaderGenerator.mjs"),m=e("./BatchTextureArray.mjs"),g=e("./canUploadSameBuffer.mjs"),y=e("./maxRecommendedTextures.mjs"),v=e("./ObjectRenderer.mjs"),x=b(e("./texture.mjs")),_=b(e("./texture2.mjs"));function b(e){return e&&e.__esModule?e:{default:e}}const S=class extends v.ObjectRenderer{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=p.BatchGeometry,this.vertexSize=6,this.state=c.State.for2d(),this.size=4*S.defaultBatchSize,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??(0,y.maxRecommendedTextures)(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??(0,g.canUploadSameBuffer)(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return(0,a.deprecation)("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return _.default}static get defaultFragmentTemplate(){return x.default}setShaderGenerator({vertex:e=S.defaultVertexSrc,fragment:t=S.defaultFragmentTemplate}={}){this.shaderGenerator=new f.BatchShaderGenerator(e,t)}contextChange(){const e=this.renderer.gl;o.settings.PREFER_ENV===n.ENV.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),S.defaultMaxTextures),this.maxTextures=(0,u.checkMaxIfStatementsInShader)(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:t}=S,i=this.size/4,r=Math.floor(i/this.maxTextures)+1;for(;e.length<i;)e.push(new d.BatchDrawCall);for(;t.length<r;)t.push(new m.BatchTextureArray);for(let e=0;e<this.maxTextures;e++)this._tempBoundTextures[e]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:t}=this,i=S._textureArrayPool,r=this.renderer.batch,n=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++h.BaseTexture._globalBatch,a=0,l=i[0],u=0;r.copyBoundTextures(n,t);for(let c=0;c<this._bufferSize;++c){const h=e[c];e[c]=null,h._batchEnabled!==o&&(l.count>=t&&(r.boundArray(l,n,o,t),this.buildDrawCalls(l,u,c),u=c,l=i[++a],++o),h._batchEnabled=o,h.touched=s,l.elements[l.count++]=h)}l.count>0&&(r.boundArray(l,n,o,t),this.buildDrawCalls(l,u,this._bufferSize),++a,++o);for(let e=0;e<n.length;e++)n[e]=null;h.BaseTexture._globalBatch=o}buildDrawCalls(e,t,i){const{_bufferedElements:r,_attributeBuffer:n,_indexBuffer:s,vertexSize:o}=this,l=S._drawCallPool;let u=this._dcIndex,c=this._aIndex,h=this._iIndex,d=l[u];d.start=this._iIndex,d.texArray=e;for(let p=t;p<i;++p){const i=r[p],f=i._texture.baseTexture,m=a.premultiplyBlendMode[f.alphaMode?1:0][i.blendMode];r[p]=null,t<p&&d.blend!==m&&(d.size=h-d.start,t=p,d=l[++u],d.texArray=e,d.start=h),this.packInterleavedGeometry(i,n,s,c,h),c+=i.vertexData.length/2*o,h+=i.indices.length,d.blend=m}t<i&&(d.size=h-d.start,++u),this._dcIndex=u,this._aIndex=c,this._iIndex=h}bindAndClearTexArray(e){const t=this.renderer.texture;for(let i=0;i<e.count;i++)t.bind(e.elements[i],e.ids[i]),e.elements[i]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:t,_indexBuffer:i}=this;S.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:t,state:i}=this.renderer,r=S._drawCallPool;let n=null;for(let s=0;s<e;s++){const{texArray:e,type:o,size:a,start:l,blend:u}=r[s];n!==e&&(n=e,this.bindAndClearTexArray(e)),this.state.blendMode=u,i.set(this.state),t.drawElements(o,a,t.UNSIGNED_SHORT,2*l)}}flush(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),S.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const t=(0,a.nextPow2)(Math.ceil(e/8)),i=(0,a.log2)(t),r=8*t;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);let n=this._aBuffers[r];return n||(this._aBuffers[r]=n=new l.ViewableBuffer(r*this.vertexSize*4)),n}getIndexBuffer(e){const t=(0,a.nextPow2)(Math.ceil(e/12)),i=(0,a.log2)(t),r=12*t;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);let n=this._iBuffers[i];return n||(this._iBuffers[i]=n=new Uint16Array(r)),n}packInterleavedGeometry(e,t,i,n,s){const{uint32View:o,float32View:a}=t,l=n/this.vertexSize,u=e.uvs,c=e.indices,h=e.vertexData,d=e._texture.baseTexture._batchLocation,p=Math.min(e.worldAlpha,1),f=r.Color.shared.setValue(e._tintRGB).toPremultiplied(p,e._texture.baseTexture.alphaMode>0);for(let e=0;e<h.length;e+=2)a[n++]=h[e],a[n++]=h[e+1],a[n++]=u[e],a[n++]=u[e+1],o[n++]=f,a[n++]=d;for(let e=0;e<c.length;e++)i[s++]=l+c[e]}};let T=S;i.BatchRenderer=T,T.defaultBatchSize=4096,T.extension={name:"batch",type:s.ExtensionType.RendererPlugin},T._drawCallPool=[],T._textureArrayPool=[],s.extensions.add(T)},{"@pixi/color":"WFJG","@pixi/constants":"GJEO","@pixi/extensions":"LbpS","@pixi/settings":"NIYj","@pixi/utils":"vvGD","../geometry/ViewableBuffer.mjs":"CC0h","../shader/utils/checkMaxIfStatementsInShader.mjs":"UVUt","../state/State.mjs":"ytrH","../textures/BaseTexture.mjs":"WC8m","./BatchDrawCall.mjs":"dBmJ","./BatchGeometry.mjs":"eR9o","./BatchShaderGenerator.mjs":"Rtlc","./BatchTextureArray.mjs":"PJVv","./canUploadSameBuffer.mjs":"CgE4","./maxRecommendedTextures.mjs":"Jd5Z","./ObjectRenderer.mjs":"NFiB","./texture.mjs":"zcOj","./texture2.mjs":"aMKD"}],IMDb:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},{}],aYkK:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},{}],dClD:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Filter=void 0;var r=e("@pixi/constants"),n=e("../shader/Program.mjs"),s=e("../shader/Shader.mjs"),o=e("../state/State.mjs"),a=u(e("./defaultFilter.mjs")),l=u(e("./defaultFilter2.mjs"));function u(e){return e&&e.__esModule?e:{default:e}}const c=class extends s.Shader{constructor(e,t,i){super(n.Program.from(e||c.defaultVertexSrc,t||c.defaultFragmentSrc),i),this.padding=0,this.resolution=c.defaultResolution,this.multisample=c.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new o.State}apply(e,t,i,r,n){e.applyFilter(this,t,i,r)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return l.default}static get defaultFragmentSrc(){return a.default}};let h=c;i.Filter=h,h.defaultResolution=1,h.defaultMultisample=r.MSAA_QUALITY.NONE},{"@pixi/constants":"GJEO","../shader/Program.mjs":"w73G","../shader/Shader.mjs":"MbbR","../state/State.mjs":"ytrH","./defaultFilter.mjs":"IMDb","./defaultFilter2.mjs":"aYkK"}],kW6f:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BackgroundSystem=void 0;var r=e("@pixi/color"),n=e("@pixi/extensions");class s{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new r.Color(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:t,background:i,backgroundAlpha:r}=e,n=i??t;void 0!==n&&(this.color=n),this.alpha=r}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}i.BackgroundSystem=s,s.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},s.extension={type:[n.ExtensionType.RendererSystem,n.ExtensionType.CanvasRendererSystem],name:"background"},n.extensions.add(s)},{"@pixi/color":"WFJG","@pixi/extensions":"LbpS"}],JREf:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BatchSystem=void 0;var r=e("@pixi/extensions"),n=e("./ObjectRenderer.mjs");class s{constructor(e){this.renderer=e,this.emptyRenderer=new n.ObjectRenderer(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){const{boundTextures:i}=this.renderer.texture;for(let r=t-1;r>=0;--r)e[r]=i[r]||null,e[r]&&(e[r]._batchLocation=r)}boundArray(e,t,i,r){const{elements:n,ids:s,count:o}=e;let a=0;for(let e=0;e<o;e++){const o=n[e],l=o._batchLocation;if(l>=0&&l<r&&t[l]===o)s[e]=l;else for(;a<r;){const r=t[a];if(!r||r._batchEnabled!==i||r._batchLocation!==a){s[e]=a,o._batchLocation=a,t[a]=o;break}a++}}}destroy(){this.renderer=null}}i.BatchSystem=s,s.extension={type:r.ExtensionType.RendererSystem,name:"batch"},r.extensions.add(s)},{"@pixi/extensions":"LbpS","./ObjectRenderer.mjs":"NFiB"}],WQyT:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ContextSystem=void 0;var r=e("@pixi/constants"),n=e("@pixi/extensions"),s=e("@pixi/settings");let o=0;class a{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=o++}init(e){if(e.context)this.initFromContext(e.context);else{const t=this.renderer.background.alpha<1,i=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:i,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=o++,this.renderer.runners.contextChange.emit(e);const t=this.renderer.view;void 0!==t.addEventListener&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let i;if(s.settings.PREFER_ENV>=r.ENV.WEBGL2&&(i=e.getContext("webgl2",t)),i)this.webGLVersion=2;else if(this.webGLVersion=1,i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!i)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout((()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()}),0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,void 0!==e.removeEventListener&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const t=e.getContextAttributes(),i="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;i&&(this.webGLVersion=2),t&&t.stencil;const r=i||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=r}}i.ContextSystem=a,a.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},a.extension={type:n.ExtensionType.RendererSystem,name:"context"},n.extensions.add(a)},{"@pixi/constants":"GJEO","@pixi/extensions":"LbpS","@pixi/settings":"NIYj"}],Bpfh:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.DepthResource=void 0;var r=e("@pixi/constants"),n=e("./BufferResource.mjs");class s extends n.BufferResource{upload(e,t,i){const n=e.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===r.ALPHA_MODES.UNPACK);const s=t.realWidth,o=t.realHeight;return i.width===s&&i.height===o?n.texSubImage2D(t.target,0,0,0,s,o,t.format,i.type,this.data):(i.width=s,i.height=o,n.texImage2D(t.target,0,i.internalFormat,s,o,0,t.format,i.type,this.data)),!0}}i.DepthResource=s},{"@pixi/constants":"GJEO","./BufferResource.mjs":"kgeU"}],DCPW:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Framebuffer=void 0;var r=e("@pixi/constants"),n=e("@pixi/runner"),s=e("../textures/BaseTexture.mjs"),o=e("../textures/resources/DepthResource.mjs");i.Framebuffer=class{constructor(e,t){this.width=Math.round(e||100),this.height=Math.round(t||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new n.Runner("disposeFramebuffer"),this.multisample=r.MSAA_QUALITY.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new s.BaseTexture(null,{scaleMode:r.SCALE_MODES.NEAREST,resolution:1,mipmap:r.MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new s.BaseTexture(new o.DepthResource(null,{width:this.width,height:this.height}),{scaleMode:r.SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:r.MIPMAP_MODES.OFF,format:r.FORMATS.DEPTH_COMPONENT,type:r.TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let i=0;i<this.colorTextures.length;i++){const r=this.colorTextures[i],n=r.resolution;r.setSize(e/n,t/n)}if(this.depthTexture){const i=this.depthTexture.resolution;this.depthTexture.setSize(e/i,t/i)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}},{"@pixi/constants":"GJEO","@pixi/runner":"e7ds","../textures/BaseTexture.mjs":"WC8m","../textures/resources/DepthResource.mjs":"Bpfh"}],F908:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BaseRenderTexture=void 0;var r=e("@pixi/color"),n=e("@pixi/constants"),s=e("../framebuffer/Framebuffer.mjs"),o=e("../textures/BaseTexture.mjs");class a extends o.BaseTexture{constructor(e={}){if("number"==typeof e){e={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=n.MSAA_QUALITY.NONE),super(null,e),this.mipmap=n.MIPMAP_MODES.OFF,this.valid=!0,this._clear=new r.Color([0,0,0,0]),this.framebuffer=new s.Framebuffer(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}i.BaseRenderTexture=a},{"@pixi/color":"WFJG","@pixi/constants":"GJEO","../framebuffer/Framebuffer.mjs":"DCPW","../textures/BaseTexture.mjs":"WC8m"}],HjoQ:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BaseImageResource=void 0;var r=e("@pixi/constants"),n=e("@pixi/utils"),s=e("./Resource.mjs");class o extends s.Resource{constructor(e){const t=e;super(t.naturalWidth||t.videoWidth||t.width,t.naturalHeight||t.videoHeight||t.height),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,i){void 0!==i||t.startsWith("data:")?!1!==i&&(e.crossOrigin="string"==typeof i?i:"anonymous"):e.crossOrigin=(0,n.determineCrossOrigin)(t)}upload(e,t,i,n){const s=e.gl,o=t.realWidth,a=t.realHeight;if(n=n||this.source,"undefined"!=typeof HTMLImageElement&&n instanceof HTMLImageElement){if(!n.complete||0===n.naturalWidth)return!1}else if("undefined"!=typeof HTMLVideoElement&&n instanceof HTMLVideoElement&&n.readyState<=1&&0===n.buffered.length)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===r.ALPHA_MODES.UNPACK),this.noSubImage||t.target!==s.TEXTURE_2D||i.width!==o||i.height!==a?(i.width=o,i.height=a,s.texImage2D(t.target,0,i.internalFormat,t.format,i.type,n)):s.texSubImage2D(s.TEXTURE_2D,0,0,0,t.format,i.type,n),!0}update(){if(this.destroyed)return;const e=this.source,t=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(t,i),super.update()}dispose(){this.source=null}}i.BaseImageResource=o},{"@pixi/constants":"GJEO","@pixi/utils":"vvGD","./Resource.mjs":"cB6Z"}],LlhT:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ImageResource=void 0;var r=e("@pixi/constants"),n=e("@pixi/settings"),s=e("./BaseImageResource.mjs");class o extends s.BaseImageResource{constructor(e,t){if(t=t||{},"string"==typeof e){const i=new Image;s.BaseImageResource.crossOrigin(i,e,t.crossorigin),i.src=e,e=i}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??n.settings.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode="number"==typeof t.alphaMode?t.alphaMode:null,this.bitmap=null,this._load=null,!1!==t.autoLoad&&this.load()}load(e){return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(((e,t)=>{const i=this.source;this.url=i.src;const r=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?e(this.process()):e(this))};i.complete&&i.src?r():(i.onload=r,i.onerror=e=>{t(e),this.onError.emit(e)})}))),this._load}process(){const e=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);const t=globalThis.createImageBitmap,i=!e.crossOrigin||"anonymous"===e.crossOrigin;return this._process=fetch(e.src,{mode:i?"cors":"no-cors"}).then((e=>e.blob())).then((i=>t(i,0,0,e.width,e.height,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===r.ALPHA_MODES.UNPACK?"premultiply":"none"}))).then((e=>this.destroyed?Promise.reject():(this.bitmap=e,this.update(),this._process=null,Promise.resolve(this)))),this._process}upload(e,t,i){if("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,i,this.bitmap),!this.preserveBitmap){let e=!0;const r=t._glTextures;for(const n in r){const s=r[n];if(s!==i&&s.dirtyId!==t.dirtyId){e=!1;break}}e&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return"undefined"!=typeof HTMLImageElement&&("string"==typeof e||e instanceof HTMLImageElement)}}i.ImageResource=o},{"@pixi/constants":"GJEO","@pixi/settings":"NIYj","./BaseImageResource.mjs":"HjoQ"}],egZ1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.TextureUvs=void 0;var r=e("@pixi/math");i.TextureUvs=class{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,i){const n=t.width,s=t.height;if(i){const t=e.width/2/n,o=e.height/2/s,a=e.x/n+t,l=e.y/s+o;i=r.groupD8.add(i,r.groupD8.NW),this.x0=a+t*r.groupD8.uX(i),this.y0=l+o*r.groupD8.uY(i),i=r.groupD8.add(i,2),this.x1=a+t*r.groupD8.uX(i),this.y1=l+o*r.groupD8.uY(i),i=r.groupD8.add(i,2),this.x2=a+t*r.groupD8.uX(i),this.y2=l+o*r.groupD8.uY(i),i=r.groupD8.add(i,2),this.x3=a+t*r.groupD8.uX(i),this.y3=l+o*r.groupD8.uY(i)}else this.x0=e.x/n,this.y0=e.y/s,this.x1=(e.x+e.width)/n,this.y1=e.y/s,this.x2=(e.x+e.width)/n,this.y2=(e.y+e.height)/s,this.x3=e.x/n,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}},{"@pixi/math":"ua9t"}],tJJO:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Texture=void 0;var r=e("@pixi/math"),n=e("@pixi/settings"),s=e("@pixi/utils"),o=e("./BaseTexture.mjs"),a=e("./resources/ImageResource.mjs"),l=e("./TextureUvs.mjs");const u=new l.TextureUvs;function c(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}class h extends s.EventEmitter{constructor(e,t,i,n,s,o,a){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new r.Rectangle(0,0,1,1)),e instanceof h&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=n,this.valid=!1,this._uvs=u,this.uvMatrix=null,this.orig=i||t,this._rotate=Number(s||0),!0===s)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new r.Point(o.x,o.y):new r.Point(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:e}=this.baseTexture;e?.url&&s.TextureCache[e.url]&&h.removeFromCache(e.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,h.removeFromCache(this),this.textureCacheIds=null}clone(){const e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),i=new h(this.baseTexture,!this.noFrame&&e,t,this.trim?.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(i._frame=e),i}updateUvs(){this._uvs===u&&(this._uvs=new l.TextureUvs),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},i=n.settings.STRICT_TEXTURE_CACHE){const r="string"==typeof e;let a=null;if(r)a=e;else if(e instanceof o.BaseTexture){if(!e.cacheId){const i=t?.pixiIdPrefix||"pixiid";e.cacheId=`${i}-${(0,s.uid)()}`,o.BaseTexture.addToCache(e,e.cacheId)}a=e.cacheId}else{if(!e._pixiId){const i=t?.pixiIdPrefix||"pixiid";e._pixiId=`${i}_${(0,s.uid)()}`}a=e._pixiId}let l=s.TextureCache[a];if(r&&i&&!l)throw new Error(`The cacheId "${a}" does not exist in TextureCache.`);return l||e instanceof o.BaseTexture?!l&&e instanceof o.BaseTexture&&(l=new h(e),h.addToCache(l,a)):(t.resolution||(t.resolution=(0,s.getResolutionOfUrl)(e)),l=new h(new o.BaseTexture(e,t)),l.baseTexture.cacheId=a,o.BaseTexture.addToCache(l.baseTexture,a),h.addToCache(l,a)),l}static fromURL(e,t){const i=Object.assign({autoLoad:!1},t?.resourceOptions),r=h.from(e,Object.assign({resourceOptions:i},t),!1),n=r.baseTexture.resource;return r.baseTexture.valid?Promise.resolve(r):n.load().then((()=>Promise.resolve(r)))}static fromBuffer(e,t,i,r){return new h(o.BaseTexture.fromBuffer(e,t,i,r))}static fromLoader(e,t,i,r){const n=new o.BaseTexture(e,Object.assign({scaleMode:o.BaseTexture.defaultOptions.scaleMode,resolution:(0,s.getResolutionOfUrl)(t)},r)),{resource:l}=n;l instanceof a.ImageResource&&(l.url=t);const u=new h(n);return i||(i=t),o.BaseTexture.addToCache(u.baseTexture,i),h.addToCache(u,i),i!==t&&(o.BaseTexture.addToCache(u.baseTexture,t),h.addToCache(u,t)),u.baseTexture.valid?Promise.resolve(u):new Promise((e=>{u.baseTexture.once("loaded",(()=>e(u)))}))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),s.TextureCache[t]&&s.TextureCache[t],s.TextureCache[t]=e)}static removeFromCache(e){if("string"==typeof e){const t=s.TextureCache[e];if(t){const i=t.textureCacheIds.indexOf(e);return i>-1&&t.textureCacheIds.splice(i,1),delete s.TextureCache[e],t}}else if(e?.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)s.TextureCache[e.textureCacheIds[t]]===e&&delete s.TextureCache[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:t,y:i,width:r,height:n}=e,s=t+r>this.baseTexture.width,o=i+n>this.baseTexture.height;if(s||o){const e=s&&o?"and":"or",a=`X: ${t} + ${r} = ${t+r} > ${this.baseTexture.width}`,l=`Y: ${i} + ${n} = ${i+n} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${a} ${e} ${l}`)}this.valid=r&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return h._EMPTY||(h._EMPTY=new h(new o.BaseTexture),c(h._EMPTY),c(h._EMPTY.baseTexture)),h._EMPTY}static get WHITE(){if(!h._WHITE){const e=n.settings.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),h._WHITE=new h(o.BaseTexture.from(e)),c(h._WHITE),c(h._WHITE.baseTexture)}return h._WHITE}}i.Texture=h},{"@pixi/math":"ua9t","@pixi/settings":"NIYj","@pixi/utils":"vvGD","./BaseTexture.mjs":"WC8m","./resources/ImageResource.mjs":"LlhT","./TextureUvs.mjs":"egZ1"}],HgC8:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.RenderTexture=void 0;var r=e("../textures/Texture.mjs"),n=e("./BaseRenderTexture.mjs");class s extends r.Texture{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,i=!0){const r=this.baseTexture.resolution,n=Math.round(e*r)/r,s=Math.round(t*r)/r;this.valid=n>0&&s>0,this._frame.width=this.orig.width=n,this._frame.height=this.orig.height=s,i&&this.baseTexture.resize(n,s),this.updateUvs()}setResolution(e){const{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new s(new n.BaseRenderTexture(e))}}i.RenderTexture=s},{"../textures/Texture.mjs":"tJJO","./BaseRenderTexture.mjs":"F908"}],vUGh:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.RenderTexturePool=void 0;var r=e("@pixi/constants"),n=e("@pixi/utils"),s=e("./BaseRenderTexture.mjs"),o=e("./RenderTexture.mjs");class a{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,i=r.MSAA_QUALITY.NONE){const n=new s.BaseRenderTexture(Object.assign({width:e,height:t,resolution:1,multisample:i},this.textureOptions));return new o.RenderTexture(n)}getOptimalTexture(e,t,i=1,s=r.MSAA_QUALITY.NONE){let o;e=Math.ceil(e*i-1e-6),t=Math.ceil(t*i-1e-6),this.enableFullScreen&&e===this._pixelsWidth&&t===this._pixelsHeight?o=s>1?-s:-1:(o=((65535&(e=(0,n.nextPow2)(e)))<<16|65535&(t=(0,n.nextPow2)(t)))>>>0,s>1&&(o+=4294967296*s)),this.texturePool[o]||(this.texturePool[o]=[]);let a=this.texturePool[o].pop();return a||(a=this.createTexture(e,t,s)),a.filterPoolKey=o,a.setResolution(i),a}getFilterTexture(e,t,i){const n=this.getOptimalTexture(e.width,e.height,t||e.resolution,i||r.MSAA_QUALITY.NONE);return n.filterFrame=e.filterFrame,n}returnTexture(e){const t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=!1!==e)for(const e in this.texturePool){const t=this.texturePool[e];if(t)for(let e=0;e<t.length;e++)t[e].destroy(!0)}this.texturePool={}}setScreenSize(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){this.enableFullScreen=e.width>0&&e.height>0;for(const e in this.texturePool){if(!(Number(e)<0))continue;const t=this.texturePool[e];if(t)for(let e=0;e<t.length;e++)t[e].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}i.RenderTexturePool=a,a.SCREEN_KEY=-1},{"@pixi/constants":"GJEO","@pixi/utils":"vvGD","./BaseRenderTexture.mjs":"F908","./RenderTexture.mjs":"HgC8"}],CPFC:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Quad=void 0;var r=e("../geometry/Geometry.mjs");class n extends r.Geometry{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}i.Quad=n},{"../geometry/Geometry.mjs":"Siyo"}],lkyN:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.QuadUv=void 0;var r=e("../geometry/Buffer.mjs"),n=e("../geometry/Geometry.mjs");class s extends n.Geometry{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new r.Buffer(this.vertices),this.uvBuffer=new r.Buffer(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let i=0,r=0;return this.uvs[0]=i,this.uvs[1]=r,this.uvs[2]=i+t.width/e.width,this.uvs[3]=r,this.uvs[4]=i+t.width/e.width,this.uvs[5]=r+t.height/e.height,this.uvs[6]=i,this.uvs[7]=r+t.height/e.height,i=t.x,r=t.y,this.vertices[0]=i,this.vertices[1]=r,this.vertices[2]=i+t.width,this.vertices[3]=r,this.vertices[4]=i+t.width,this.vertices[5]=r+t.height,this.vertices[6]=i,this.vertices[7]=r+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}i.QuadUv=s},{"../geometry/Buffer.mjs":"Sewd","../geometry/Geometry.mjs":"Siyo"}],r7bA:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.FilterState=void 0;var r=e("@pixi/constants"),n=e("@pixi/math");i.FilterState=class{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=r.MSAA_QUALITY.NONE,this.sourceFrame=new n.Rectangle,this.destinationFrame=new n.Rectangle,this.bindingSourceFrame=new n.Rectangle,this.bindingDestinationFrame=new n.Rectangle,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}},{"@pixi/constants":"GJEO","@pixi/math":"ua9t"}],RiFV:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.FilterSystem=void 0;var r=e("@pixi/constants"),n=e("@pixi/extensions"),s=e("@pixi/math"),o=e("../renderTexture/RenderTexturePool.mjs"),a=e("../shader/UniformGroup.mjs"),l=e("../utils/Quad.mjs"),u=e("../utils/QuadUv.mjs"),c=e("./FilterState.mjs");const h=[new s.Point,new s.Point,new s.Point,new s.Point],d=new s.Matrix;class p{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new o.RenderTexturePool,this.statePool=[],this.quad=new l.Quad,this.quadUv=new u.QuadUv,this.tempRect=new s.Rectangle,this.activeState={},this.globalUniforms=new a.UniformGroup({outputFrame:new s.Rectangle,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){const i=this.renderer,r=this.defaultFilterStack,n=this.statePool.pop()||new c.FilterState,s=this.renderer.renderTexture;let o=t[0].resolution,a=t[0].multisample,l=t[0].padding,u=t[0].autoFit,h=t[0].legacy??!0;for(let e=1;e<t.length;e++){const i=t[e];o=Math.min(o,i.resolution),a=Math.min(a,i.multisample),l=this.useMaxPadding?Math.max(l,i.padding):l+i.padding,u=u&&i.autoFit,h=h||(i.legacy??!0)}1===r.length&&(this.defaultFilterStack[0].renderTexture=s.current),r.push(n),n.resolution=o,n.multisample=a,n.legacy=h,n.target=e,n.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),n.sourceFrame.pad(l);const p=this.tempRect.copyFrom(s.sourceFrame);i.projection.transform&&this.transformAABB(d.copyFrom(i.projection.transform).invert(),p),u?(n.sourceFrame.fit(p),(n.sourceFrame.width<=0||n.sourceFrame.height<=0)&&(n.sourceFrame.width=0,n.sourceFrame.height=0)):n.sourceFrame.intersects(p)||(n.sourceFrame.width=0,n.sourceFrame.height=0),this.roundFrame(n.sourceFrame,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o,a),n.filters=t,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height;const f=this.tempRect;f.x=0,f.y=0,f.width=n.sourceFrame.width,f.height=n.sourceFrame.height,n.renderTexture.filterFrame=n.sourceFrame,n.bindingSourceFrame.copyFrom(s.sourceFrame),n.bindingDestinationFrame.copyFrom(s.destinationFrame),n.transform=i.projection.transform,i.projection.transform=null,s.bind(n.renderTexture,n.sourceFrame,f),i.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,t=e.pop(),i=t.filters;this.activeState=t;const n=this.globalUniforms.uniforms;n.outputFrame=t.sourceFrame,n.resolution=t.resolution;const s=n.inputSize,o=n.inputPixel,a=n.inputClamp;if(s[0]=t.destinationFrame.width,s[1]=t.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*t.resolution),o[1]=Math.round(s[1]*t.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=t.sourceFrame.width*s[2]-.5*o[2],a[3]=t.sourceFrame.height*s[3]-.5*o[3],t.legacy){const e=n.filterArea;e[0]=t.destinationFrame.width,e[1]=t.destinationFrame.height,e[2]=t.sourceFrame.x,e[3]=t.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,t.renderTexture,l.renderTexture,r.CLEAR_MODES.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let e=t.renderTexture,n=this.getOptimalFilterTexture(e.width,e.height,t.resolution);n.filterFrame=e.filterFrame;let s=0;for(s=0;s<i.length-1;++s){1===s&&t.multisample>1&&(n=this.getOptimalFilterTexture(e.width,e.height,t.resolution),n.filterFrame=e.filterFrame),i[s].apply(this,e,n,r.CLEAR_MODES.CLEAR,t);const o=e;e=n,n=o}i[s].apply(this,e,l.renderTexture,r.CLEAR_MODES.BLEND,t),s>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(e),this.returnFilterTexture(n)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=r.CLEAR_MODES.CLEAR){const{renderTexture:i,state:n}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e?.filterFrame){const t=this.tempRect;t.x=0,t.y=0,t.width=e.filterFrame.width,t.height=e.filterFrame.height,i.bind(e,e.filterFrame,t)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=1&n.stateId||this.forceClear;(t===r.CLEAR_MODES.CLEAR||t===r.CLEAR_MODES.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,i,n){const s=this.renderer;s.state.set(e.state),this.bindAndClear(i,n),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(r.DRAW_MODES.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(r.DRAW_MODES.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){const{sourceFrame:i,destinationFrame:r}=this.activeState,{orig:n}=t._texture,o=e.set(r.width,0,0,r.height,i.x,i.y),a=t.worldTransform.copyTo(s.Matrix.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/n.width,1/n.height),o.translate(t.anchor.x,t.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,i=1,n=r.MSAA_QUALITY.NONE){return this.texturePool.getOptimalTexture(e,t,i,n)}getFilterTexture(e,t,i){if("number"==typeof e){const i=e;e=t,t=i}e=e||this.activeState.renderTexture;const n=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,i||r.MSAA_QUALITY.NONE);return n.filterFrame=e.filterFrame,n}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){const i=h[0],r=h[1],n=h[2],s=h[3];i.set(t.left,t.top),r.set(t.left,t.bottom),n.set(t.right,t.top),s.set(t.right,t.bottom),e.apply(i,i),e.apply(r,r),e.apply(n,n),e.apply(s,s);const o=Math.min(i.x,r.x,n.x,s.x),a=Math.min(i.y,r.y,n.y,s.y),l=Math.max(i.x,r.x,n.x,s.x),u=Math.max(i.y,r.y,n.y,s.y);t.x=o,t.y=a,t.width=l-o,t.height=u-a}roundFrame(e,t,i,r,n){if(!(e.width<=0||e.height<=0||i.width<=0||i.height<=0)){if(n){const{a:e,b:t,c:i,d:r}=n;if((Math.abs(t)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(r)>1e-4))return}(n=n?d.copyFrom(n):d.identity()).translate(-i.x,-i.y).scale(r.width/i.width,r.height/i.height).translate(r.x,r.y),this.transformAABB(n,e),e.ceil(t),this.transformAABB(n.invert(),e)}}}i.FilterSystem=p,p.extension={type:n.ExtensionType.RendererSystem,name:"filter"},n.extensions.add(p)},{"@pixi/constants":"GJEO","@pixi/extensions":"LbpS","@pixi/math":"ua9t","../renderTexture/RenderTexturePool.mjs":"vUGh","../shader/UniformGroup.mjs":"bYSX","../utils/Quad.mjs":"CPFC","../utils/QuadUv.mjs":"lkyN","./FilterState.mjs":"r7bA"}],HRLL:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.GLFramebuffer=void 0;var r=e("@pixi/constants");i.GLFramebuffer=class{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=r.MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}},{"@pixi/constants":"GJEO"}],EiTT:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.FramebufferSystem=void 0;var r=e("@pixi/constants"),n=e("@pixi/extensions"),s=e("@pixi/math"),o=e("@pixi/settings"),a=e("./Framebuffer.mjs"),l=e("./GLFramebuffer.mjs");const u=new s.Rectangle;class c{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new a.Framebuffer(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new s.Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){let t=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;o.settings.PREFER_ENV===r.ENV.WEBGL_LEGACY&&(t=null,i=null),t?e.drawBuffers=e=>t.drawBuffersWEBGL(e):(this.hasMRT=!1,e.drawBuffers=()=>{}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,i=0){const{gl:r}=this;if(e){const n=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,r.bindFramebuffer(r.FRAMEBUFFER,n.framebuffer)),n.mipLevel!==i&&(e.dirtyId++,e.dirtyFormat++,n.mipLevel=i),n.dirtyId!==e.dirtyId&&(n.dirtyId=e.dirtyId,n.dirtyFormat!==e.dirtyFormat?(n.dirtyFormat=e.dirtyFormat,n.dirtySize=e.dirtySize,this.updateFramebuffer(e,i)):n.dirtySize!==e.dirtySize&&(n.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let t=0;t<e.colorTextures.length;t++){const i=e.colorTextures[t];this.renderer.texture.unbind(i.parentTextureArray||i)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){const e=t.width>>i,r=t.height>>i,n=e/t.width;this.setViewport(t.x*n,t.y*n,e,r)}else{const t=e.width>>i,r=e.height>>i;this.setViewport(0,0,t,r)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,i,r){const n=this.viewport;e=Math.round(e),t=Math.round(t),i=Math.round(i),r=Math.round(r),n.width===i&&n.height===r&&n.x===e&&n.y===t||(n.x=e,n.y=t,n.width=i,n.height=r,this.gl.viewport(e,t,i,r))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,i,n,s=r.BUFFER_BITS.COLOR|r.BUFFER_BITS.DEPTH){const{gl:o}=this;o.clearColor(e,t,i,n),o.clear(s)}initFramebuffer(e){const{gl:t}=this,i=new l.GLFramebuffer(t.createFramebuffer());return i.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(e),e.disposeRunner.add(this),i}resizeFramebuffer(e){const{gl:t}=this,i=e.glFramebuffers[this.CONTEXT_UID];i.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,i.stencil),i.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,i.multisample,t.DEPTH24_STENCIL8,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));const r=e.colorTextures;let n=r.length;t.drawBuffers||(n=Math.min(n,1));for(let s=0;s<n;s++){const n=r[s],o=n.parentTextureArray||n;this.renderer.texture.bind(o,0),0===s&&i.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,i.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,i.multisample,o._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){const{gl:i}=this,r=e.glFramebuffers[this.CONTEXT_UID],n=e.colorTextures;let s=n.length;i.drawBuffers||(s=Math.min(s,1)),r.multisample>1&&this.canMultisampleFramebuffer(e)?r.msaaBuffer=r.msaaBuffer||i.createRenderbuffer():r.msaaBuffer&&(i.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));const o=[];for(let a=0;a<s;a++){const s=n[a],l=s.parentTextureArray||s;this.renderer.texture.bind(l,0),0===a&&r.msaaBuffer?(i.bindRenderbuffer(i.RENDERBUFFER,r.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,r.msaaBuffer)):(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+a,s.target,l._glTextures[this.CONTEXT_UID].texture,t),o.push(i.COLOR_ATTACHMENT0+a))}if(o.length>1&&i.drawBuffers(o),e.depthTexture){if(this.writeDepthTexture){const r=e.depthTexture;this.renderer.texture.bind(r,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,r._glTextures[this.CONTEXT_UID].texture,t)}}!e.stencil&&!e.depth||e.depthTexture&&this.writeDepthTexture?r.stencil&&(i.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.stencil),r.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.DEPTH24_STENCIL8,e.width,e.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,r.stencil))}canMultisampleFramebuffer(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:t}=this;let i=r.MSAA_QUALITY.NONE;if(e<=1||null===t)return i;for(let r=0;r<t.length;r++)if(t[r]<=e){i=t[r];break}return 1===i&&(i=r.MSAA_QUALITY.NONE),i}blit(e,t,i){const{current:r,renderer:n,gl:s,CONTEXT_UID:o}=this;if(2!==n.context.webGLVersion)return;if(!r)return;const l=r.glFramebuffers[o];if(!l)return;if(!e){if(!l.msaaBuffer)return;const t=r.colorTextures[0];if(!t)return;l.blitFramebuffer||(l.blitFramebuffer=new a.Framebuffer(r.width,r.height),l.blitFramebuffer.addColorTexture(0,t)),(e=l.blitFramebuffer).colorTextures[0]!==t&&(e.colorTextures[0]=t,e.dirtyId++,e.dirtyFormat++),e.width===r.width&&e.height===r.height||(e.width=r.width,e.height=r.height,e.dirtyId++,e.dirtySize++)}t||((t=u).width=r.width,t.height=r.height),i||(i=t);const c=t.width===i.width&&t.height===i.height;this.bind(e),s.bindFramebuffer(s.READ_FRAMEBUFFER,l.framebuffer),s.blitFramebuffer(t.left,t.top,t.right,t.bottom,i.left,i.top,i.right,i.bottom,s.COLOR_BUFFER_BIT,c?s.NEAREST:s.LINEAR),s.bindFramebuffer(s.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){const i=e.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(!i)return;delete e.glFramebuffers[this.CONTEXT_UID];const n=this.managedFramebuffers.indexOf(e);n>=0&&this.managedFramebuffers.splice(n,1),e.disposeRunner.remove(this),t||(r.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&r.deleteRenderbuffer(i.msaaBuffer),i.stencil&&r.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&this.disposeFramebuffer(i.blitFramebuffer,t)}disposeAll(e){const t=this.managedFramebuffers;this.managedFramebuffers=[];for(let i=0;i<t.length;i++)this.disposeFramebuffer(t[i],e)}forceStencil(){const e=this.current;if(!e)return;const t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil)return;e.stencil=!0;const i=e.width,r=e.height,n=this.gl,s=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,s),t.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,t.multisample,n.DEPTH24_STENCIL8,i,r):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,i,r),t.stencil=s,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,s)}reset(){this.current=this.unknownFramebuffer,this.viewport=new s.Rectangle}destroy(){this.renderer=null}}i.FramebufferSystem=c,c.extension={type:n.ExtensionType.RendererSystem,name:"framebuffer"},n.extensions.add(c)},{"@pixi/constants":"GJEO","@pixi/extensions":"LbpS","@pixi/math":"ua9t","@pixi/settings":"NIYj","./Framebuffer.mjs":"DCPW","./GLFramebuffer.mjs":"HRLL"}],lwCW:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.GeometrySystem=void 0;var r=e("@pixi/constants"),n=e("@pixi/extensions"),s=e("@pixi/settings");const o={5126:4,5123:2,5121:1};class a{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){let t=this.renderer.context.extensions.vertexArrayObject;s.settings.PREFER_ENV===r.ENV.WEBGL_LEGACY&&(t=null),t?(e.createVertexArray=()=>t.createVertexArrayOES(),e.bindVertexArray=e=>t.bindVertexArrayOES(e),e.deleteVertexArray=e=>t.deleteVertexArrayOES(e)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(2!==t.webGLVersion){const t=e.getExtension("ANGLE_instanced_arrays");t?(e.vertexAttribDivisor=(e,i)=>t.vertexAttribDivisorANGLE(e,i),e.drawElementsInstanced=(e,i,r,n,s)=>t.drawElementsInstancedANGLE(e,i,r,n,s),e.drawArraysInstanced=(e,i,r,n)=>t.drawArraysInstancedANGLE(e,i,r,n)):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;const{gl:i}=this;let r=e.glVertexArrayObjects[this.CONTEXT_UID],n=!1;r||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=r={},n=!0);const s=r[t.program.id]||this.initGeometryVao(e,t,n);this._activeGeometry=e,this._activeVao!==s&&(this._activeVao=s,this.hasVao?i.bindVertexArray(s):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this.renderer.buffer;for(let i=0;i<e.buffers.length;i++){const r=e.buffers[i];t.update(r)}}checkCompatibility(e,t){const i=e.attributes,r=t.attributeData;for(const e in r)if(!i[e])throw new Error(`shader and geometry incompatible, geometry missing the "${e}" attribute`)}getSignature(e,t){const i=e.attributes,r=t.attributeData,n=["g",e.id];for(const e in i)r[e]&&n.push(e,r[e].location);return n.join("-")}initGeometryVao(e,t,i=!0){const n=this.gl,s=this.CONTEXT_UID,a=this.renderer.buffer,l=t.program;l.glPrograms[s]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,l);const u=this.getSignature(e,l),c=e.glVertexArrayObjects[this.CONTEXT_UID];let h=c[u];if(h)return c[l.id]=h,h;const d=e.buffers,p=e.attributes,f={},m={};for(const e in d)f[e]=0,m[e]=0;for(const e in p)!p[e].size&&l.attributeData[e]?p[e].size=l.attributeData[e].size:p[e].size,f[p[e].buffer]+=p[e].size*o[p[e].type];for(const e in p){const t=p[e],i=t.size;void 0===t.stride&&(f[t.buffer]===i*o[t.type]?t.stride=0:t.stride=f[t.buffer]),void 0===t.start&&(t.start=m[t.buffer],m[t.buffer]+=i*o[t.type])}h=n.createVertexArray(),n.bindVertexArray(h);for(let e=0;e<d.length;e++){const t=d[e];a.bind(t),i&&t._glBuffers[s].refCount++}return this.activateVao(e,l),c[l.id]=h,c[u]=h,n.bindVertexArray(null),a.unbind(r.BUFFER_TYPE.ARRAY_BUFFER),h}disposeGeometry(e,t){if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const i=e.glVertexArrayObjects[this.CONTEXT_UID],r=this.gl,n=e.buffers,s=this.renderer?.buffer;if(e.disposeRunner.remove(this),i){if(s)for(let e=0;e<n.length;e++){const i=n[e]._glBuffers[this.CONTEXT_UID];i&&(i.refCount--,0!==i.refCount||t||s.dispose(n[e],t))}if(!t)for(const e in i)if("g"===e[0]){const t=i[e];this._activeVao===t&&this.unbind(),r.deleteVertexArray(t)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const t=Object.keys(this.managedGeometries);for(let i=0;i<t.length;i++)this.disposeGeometry(this.managedGeometries[t[i]],e)}activateVao(e,t){const i=this.gl,r=this.CONTEXT_UID,n=this.renderer.buffer,s=e.buffers,o=e.attributes;e.indexBuffer&&n.bind(e.indexBuffer);let a=null;for(const e in o){const l=o[e],u=s[l.buffer],c=u._glBuffers[r];if(t.attributeData[e]){a!==c&&(n.bind(u),a=c);const r=t.attributeData[e].location;if(i.enableVertexAttribArray(r),i.vertexAttribPointer(r,l.size,l.type||i.FLOAT,l.normalized,l.stride,l.start),l.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(r,l.divisor)}}}}draw(e,t,i,r){const{gl:n}=this,s=this._activeGeometry;if(s.indexBuffer){const o=s.indexBuffer.data.BYTES_PER_ELEMENT,a=2===o?n.UNSIGNED_SHORT:n.UNSIGNED_INT;(2===o||4===o&&this.canUseUInt32ElementIndex)&&(s.instanced?n.drawElementsInstanced(e,t||s.indexBuffer.data.length,a,(i||0)*o,r||1):n.drawElements(e,t||s.indexBuffer.data.length,a,(i||0)*o))}else s.instanced?n.drawArraysInstanced(e,i,t||s.getSize(),r||1):n.drawArrays(e,i,t||s.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}i.GeometrySystem=a,a.extension={type:n.ExtensionType.RendererSystem,name:"geometry"},n.extensions.add(a)},{"@pixi/constants":"GJEO","@pixi/extensions":"LbpS","@pixi/settings":"NIYj"}],m9MT:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.TextureMatrix=void 0;var r=e("@pixi/math");const n=new r.Matrix;i.TextureMatrix=class{constructor(e,t){this._texture=e,this.mapCoord=new r.Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===t?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){void 0===t&&(t=e);const i=this.mapCoord;for(let r=0;r<e.length;r+=2){const n=e[r],s=e[r+1];t[r]=n*i.a+s*i.c+i.tx,t[r+1]=n*i.b+s*i.d+i.ty}return t}update(e){const t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;const i=t._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);const r=t.orig,s=t.trim;s&&(n.set(r.width/s.width,0,0,r.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(n));const o=t.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(t._frame.x+l+u)/o.width,a[1]=(t._frame.y+l+u)/o.height,a[2]=(t._frame.x+t._frame.width-l+u)/o.width,a[3]=(t._frame.y+t._frame.height-l+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=t._frame.width===o.width&&t._frame.height===o.height&&0===t.rotate,!0}}},{"@pixi/math":"ua9t"}],hMB5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n"},{}],pZkw:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n"},{}],w7KE:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.SpriteMaskFilter=void 0;var r=e("@pixi/math"),n=e("../../textures/TextureMatrix.mjs"),s=e("../Filter.mjs"),o=l(e("./spriteMaskFilter2.mjs")),a=l(e("./spriteMaskFilter3.mjs"));function l(e){return e&&e.__esModule?e:{default:e}}class u extends s.Filter{constructor(e,t,i){let n=null;"string"!=typeof e&&void 0===t&&void 0===i&&(n=e,e=void 0,t=void 0,i=void 0),super(e||a.default,t||o.default,i),this.maskSprite=n,this.maskMatrix=new r.Matrix}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,i,r){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new n.TextureMatrix(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,t,i,r))}}i.SpriteMaskFilter=u},{"@pixi/math":"ua9t","../../textures/TextureMatrix.mjs":"m9MT","../Filter.mjs":"dClD","./spriteMaskFilter2.mjs":"hMB5","./spriteMaskFilter3.mjs":"pZkw"}],A3f1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.MaskData=void 0;var r=e("@pixi/constants"),n=e("../filters/Filter.mjs");i.MaskData=class{constructor(e=null){this.type=r.MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=n.Filter.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=r.MASK_TYPES.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}},{"@pixi/constants":"GJEO","../filters/Filter.mjs":"dClD"}],FeS2:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.MaskSystem=void 0;var r=e("@pixi/constants"),n=e("@pixi/extensions"),s=e("../filters/spriteMask/SpriteMaskFilter.mjs"),o=e("./MaskData.mjs");class a{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let i=t;if(!i.isMaskData){const e=this.maskDataPool.pop()||new o.MaskData;e.pooled=!0,e.maskObject=t,i=e}const n=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(i.copyCountersOrReset(n),i._colorMask=n?n._colorMask:15,i.autoDetect&&this.detect(i),i._target=e,i.type!==r.MASK_TYPES.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case r.MASK_TYPES.SCISSOR:this.renderer.scissor.push(i);break;case r.MASK_TYPES.STENCIL:this.renderer.stencil.push(i);break;case r.MASK_TYPES.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i);break;case r.MASK_TYPES.COLOR:this.pushColorMask(i);break;default:break}i.type===r.MASK_TYPES.SPRITE&&this.maskStack.push(i)}pop(e){const t=this.maskStack.pop();if(t&&t._target===e){if(t.enabled)switch(t.type){case r.MASK_TYPES.SCISSOR:this.renderer.scissor.pop(t);break;case r.MASK_TYPES.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case r.MASK_TYPES.SPRITE:this.popSpriteMask(t);break;case r.MASK_TYPES.COLOR:this.popColorMask(t);break;default:break}if(t.reset(),t.pooled&&this.maskDataPool.push(t),0!==this.maskStack.length){const e=this.maskStack[this.maskStack.length-1];e.type===r.MASK_TYPES.SPRITE&&e._filters&&(e._filters[0].maskSprite=e.maskObject)}}}detect(e){const t=e.maskObject;t?t.isSprite?e.type=r.MASK_TYPES.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=r.MASK_TYPES.SCISSOR:e.type=r.MASK_TYPES.STENCIL:e.type=r.MASK_TYPES.COLOR}pushSpriteMask(e){const{maskObject:t}=e,i=e._target;let r=e._filters;r||(r=this.alphaMaskPool[this.alphaMaskIndex],r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new s.SpriteMaskFilter]));const n=this.renderer,o=n.renderTexture;let a,l;if(o.current){const t=o.current;a=e.resolution||t.resolution,l=e.multisample??t.multisample}else a=e.resolution||n.resolution,l=e.multisample??n.multisample;r[0].resolution=a,r[0].multisample=l,r[0].maskSprite=t;const u=i.filterArea;i.filterArea=t.getBounds(!0),n.filter.push(i,r),i.filterArea=u,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const t=e._colorMask,i=e._colorMask=t&e.colorMask;i!==t&&this.renderer.gl.colorMask(0!=(1&i),0!=(2&i),0!=(4&i),0!=(8&i))}popColorMask(e){const t=e._colorMask,i=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;i!==t&&this.renderer.gl.colorMask(0!=(1&i),0!=(2&i),0!=(4&i),0!=(8&i))}destroy(){this.renderer=null}}i.MaskSystem=a,a.extension={type:n.ExtensionType.RendererSystem,name:"mask"},n.extensions.add(a)},{"@pixi/constants":"GJEO","@pixi/extensions":"LbpS","../filters/spriteMask/SpriteMaskFilter.mjs":"w7KE","./MaskData.mjs":"A3f1"}],y7j1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.AbstractMaskSystem=void 0;i.AbstractMaskSystem=class{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:t}=this.renderer,i=this.getStackLength();this.maskStack=e;const r=this.getStackLength();r!==i&&(0===r?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}},{}],pZPt:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ScissorSystem=void 0;var r=e("@pixi/extensions"),n=e("@pixi/math"),s=e("@pixi/settings"),o=e("./AbstractMaskSystem.mjs");const a=new n.Matrix,l=[],u=class extends o.AbstractMaskSystem{constructor(e){super(e),this.glConst=s.settings.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const t=e._scissorRect,{maskObject:i}=e,{renderer:r}=this,s=r.renderTexture,o=i.getBounds(!0,l.pop()??new n.Rectangle);this.roundFrameToPixels(o,s.current?s.current.resolution:r.resolution,s.sourceFrame,s.destinationFrame,r.projection.transform),t&&o.fit(t),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:t,b:i,c:r,d:n}=e;return(Math.abs(i)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(n)>1e-4)}testScissor(e){const{maskObject:t}=e;if(!t.isFastRect||!t.isFastRect())return!1;if(u.isMatrixRotated(t.worldTransform))return!1;if(u.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const i=e._scissorRectLocal;return i.width>0&&i.height>0}roundFrameToPixels(e,t,i,r,n){u.isMatrixRotated(n)||((n=n?a.copyFrom(n):a.identity()).translate(-i.x,-i.y).scale(r.width/i.width,r.height/i.height).translate(r.x,r.y),this.renderer.filter.transformAABB(n,e),e.fit(r),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:t}=this.renderer;e&&l.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;t=this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};let c=u;i.ScissorSystem=c,c.extension={type:r.ExtensionType.RendererSystem,name:"scissor"},r.extensions.add(c)},{"@pixi/extensions":"LbpS","@pixi/math":"ua9t","@pixi/settings":"NIYj","./AbstractMaskSystem.mjs":"y7j1"}],K8vh:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.StencilSystem=void 0;var r=e("@pixi/extensions"),n=e("@pixi/settings"),s=e("./AbstractMaskSystem.mjs");class o extends s.AbstractMaskSystem{constructor(e){super(e),this.glConst=n.settings.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const t=e.maskObject,{gl:i}=this.renderer,r=e._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),e._stencilCounter++;const n=e._colorMask;0!==n&&(e._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,r,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==n&&(e._colorMask=n,i.colorMask(0!=(1&n),0!=(2&n),0!=(4&n),0!=(8&n))),this._useCurrent()}pop(e){const t=this.renderer.gl;if(0===this.getStackLength())t.disable(t.STENCIL_TEST);else{const i=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,r=i?i._colorMask:15;0!==r&&(i._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==r&&(i._colorMask=r,t.colorMask(0!=(1&r),0!=(2&r),0!=(4&r),0!=(8&r))),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}i.StencilSystem=o,o.extension={type:r.ExtensionType.RendererSystem,name:"stencil"},r.extensions.add(o)},{"@pixi/extensions":"LbpS","@pixi/settings":"NIYj","./AbstractMaskSystem.mjs":"y7j1"}],U9wT:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.PluginSystem=void 0;var r=e("@pixi/extensions"),n=e("@pixi/utils");class s{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get:()=>((0,n.deprecation)("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract)},prepare:{enumerable:!1,get:()=>((0,n.deprecation)("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare)},interaction:{enumerable:!1,get:()=>((0,n.deprecation)("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events)}})}init(){const e=this.rendererPlugins;for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}i.PluginSystem=s,s.extension={type:[r.ExtensionType.RendererSystem,r.ExtensionType.CanvasRendererSystem],name:"_plugin"},r.extensions.add(s)},{"@pixi/extensions":"LbpS","@pixi/utils":"vvGD"}],WW1M:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ProjectionSystem=void 0;var r=e("@pixi/extensions"),n=e("@pixi/math");class s{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new n.Matrix,this.transform=null}update(e,t,i,r){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);const n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)}calculateProjection(e,t,i,r){const n=this.projectionMatrix,s=r?-1:1;n.identity(),n.a=1/t.width*2,n.d=s*(1/t.height*2),n.tx=-1-t.x*n.a,n.ty=-s-t.y*n.d}setTransform(e){}destroy(){this.renderer=null}}i.ProjectionSystem=s,s.extension={type:r.ExtensionType.RendererSystem,name:"projection"},r.extensions.add(s)},{"@pixi/extensions":"LbpS","@pixi/math":"ua9t"}],SWZE:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.GenerateTextureSystem=void 0;var r=e("@pixi/extensions"),n=e("@pixi/math"),s=e("./RenderTexture.mjs");const o=new n.Transform;class a{constructor(e){this.renderer=e,this._tempMatrix=new n.Matrix}generateTexture(e,t){const{region:i,...r}=t||{},n=i||e.getLocalBounds(null,!0);0===n.width&&(n.width=1),0===n.height&&(n.height=1);const a=s.RenderTexture.create({width:n.width,height:n.height,...r});this._tempMatrix.tx=-n.x,this._tempMatrix.ty=-n.y;const l=e.transform;return e.transform=o,this.renderer.render(e,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=l,a}destroy(){}}i.GenerateTextureSystem=a,a.extension={type:[r.ExtensionType.RendererSystem,r.ExtensionType.CanvasRendererSystem],name:"textureGenerator"},r.extensions.add(a)},{"@pixi/extensions":"LbpS","@pixi/math":"ua9t","./RenderTexture.mjs":"HgC8"}],DABi:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.RenderTextureSystem=void 0;var r=e("@pixi/color"),n=e("@pixi/extensions"),s=e("@pixi/math");const o=new s.Rectangle,a=new s.Rectangle;class l{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new s.Rectangle,this.destinationFrame=new s.Rectangle,this.viewportFrame=new s.Rectangle}contextChange(){const e=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,t,i){const r=this.renderer;let n,s,l;this.current=e,e?(n=e.baseTexture,l=n.resolution,t||(o.width=e.frame.width,o.height=e.frame.height,t=o),i||(a.x=e.frame.x,a.y=e.frame.y,a.width=t.width,a.height=t.height,i=a),s=n.framebuffer):(l=r.resolution,t||(o.width=r._view.screen.width,o.height=r._view.screen.height,t=o),i||((i=o).width=t.width,i.height=t.height));const u=this.viewportFrame;u.x=i.x*l,u.y=i.y*l,u.width=i.width*l,u.height=i.height*l,e||(u.y=r.view.height-(u.y+u.height)),u.ceil(),this.renderer.framebuffer.bind(s,u),this.renderer.projection.update(i,t,l,!s),e?this.renderer.mask.setMaskStack(n.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(i)}clear(e,t){const i=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,n=r.Color.shared.setValue(e||i);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&n.premultiply(n.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:e,y:t,width:i,height:r}=this.viewportFrame;e=Math.round(e),t=Math.round(t),i=Math.round(i),r=Math.round(r),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(e,t,i,r)}this.renderer.framebuffer.clear(n.red,n.green,n.blue,n.alpha,t),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}i.RenderTextureSystem=l,l.extension={type:n.ExtensionType.RendererSystem,name:"renderTexture"},n.extensions.add(l)},{"@pixi/color":"WFJG","@pixi/extensions":"LbpS","@pixi/math":"ua9t"}],qrjC:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.IGLUniformData=i.GLProgram=void 0;i.IGLUniformData=class{};i.GLProgram=class{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}},{}],n9rP:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.getAttributeData=function(e,t){const i={},s=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let o=0;o<s;o++){const s=t.getActiveAttrib(e,o);if(s.name.startsWith("gl_"))continue;const a=(0,n.mapType)(t,s.type),l={type:a,name:s.name,size:(0,r.mapSize)(a),location:t.getAttribLocation(e,s.name)};i[s.name]=l}return i};var r=e("./mapSize.mjs"),n=e("./mapType.mjs")},{"./mapSize.mjs":"WO5d","./mapType.mjs":"NCqU"}],qqbJ:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.getUniformData=function(e,t){const i={},s=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let o=0;o<s;o++){const s=t.getActiveUniform(e,o),a=s.name.replace(/\[.*?\]$/,""),l=!!s.name.match(/\[.*?\]$/),u=(0,n.mapType)(t,s.type);i[a]={name:a,index:o,type:u,size:s.size,isArray:l,value:(0,r.defaultValue)(u,s.size)}}return i};var r=e("./defaultValue.mjs"),n=e("./mapType.mjs")},{"./defaultValue.mjs":"HHSG","./mapType.mjs":"NCqU"}],SLGR:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.generateProgram=function(e,t){const i=(0,n.compileShader)(e,e.VERTEX_SHADER,t.vertexSrc),u=(0,n.compileShader)(e,e.FRAGMENT_SHADER,t.fragmentSrc),c=e.createProgram();e.attachShader(c,i),e.attachShader(c,u);const h=t.extra?.transformFeedbackVaryings;h&&("function"!=typeof e.transformFeedbackVaryings||e.transformFeedbackVaryings(c,h.names,"separate"===h.bufferMode?e.SEPARATE_ATTRIBS:e.INTERLEAVED_ATTRIBS));e.linkProgram(c),e.getProgramParameter(c,e.LINK_STATUS)||(0,l.logProgramError)(e,c,i,u);if(t.attributeData=(0,o.getAttributeData)(c,e),t.uniformData=(0,a.getUniformData)(c,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){const i=Object.keys(t.attributeData);i.sort(((e,t)=>e>t?1:-1));for(let r=0;r<i.length;r++)t.attributeData[i[r]].location=r,e.bindAttribLocation(c,r,i[r]);e.linkProgram(c)}e.deleteShader(i),e.deleteShader(u);const d={};for(const i in t.uniformData){const r=t.uniformData[i];d[i]={location:e.getUniformLocation(c,i),value:(0,s.defaultValue)(r.type,r.size)}}return new r.GLProgram(c,d)};var r=e("../GLProgram.mjs"),n=e("./compileShader.mjs"),s=e("./defaultValue.mjs"),o=e("./getAttributeData.mjs"),a=e("./getUniformData.mjs"),l=e("./logProgramError.mjs")},{"../GLProgram.mjs":"qrjC","./compileShader.mjs":"Yec3","./defaultValue.mjs":"HHSG","./getAttributeData.mjs":"n9rP","./getUniformData.mjs":"qqbJ","./logProgramError.mjs":"h6Sl"}],gwKe:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.createUBOElements=l,i.generateUniformBufferSync=function(e,t){if(!e.autoManage)return{size:0,syncFunc:s};const i=u(e.uniforms,t),{uboElements:c,size:h}=l(i),d=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "];for(let t=0;t<c.length;t++){const i=c[t],s=e.uniforms[i.data.name],l=i.data.name;let u=!1;for(let e=0;e<r.uniformParsers.length;e++){const t=r.uniformParsers[e];if(t.codeUbo&&t.test(i.data,s)){d.push(`offset = ${i.offset/4};`,r.uniformParsers[e].codeUbo(i.data.name,s)),u=!0;break}}if(!u)if(i.data.size>1){const e=(0,n.mapSize)(i.data.type),t=Math.max(a[i.data.type]/16,1),r=e/t,s=(4-r%4)%4;d.push(`\n                cv = ud.${l}.value;\n                v = uv.${l};\n                offset = ${i.offset/4};\n\n                t = 0;\n\n                for(var i=0; i < ${i.data.size*t}; i++)\n                {\n                    for(var j = 0; j < ${r}; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ${s};\n                }\n\n                `)}else{const e=o[i.data.type];d.push(`\n                cv = ud.${l}.value;\n                v = uv.${l};\n                offset = ${i.offset/4};\n                ${e};\n                `)}}return d.push("\n       renderer.buffer.update(buffer);\n    "),{size:h,syncFunc:new Function("ud","uv","renderer","syncData","buffer",d.join("\n"))}},i.getUBOData=u,e("./index.mjs");var r=e("./uniformParsers.mjs"),n=e("./mapSize.mjs");function s(e,t,i,r,n){i.buffer.update(n)}const o={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},a={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function l(e){const t=e.map((e=>({data:e,offset:0,dataLen:0,dirty:0})));let i=0,r=0,n=0;for(let e=0;e<t.length;e++){const s=t[e];if(i=a[s.data.type],s.data.size>1&&(i=Math.max(i,16)*s.data.size),s.dataLen=i,r%i!=0&&r<16){const e=r%i%16;r+=e,n+=e}r+i>16?(n=16*Math.ceil(n/16),s.offset=n,n+=i,r=i):(s.offset=n,r+=i,n+=i)}return n=16*Math.ceil(n/16),{uboElements:t,size:n}}function u(e,t){const i=[];for(const r in e)t[r]&&i.push(t[r]);return i.sort(((e,t)=>e.index-t.index)),i}},{"./index.mjs":"wWmT","./uniformParsers.mjs":"e3dY","./mapSize.mjs":"WO5d"}],KsiL:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ShaderSystem=void 0;var r=e("@pixi/extensions");e("./utils/index.mjs");var n=e("./utils/generateProgram.mjs"),s=e("./utils/generateUniformBufferSync.mjs"),o=e("./utils/unsafeEvalSupported.mjs"),a=e("./utils/generateUniformsSync.mjs");let l=0;const u={textureCount:0,uboCount:0};class c{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=l++}systemCheck(){if(!(0,o.unsafeEvalSupported)())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const i=e.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),t||(u.textureCount=0,u.uboCount=0,this.syncUniformGroup(e.uniformGroup,u)),r}setUniforms(e){const t=this.shader.program,i=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(i.uniformData,e,this.renderer)}syncUniformGroup(e,t){const i=this.getGlProgram();e.static&&e.dirtyId===i.uniformDirtyGroups[e.id]||(i.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,i,t))}syncUniforms(e,t,i){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,i)}createSyncGroups(e){const t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=(0,a.generateUniformsSync)(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){const i=this.getGlProgram();if(!e.static||0!==e.dirtyId||!i.uniformGroups[e.id]){e.dirtyId=0;const r=i.uniformGroups[e.id]||this.createSyncBufferGroup(e,i,t);e.buffer.update(),r(i.uniformData,e.uniforms,this.renderer,u,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,i.uniformBufferBindings[t])}createSyncBufferGroup(e,t,i){const{gl:r}=this.renderer;this.renderer.buffer.bind(e.buffer);const n=this.gl.getUniformBlockIndex(t.program,i);t.uniformBufferBindings[i]=this.shader.uniformBindCount,r.uniformBlockBinding(t.program,n,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=(0,s.generateUniformBufferSync)(e,this.shader.program.uniformData)),e.autoManage){const t=new Float32Array(a.size/4);e.buffer.update(t)}return t.uniformGroups[e.id]=a.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,i){const r=e.uniforms,n=[`${i}-`];for(const e in r)n.push(e),t[e]&&n.push(t[e].type);return n.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const t=this.gl,i=e.program,r=(0,n.generateProgram)(t,i);return i.glPrograms[this.renderer.CONTEXT_UID]=r,r}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}i.ShaderSystem=c,c.extension={type:r.ExtensionType.RendererSystem,name:"shader"},r.extensions.add(c)},{"@pixi/extensions":"LbpS","./utils/index.mjs":"wWmT","./utils/generateProgram.mjs":"SLGR","./utils/generateUniformBufferSync.mjs":"gwKe","./utils/unsafeEvalSupported.mjs":"sdRa","./utils/generateUniformsSync.mjs":"eawc"}],M9en:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.StartupSystem=void 0;var r=e("@pixi/extensions");class n{constructor(e){this.renderer=e}run(e){const{renderer:t}=this;t.runners.init.emit(t.options),e.hello,t.resize(t.screen.width,t.screen.height)}destroy(){}}i.StartupSystem=n,n.defaultOptions={hello:!1},n.extension={type:[r.ExtensionType.RendererSystem,r.ExtensionType.CanvasRendererSystem],name:"startup"},r.extensions.add(n)},{"@pixi/extensions":"LbpS"}],q2Oa:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.mapWebGLBlendModesToPixi=function(e,t=[]){return t[r.BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.ADD]=[e.ONE,e.ONE],t[r.BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.NONE]=[0,0],t[r.BLEND_MODES.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[r.BLEND_MODES.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[r.BLEND_MODES.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[r.BLEND_MODES.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[r.BLEND_MODES.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[r.BLEND_MODES.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[r.BLEND_MODES.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t};var r=e("@pixi/constants")},{"@pixi/constants":"GJEO"}],rzd6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.StateSystem=void 0;var r=e("@pixi/constants"),n=e("@pixi/extensions"),s=e("./State.mjs"),o=e("./utils/mapWebGLBlendModesToPixi.mjs");const a=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=r.BLEND_MODES.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new s.State,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=(0,o.mapWebGLBlendModesToPixi)(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,i=0;for(;t;)1&t&&this.map[i].call(this,!!(e.data&1<<i)),t>>=1,i++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(a.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(a.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const t=this.blendModes[e],i=this.gl;2===t.length?i.blendFunc(t[0],t[1]):i.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,i.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){const i=this.checks.indexOf(e);t&&-1===i?this.checks.push(e):t||-1===i||this.checks.splice(i,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};let l=a;i.StateSystem=l,l.extension={type:n.ExtensionType.RendererSystem,name:"state"},n.extensions.add(l)},{"@pixi/constants":"GJEO","@pixi/extensions":"LbpS","./State.mjs":"ytrH","./utils/mapWebGLBlendModesToPixi.mjs":"q2Oa"}],AUZo:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.SystemManager=void 0;var r=e("@pixi/runner"),n=e("@pixi/utils");class s extends n.EventEmitter{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const t=(e.priority??[]).filter((t=>e.systems[t])),i=[...t,...Object.keys(e.systems).filter((e=>!t.includes(e)))];for(const t of i)this.addSystem(e.systems[t],t)}addRunners(...e){e.forEach((e=>{this.runners[e]=new r.Runner(e)}))}addSystem(e,t){const i=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=i,this._systemsHash[t]=i;for(const e in this.runners)this.runners[e].add(i);return this}emitWithCustomOptions(e,t){const i=Object.keys(this._systemsHash);e.items.forEach((r=>{const n=i.find((e=>this._systemsHash[e]===r));r[e.name](t[n])}))}destroy(){Object.values(this.runners).forEach((e=>{e.destroy()})),this._systemsHash={}}}i.SystemManager=s},{"@pixi/runner":"e7ds","@pixi/utils":"vvGD"}],wEtZ:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.TextureGCSystem=void 0;var r=e("@pixi/constants"),n=e("@pixi/extensions");const s=class{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=s.defaultMaxIdle,this.checkCountMax=s.defaultCheckCountMax,this.mode=s.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==r.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,t=e.managedTextures;let i=!1;for(let r=0;r<t.length;r++){const n=t[r];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(e.destroyTexture(n,!0),t[r]=null,i=!0)}if(i){let e=0;for(let i=0;i<t.length;i++)null!==t[i]&&(t[e++]=t[i]);t.length=e}}unload(e){const t=this.renderer.texture,i=e._texture;i&&!i.framebuffer&&t.destroyTexture(i);for(let t=e.children.length-1;t>=0;t--)this.unload(e.children[t])}destroy(){this.renderer=null}};let o=s;i.TextureGCSystem=o,o.defaultMode=r.GC_MODES.AUTO,o.defaultMaxIdle=3600,o.defaultCheckCountMax=600,o.extension={type:n.ExtensionType.RendererSystem,name:"textureGC"},n.extensions.add(o)},{"@pixi/constants":"GJEO","@pixi/extensions":"LbpS"}],jGWS:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.GLTexture=void 0;var r=e("@pixi/constants");i.GLTexture=class{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=r.TYPES.UNSIGNED_BYTE,this.internalFormat=r.FORMATS.RGBA,this.samplerType=0}}},{"@pixi/constants":"GJEO"}],eUyy:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.mapTypeAndFormatToInternalFormat=function(e){let t;t="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?{[r.TYPES.UNSIGNED_BYTE]:{[r.FORMATS.RGBA]:e.RGBA8,[r.FORMATS.RGB]:e.RGB8,[r.FORMATS.RG]:e.RG8,[r.FORMATS.RED]:e.R8,[r.FORMATS.RGBA_INTEGER]:e.RGBA8UI,[r.FORMATS.RGB_INTEGER]:e.RGB8UI,[r.FORMATS.RG_INTEGER]:e.RG8UI,[r.FORMATS.RED_INTEGER]:e.R8UI,[r.FORMATS.ALPHA]:e.ALPHA,[r.FORMATS.LUMINANCE]:e.LUMINANCE,[r.FORMATS.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[r.TYPES.BYTE]:{[r.FORMATS.RGBA]:e.RGBA8_SNORM,[r.FORMATS.RGB]:e.RGB8_SNORM,[r.FORMATS.RG]:e.RG8_SNORM,[r.FORMATS.RED]:e.R8_SNORM,[r.FORMATS.RGBA_INTEGER]:e.RGBA8I,[r.FORMATS.RGB_INTEGER]:e.RGB8I,[r.FORMATS.RG_INTEGER]:e.RG8I,[r.FORMATS.RED_INTEGER]:e.R8I},[r.TYPES.UNSIGNED_SHORT]:{[r.FORMATS.RGBA_INTEGER]:e.RGBA16UI,[r.FORMATS.RGB_INTEGER]:e.RGB16UI,[r.FORMATS.RG_INTEGER]:e.RG16UI,[r.FORMATS.RED_INTEGER]:e.R16UI,[r.FORMATS.DEPTH_COMPONENT]:e.DEPTH_COMPONENT16},[r.TYPES.SHORT]:{[r.FORMATS.RGBA_INTEGER]:e.RGBA16I,[r.FORMATS.RGB_INTEGER]:e.RGB16I,[r.FORMATS.RG_INTEGER]:e.RG16I,[r.FORMATS.RED_INTEGER]:e.R16I},[r.TYPES.UNSIGNED_INT]:{[r.FORMATS.RGBA_INTEGER]:e.RGBA32UI,[r.FORMATS.RGB_INTEGER]:e.RGB32UI,[r.FORMATS.RG_INTEGER]:e.RG32UI,[r.FORMATS.RED_INTEGER]:e.R32UI,[r.FORMATS.DEPTH_COMPONENT]:e.DEPTH_COMPONENT24},[r.TYPES.INT]:{[r.FORMATS.RGBA_INTEGER]:e.RGBA32I,[r.FORMATS.RGB_INTEGER]:e.RGB32I,[r.FORMATS.RG_INTEGER]:e.RG32I,[r.FORMATS.RED_INTEGER]:e.R32I},[r.TYPES.FLOAT]:{[r.FORMATS.RGBA]:e.RGBA32F,[r.FORMATS.RGB]:e.RGB32F,[r.FORMATS.RG]:e.RG32F,[r.FORMATS.RED]:e.R32F,[r.FORMATS.DEPTH_COMPONENT]:e.DEPTH_COMPONENT32F},[r.TYPES.HALF_FLOAT]:{[r.FORMATS.RGBA]:e.RGBA16F,[r.FORMATS.RGB]:e.RGB16F,[r.FORMATS.RG]:e.RG16F,[r.FORMATS.RED]:e.R16F},[r.TYPES.UNSIGNED_SHORT_5_6_5]:{[r.FORMATS.RGB]:e.RGB565},[r.TYPES.UNSIGNED_SHORT_4_4_4_4]:{[r.FORMATS.RGBA]:e.RGBA4},[r.TYPES.UNSIGNED_SHORT_5_5_5_1]:{[r.FORMATS.RGBA]:e.RGB5_A1},[r.TYPES.UNSIGNED_INT_2_10_10_10_REV]:{[r.FORMATS.RGBA]:e.RGB10_A2,[r.FORMATS.RGBA_INTEGER]:e.RGB10_A2UI},[r.TYPES.UNSIGNED_INT_10F_11F_11F_REV]:{[r.FORMATS.RGB]:e.R11F_G11F_B10F},[r.TYPES.UNSIGNED_INT_5_9_9_9_REV]:{[r.FORMATS.RGB]:e.RGB9_E5},[r.TYPES.UNSIGNED_INT_24_8]:{[r.FORMATS.DEPTH_STENCIL]:e.DEPTH24_STENCIL8},[r.TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[r.FORMATS.DEPTH_STENCIL]:e.DEPTH32F_STENCIL8}}:{[r.TYPES.UNSIGNED_BYTE]:{[r.FORMATS.RGBA]:e.RGBA,[r.FORMATS.RGB]:e.RGB,[r.FORMATS.ALPHA]:e.ALPHA,[r.FORMATS.LUMINANCE]:e.LUMINANCE,[r.FORMATS.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[r.TYPES.UNSIGNED_SHORT_5_6_5]:{[r.FORMATS.RGB]:e.RGB},[r.TYPES.UNSIGNED_SHORT_4_4_4_4]:{[r.FORMATS.RGBA]:e.RGBA},[r.TYPES.UNSIGNED_SHORT_5_5_5_1]:{[r.FORMATS.RGBA]:e.RGBA}};return t};var r=e("@pixi/constants")},{"@pixi/constants":"GJEO"}],p31Z:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.TextureSystem=void 0;var r=e("@pixi/constants"),n=e("@pixi/extensions"),s=e("@pixi/utils"),o=e("./BaseTexture.mjs"),a=e("./GLTexture.mjs"),l=e("./utils/mapTypeAndFormatToInternalFormat.mjs");class u{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new o.BaseTexture,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=(0,l.mapTypeAndFormatToInternalFormat)(e);const t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let e=0;e<t;e++)this.boundTextures[e]=null;this.emptyTextures={};const i=new a.GLTexture(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new a.GLTexture(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let t=0;t<6;t++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let e=0;e<this.boundTextures.length;e++)this.bind(null,e)}bind(e,t=0){const{gl:i}=this;if(e=e?.castToBaseTexture(),e?.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const r=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,i.activeTexture(i.TEXTURE0+t)),i.bindTexture(e.target,r.texture)),r.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,i.activeTexture(i.TEXTURE0+t)),this.updateTexture(e)):r.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,i.activeTexture(i.TEXTURE0+t)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:t,boundTextures:i}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let e=0;e<i.length;e++)i[e]===this.unknownTexture&&this.bind(null,e)}for(let r=0;r<i.length;r++)i[r]===e&&(this.currentLocation!==r&&(t.activeTexture(t.TEXTURE0+r),this.currentLocation=r),t.bindTexture(e.target,this.emptyTextures[e.target].texture),i[r]=null)}ensureSamplerType(e){const{boundTextures:t,hasIntegerTextures:i,CONTEXT_UID:n}=this;if(i)for(let i=e-1;i>=0;--i){const e=t[i];if(e){e._glTextures[n].samplerType!==r.SAMPLER_TYPES.FLOAT&&this.renderer.texture.unbind(e)}}}initTexture(e){const t=new a.GLTexture(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){t.internalFormat=this.internalFormats[e.type]?.[e.format]??e.format,2===this.webGLVersion&&e.type===r.TYPES.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){const t=e._glTextures[this.CONTEXT_UID];if(!t)return;const i=this.renderer;if(this.initTextureType(e,t),e.resource?.upload(i,e,t))t.samplerType!==r.SAMPLER_TYPES.FLOAT&&(this.hasIntegerTextures=!0);else{const r=e.realWidth,n=e.realHeight,s=i.gl;(t.width!==r||t.height!==n||t.dirtyId<0)&&(t.width=r,t.height=n,s.texImage2D(e.target,0,t.internalFormat,r,n,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}destroyTexture(e,t){const{gl:i}=this;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),i.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){const t=this.managedTextures.indexOf(e);-1!==t&&(0,s.removeItems)(this.managedTextures,t,1)}}updateTextureStyle(e){const t=e._glTextures[this.CONTEXT_UID];t&&(e.mipmap!==r.MIPMAP_MODES.POW2&&2===this.webGLVersion||e.isPowerOfTwo?t.mipmap=e.mipmap>=1:t.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?t.wrapMode=e.wrapMode:t.wrapMode=r.WRAP_MODES.CLAMP,e.resource?.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){const i=this.gl;if(t.mipmap&&e.mipmap!==r.MIPMAP_MODES.ON_MANUAL&&i.generateMipmap(e.target),i.texParameteri(e.target,i.TEXTURE_WRAP_S,t.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===r.SCALE_MODES.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);const t=this.renderer.context.extensions.anisotropicFiltering;if(t&&e.anisotropicLevel>0&&e.scaleMode===r.SCALE_MODES.LINEAR){const r=Math.min(e.anisotropicLevel,i.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(e.target,t.TEXTURE_MAX_ANISOTROPY_EXT,r)}}else i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===r.SCALE_MODES.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,e.scaleMode===r.SCALE_MODES.LINEAR?i.LINEAR:i.NEAREST)}destroy(){this.renderer=null}}i.TextureSystem=u,u.extension={type:n.ExtensionType.RendererSystem,name:"texture"},n.extensions.add(u)},{"@pixi/constants":"GJEO","@pixi/extensions":"LbpS","@pixi/utils":"vvGD","./BaseTexture.mjs":"WC8m","./GLTexture.mjs":"jGWS","./utils/mapTypeAndFormatToInternalFormat.mjs":"eUyy"}],AYId:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.TransformFeedbackSystem=void 0;var r=e("@pixi/extensions");class n{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:i}=this,r=e._glTransformFeedbacks[i]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,r)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){const{gl:i,renderer:r}=this;t&&r.shader.bind(t),i.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:t,renderer:i,CONTEXT_UID:r}=this,n=t.createTransformFeedback();e._glTransformFeedbacks[r]=n,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,n);for(let n=0;n<e.buffers.length;n++){const s=e.buffers[n];s&&(i.buffer.update(s),s._glBuffers[r].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,n,s._glBuffers[r].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),n}disposeTransformFeedback(e,t){const i=e._glTransformFeedbacks[this.CONTEXT_UID],r=this.gl;e.disposeRunner.remove(this);const n=this.renderer.buffer;if(n)for(let i=0;i<e.buffers.length;i++){const r=e.buffers[i];if(!r)continue;const s=r._glBuffers[this.CONTEXT_UID];s&&(s.refCount--,0!==s.refCount||t||n.dispose(r,t))}i&&(t||r.deleteTransformFeedback(i),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}i.TransformFeedbackSystem=n,n.extension={type:r.ExtensionType.RendererSystem,name:"transformFeedback"},r.extensions.add(n)},{"@pixi/extensions":"LbpS"}],eIsp:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ViewSystem=void 0;var r=e("@pixi/extensions"),n=e("@pixi/math"),s=e("@pixi/settings");class o{constructor(e){this.renderer=e}init(e){this.screen=new n.Rectangle(0,0,e.width,e.height),this.element=e.view||s.settings.ADAPTER.createCanvas(),this.resolution=e.resolution||s.settings.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);const i=this.element.width/this.resolution,r=this.element.height/this.resolution;this.screen.width=i,this.screen.height=r,this.autoDensity&&(this.element.style.width=`${i}px`,this.element.style.height=`${r}px`),this.renderer.emit("resize",i,r),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){e&&this.element.parentNode?.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}}i.ViewSystem=o,o.defaultOptions={width:800,height:600,resolution:s.settings.RESOLUTION,autoDensity:!1},o.extension={type:[r.ExtensionType.RendererSystem,r.ExtensionType.CanvasRendererSystem],name:"_view"},r.extensions.add(o)},{"@pixi/extensions":"LbpS","@pixi/math":"ua9t","@pixi/settings":"NIYj"}],c8Pf:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"BackgroundSystem",{enumerable:!0,get:function(){return r.BackgroundSystem}}),Object.defineProperty(i,"BatchSystem",{enumerable:!0,get:function(){return n.BatchSystem}}),Object.defineProperty(i,"ContextSystem",{enumerable:!0,get:function(){return s.ContextSystem}}),Object.defineProperty(i,"FilterSystem",{enumerable:!0,get:function(){return o.FilterSystem}}),Object.defineProperty(i,"FramebufferSystem",{enumerable:!0,get:function(){return a.FramebufferSystem}}),Object.defineProperty(i,"GenerateTextureSystem",{enumerable:!0,get:function(){return f.GenerateTextureSystem}}),Object.defineProperty(i,"GeometrySystem",{enumerable:!0,get:function(){return l.GeometrySystem}}),Object.defineProperty(i,"MaskSystem",{enumerable:!0,get:function(){return u.MaskSystem}}),Object.defineProperty(i,"PluginSystem",{enumerable:!0,get:function(){return d.PluginSystem}}),Object.defineProperty(i,"ProjectionSystem",{enumerable:!0,get:function(){return p.ProjectionSystem}}),Object.defineProperty(i,"RenderTextureSystem",{enumerable:!0,get:function(){return m.RenderTextureSystem}}),Object.defineProperty(i,"ScissorSystem",{enumerable:!0,get:function(){return c.ScissorSystem}}),Object.defineProperty(i,"ShaderSystem",{enumerable:!0,get:function(){return g.ShaderSystem}}),Object.defineProperty(i,"StartupSystem",{enumerable:!0,get:function(){return y.StartupSystem}}),Object.defineProperty(i,"StateSystem",{enumerable:!0,get:function(){return v.StateSystem}}),Object.defineProperty(i,"StencilSystem",{enumerable:!0,get:function(){return h.StencilSystem}}),Object.defineProperty(i,"SystemManager",{enumerable:!0,get:function(){return x.SystemManager}}),Object.defineProperty(i,"TextureGCSystem",{enumerable:!0,get:function(){return _.TextureGCSystem}}),Object.defineProperty(i,"TextureSystem",{enumerable:!0,get:function(){return b.TextureSystem}}),Object.defineProperty(i,"TransformFeedbackSystem",{enumerable:!0,get:function(){return S.TransformFeedbackSystem}}),Object.defineProperty(i,"ViewSystem",{enumerable:!0,get:function(){return T.ViewSystem}});var r=e("./background/BackgroundSystem.mjs"),n=e("./batch/BatchSystem.mjs"),s=e("./context/ContextSystem.mjs"),o=e("./filters/FilterSystem.mjs"),a=e("./framebuffer/FramebufferSystem.mjs"),l=e("./geometry/GeometrySystem.mjs"),u=e("./mask/MaskSystem.mjs"),c=e("./mask/ScissorSystem.mjs"),h=e("./mask/StencilSystem.mjs"),d=e("./plugin/PluginSystem.mjs"),p=e("./projection/ProjectionSystem.mjs"),f=e("./renderTexture/GenerateTextureSystem.mjs"),m=e("./renderTexture/RenderTextureSystem.mjs"),g=e("./shader/ShaderSystem.mjs"),y=e("./startup/StartupSystem.mjs"),v=e("./state/StateSystem.mjs"),x=e("./system/SystemManager.mjs"),_=e("./textures/TextureGCSystem.mjs"),b=e("./textures/TextureSystem.mjs"),S=e("./transformFeedback/TransformFeedbackSystem.mjs"),T=e("./view/ViewSystem.mjs")},{"./background/BackgroundSystem.mjs":"kW6f","./batch/BatchSystem.mjs":"JREf","./context/ContextSystem.mjs":"WQyT","./filters/FilterSystem.mjs":"RiFV","./framebuffer/FramebufferSystem.mjs":"EiTT","./geometry/GeometrySystem.mjs":"lwCW","./mask/MaskSystem.mjs":"FeS2","./mask/ScissorSystem.mjs":"pZPt","./mask/StencilSystem.mjs":"K8vh","./plugin/PluginSystem.mjs":"U9wT","./projection/ProjectionSystem.mjs":"WW1M","./renderTexture/GenerateTextureSystem.mjs":"SWZE","./renderTexture/RenderTextureSystem.mjs":"DABi","./shader/ShaderSystem.mjs":"KsiL","./startup/StartupSystem.mjs":"M9en","./state/StateSystem.mjs":"rzd6","./system/SystemManager.mjs":"AUZo","./textures/TextureGCSystem.mjs":"wEtZ","./textures/TextureSystem.mjs":"p31Z","./transformFeedback/TransformFeedbackSystem.mjs":"AYId","./view/ViewSystem.mjs":"eIsp"}],NkRt:[function(e,t,i){"use strict";var r=e("@pixi/constants"),n=e("@pixi/settings"),s=e("@pixi/utils"),o=e("./batch/BatchRenderer.mjs"),a=e("./filters/Filter.mjs"),l=e("./shader/Program.mjs");e("./systems.mjs");var u=e("./textures/BaseTexture.mjs"),c=e("./context/ContextSystem.mjs"),h=e("./background/BackgroundSystem.mjs"),d=e("./view/ViewSystem.mjs"),p=e("./startup/StartupSystem.mjs"),f=e("./textures/TextureGCSystem.mjs");n.settings.PREFER_ENV=r.ENV.WEBGL2,n.settings.STRICT_TEXTURE_CACHE=!1,n.settings.RENDER_OPTIONS={...c.ContextSystem.defaultOptions,...h.BackgroundSystem.defaultOptions,...d.ViewSystem.defaultOptions,...p.StartupSystem.defaultOptions},Object.defineProperties(n.settings,{WRAP_MODE:{get:()=>u.BaseTexture.defaultOptions.wrapMode,set(e){(0,s.deprecation)("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),u.BaseTexture.defaultOptions.wrapMode=e}},SCALE_MODE:{get:()=>u.BaseTexture.defaultOptions.scaleMode,set(e){(0,s.deprecation)("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),u.BaseTexture.defaultOptions.scaleMode=e}},MIPMAP_TEXTURES:{get:()=>u.BaseTexture.defaultOptions.mipmap,set(e){(0,s.deprecation)("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),u.BaseTexture.defaultOptions.mipmap=e}},ANISOTROPIC_LEVEL:{get:()=>u.BaseTexture.defaultOptions.anisotropicLevel,set(e){(0,s.deprecation)("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),u.BaseTexture.defaultOptions.anisotropicLevel=e}},FILTER_RESOLUTION:{get:()=>((0,s.deprecation)("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),a.Filter.defaultResolution),set(e){a.Filter.defaultResolution=e}},FILTER_MULTISAMPLE:{get:()=>((0,s.deprecation)("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),a.Filter.defaultMultisample),set(e){a.Filter.defaultMultisample=e}},SPRITE_MAX_TEXTURES:{get:()=>o.BatchRenderer.defaultMaxTextures,set(e){(0,s.deprecation)("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),o.BatchRenderer.defaultMaxTextures=e}},SPRITE_BATCH_SIZE:{get:()=>o.BatchRenderer.defaultBatchSize,set(e){(0,s.deprecation)("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),o.BatchRenderer.defaultBatchSize=e}},CAN_UPLOAD_SAME_BUFFER:{get:()=>o.BatchRenderer.canUploadSameBuffer,set(e){(0,s.deprecation)("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),o.BatchRenderer.canUploadSameBuffer=e}},GC_MODE:{get:()=>f.TextureGCSystem.defaultMode,set(e){(0,s.deprecation)("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),f.TextureGCSystem.defaultMode=e}},GC_MAX_IDLE:{get:()=>f.TextureGCSystem.defaultMaxIdle,set(e){(0,s.deprecation)("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),f.TextureGCSystem.defaultMaxIdle=e}},GC_MAX_CHECK_COUNT:{get:()=>f.TextureGCSystem.defaultCheckCountMax,set(e){(0,s.deprecation)("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),f.TextureGCSystem.defaultCheckCountMax=e}},PRECISION_VERTEX:{get:()=>l.Program.defaultVertexPrecision,set(e){(0,s.deprecation)("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),l.Program.defaultVertexPrecision=e}},PRECISION_FRAGMENT:{get:()=>l.Program.defaultFragmentPrecision,set(e){(0,s.deprecation)("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),l.Program.defaultFragmentPrecision=e}}})},{"@pixi/constants":"GJEO","@pixi/settings":"NIYj","@pixi/utils":"vvGD","./batch/BatchRenderer.mjs":"k0j5","./filters/Filter.mjs":"dClD","./shader/Program.mjs":"w73G","./systems.mjs":"c8Pf","./textures/BaseTexture.mjs":"WC8m","./context/ContextSystem.mjs":"WQyT","./background/BackgroundSystem.mjs":"kW6f","./view/ViewSystem.mjs":"eIsp","./startup/StartupSystem.mjs":"M9en","./textures/TextureGCSystem.mjs":"wEtZ"}],sQyf:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.UPDATE_PRIORITY=void 0;var r=(e=>(e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY",e))(r||{});i.UPDATE_PRIORITY=r},{}],Wgzr:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.TickerListener=void 0;i.TickerListener=class{constructor(e,t=null,i=0,r=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=i,this.once=r}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}},{}],AcXE:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Ticker=void 0;var r=e("./const.mjs"),n=e("./TickerListener.mjs");const s=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new n.TickerListener(null,null,1/0),this.deltaMS=1/s.targetFPMS,this.elapsedMS=1/s.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,i=r.UPDATE_PRIORITY.NORMAL){return this._addListener(new n.TickerListener(e,t,i))}addOnce(e,t,i=r.UPDATE_PRIORITY.NORMAL){return this._addListener(new n.TickerListener(e,t,i,!0))}_addListener(e){let t=this._head.next,i=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(i);break}i=t,t=t.next}e.previous||e.connect(i)}else e.connect(i);return this._startIfPossible(),this}remove(e,t){let i=this._head.next;for(;i;)i=i.match(e,t)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const t=e-this._lastFrame|0;if(t<this._minElapsedMS)return;this._lastFrame=e-t%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*s.targetFPMS;const i=this._head;let r=i.next;for(;r;)r=r.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const t=Math.min(this.maxFPS,e),i=Math.min(Math.max(0,t)/1e3,s.targetFPMS);this._maxElapsedMS=1/i}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(0===e)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!s._shared){const e=s._shared=new s;e.autoStart=!0,e._protected=!0}return s._shared}static get system(){if(!s._system){const e=s._system=new s;e.autoStart=!0,e._protected=!0}return s._system}};let o=s;i.Ticker=o,o.targetFPMS=.06},{"./const.mjs":"sQyf","./TickerListener.mjs":"Wgzr"}],ZLC7:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"settings",{enumerable:!0,get:function(){return r.settings}});var r=e("@pixi/settings"),n=e("@pixi/utils"),s=e("./Ticker.mjs");Object.defineProperties(r.settings,{TARGET_FPMS:{get:()=>s.Ticker.targetFPMS,set(e){(0,n.deprecation)("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),s.Ticker.targetFPMS=e}}})},{"@pixi/settings":"NIYj","@pixi/utils":"vvGD","./Ticker.mjs":"AcXE"}],FIVP:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.TickerPlugin=void 0;var r=e("@pixi/extensions"),n=e("./const.mjs"),s=e("./Ticker.mjs");class o{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,n.UPDATE_PRIORITY.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?s.Ticker.shared:new s.Ticker,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}i.TickerPlugin=o,o.extension=r.ExtensionType.Application,r.extensions.add(o)},{"@pixi/extensions":"LbpS","./const.mjs":"sQyf","./Ticker.mjs":"AcXE"}],qUpt:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"Ticker",{enumerable:!0,get:function(){return n.Ticker}}),Object.defineProperty(i,"TickerPlugin",{enumerable:!0,get:function(){return s.TickerPlugin}}),Object.defineProperty(i,"UPDATE_PRIORITY",{enumerable:!0,get:function(){return r.UPDATE_PRIORITY}}),e("./settings.mjs");var r=e("./const.mjs"),n=e("./Ticker.mjs"),s=e("./TickerPlugin.mjs")},{"./settings.mjs":"ZLC7","./const.mjs":"sQyf","./Ticker.mjs":"AcXE","./TickerPlugin.mjs":"FIVP"}],C0kG:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.autoDetectRenderer=function(e){for(const t of n)if(t.test(e))return new t(e);throw new Error("Unable to auto-detect a suitable renderer.")};var r=e("@pixi/extensions");const n=[];r.extensions.handleByList(r.ExtensionType.Renderer,n)},{"@pixi/extensions":"LbpS"}],pVnQ:[function(e,t,i){},{}],GhVB:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}"},{}],QRpX:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},{}],YxDE:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.defaultVertex=i.defaultFilterVertex=void 0;var r=s(e("./default.mjs")),n=s(e("./defaultFilter.mjs"));function s(e){return e&&e.__esModule?e:{default:e}}const o=r.default;i.defaultVertex=o;const a=n.default;i.defaultFilterVertex=a},{"./default.mjs":"GhVB","./defaultFilter.mjs":"QRpX"}],zCcA:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.MultisampleSystem=void 0;var r=e("@pixi/constants"),n=e("@pixi/extensions");class s{constructor(e){this.renderer=e}contextChange(e){let t;if(1===this.renderer.context.webGLVersion){const i=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,i)}else{const i=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,i)}t>=r.MSAA_QUALITY.HIGH?this.multisample=r.MSAA_QUALITY.HIGH:t>=r.MSAA_QUALITY.MEDIUM?this.multisample=r.MSAA_QUALITY.MEDIUM:t>=r.MSAA_QUALITY.LOW?this.multisample=r.MSAA_QUALITY.LOW:this.multisample=r.MSAA_QUALITY.NONE}destroy(){}}i.MultisampleSystem=s,s.extension={type:n.ExtensionType.RendererSystem,name:"_multisample"},n.extensions.add(s)},{"@pixi/constants":"GJEO","@pixi/extensions":"LbpS"}],XQMe:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.GLBuffer=void 0;i.GLBuffer=class{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}},{}],bbX8:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BufferSystem=void 0;var r=e("@pixi/extensions"),n=e("./GLBuffer.mjs");class s{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:i}=this,r=e._glBuffers[i]||this.createGLBuffer(e);t.bindBuffer(e.type,r.buffer)}unbind(e){const{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){const{gl:i,CONTEXT_UID:r}=this;if(this.boundBufferBases[t]!==e){const n=e._glBuffers[r]||this.createGLBuffer(e);this.boundBufferBases[t]=e,i.bindBufferBase(i.UNIFORM_BUFFER,t,n.buffer)}}bindBufferRange(e,t,i){const{gl:r,CONTEXT_UID:n}=this;i=i||0;const s=e._glBuffers[n]||this.createGLBuffer(e);r.bindBufferRange(r.UNIFORM_BUFFER,t||0,s.buffer,256*i,256)}update(e){const{gl:t,CONTEXT_UID:i}=this,r=e._glBuffers[i]||this.createGLBuffer(e);if(e._updateID!==r.updateID)if(r.updateID=e._updateID,t.bindBuffer(e.type,r.buffer),r.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{const i=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;r.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,i)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const i=e._glBuffers[this.CONTEXT_UID],r=this.gl;e.disposeRunner.remove(this),i&&(t||r.deleteBuffer(i.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const t=Object.keys(this.managedBuffers);for(let i=0;i<t.length;i++)this.dispose(this.managedBuffers[t[i]],e)}createGLBuffer(e){const{CONTEXT_UID:t,gl:i}=this;return e._glBuffers[t]=new n.GLBuffer(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}i.BufferSystem=s,s.extension={type:r.ExtensionType.RendererSystem,name:"buffer"},r.extensions.add(s)},{"@pixi/extensions":"LbpS","./GLBuffer.mjs":"XQMe"}],Sef0:[function(e,t,i){},{}],HUsx:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ObjectRendererSystem=void 0;var r=e("@pixi/extensions");class n{constructor(e){this.renderer=e}render(e,t){const i=this.renderer;let r,n,s,o;if(t&&(r=t.renderTexture,n=t.clear,s=t.transform,o=t.skipUpdateTransform),this.renderingToScreen=!r,i.runners.prerender.emit(),i.emit("prerender"),i.projection.transform=s,!i.context.isLost){if(r||(this.lastObjectRendered=e),!o){const t=e.enableTempParent();e.updateTransform(),e.disableTempParent(t)}i.renderTexture.bind(r),i.batch.currentRenderer.start(),(n??i.background.clearBeforeRender)&&i.renderTexture.clear(),e.render(i),i.batch.currentRenderer.flush(),r&&(t.blit&&i.framebuffer.blit(),r.baseTexture.update()),i.runners.postrender.emit(),i.projection.transform=null,i.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}i.ObjectRendererSystem=n,n.extension={type:r.ExtensionType.RendererSystem,name:"objectRenderer"},r.extensions.add(n)},{"@pixi/extensions":"LbpS"}],V3td:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Renderer=void 0;var r=e("@pixi/constants"),n=e("@pixi/extensions"),s=e("@pixi/math"),o=e("@pixi/settings"),a=e("@pixi/utils"),l=e("./shader/UniformGroup.mjs"),u=e("./system/SystemManager.mjs");const c=class extends u.SystemManager{constructor(e){super(),this.type=r.RENDERER_TYPE.WEBGL,e=Object.assign({},o.settings.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new l.UniformGroup({projectionMatrix:new s.Matrix},!0);const t={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:c.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(t),"useContextAlpha"in e&&((0,a.deprecation)("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&"notMultiplied"!==e.useContextAlpha,e.backgroundAlpha=!1===e.useContextAlpha?1:e.backgroundAlpha),this._plugin.rendererPlugins=c.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return!e?.forceCanvas&&(0,a.isWebGLSupported)()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return(0,a.deprecation)("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return(0,a.deprecation)("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return(0,a.deprecation)("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return(0,a.deprecation)("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){(0,a.deprecation)("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return(0,a.deprecation)("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){(0,a.deprecation)("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return(0,a.deprecation)("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};let h=c;i.Renderer=h,h.extension={type:n.ExtensionType.Renderer,priority:1},h.__plugins={},h.__systems={},n.extensions.handleByMap(n.ExtensionType.RendererPlugin,h.__plugins),n.extensions.handleByMap(n.ExtensionType.RendererSystem,h.__systems),n.extensions.add(h)},{"@pixi/constants":"GJEO","@pixi/extensions":"LbpS","@pixi/math":"ua9t","@pixi/settings":"NIYj","@pixi/utils":"vvGD","./shader/UniformGroup.mjs":"bYSX","./system/SystemManager.mjs":"AUZo"}],dEtE:[function(e,t,i){},{}],Nh96:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.AbstractMultiResource=void 0;var r=e("../BaseTexture.mjs"),n=e("./autoDetectResource.mjs"),s=e("./Resource.mjs");class o extends s.Resource{constructor(e,t){const{width:i,height:n}=t||{};super(i,n),this.items=[],this.itemDirtyIds=[];for(let t=0;t<e;t++){const e=new r.BaseTexture;this.items.push(e),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let i=0;i<this.length;i++)e[i]&&(e[i].castToBaseTexture?this.addBaseTextureAt(e[i].castToBaseTexture(),i):e[i]instanceof s.Resource?this.addResourceAt(e[i],i):this.addResourceAt((0,n.autoDetectResource)(e[i],t),i))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map((e=>e.resource)).filter((e=>e)).map((e=>e.load()));return this._load=Promise.all(e).then((()=>{const{realWidth:e,realHeight:t}=this.items[0];return this.resize(e,t),Promise.resolve(this)})),this._load}}i.AbstractMultiResource=o},{"../BaseTexture.mjs":"WC8m","./autoDetectResource.mjs":"BJ7B","./Resource.mjs":"cB6Z"}],GPSx:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ArrayResource=void 0;var r=e("@pixi/constants"),n=e("./AbstractMultiResource.mjs");class s extends n.AbstractMultiResource{constructor(e,t){const{width:i,height:r}=t||{};let n,s;Array.isArray(e)?(n=e,s=e.length):s=e,super(s,{width:i,height:r}),n&&this.initFromArray(n,t)}addBaseTextureAt(e,t){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,t),this}bind(e){super.bind(e),e.target=r.TARGETS.TEXTURE_2D_ARRAY}upload(e,t,i){const{length:r,itemDirtyIds:n,items:s}=this,{gl:o}=e;i.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,r,0,t.format,i.type,null);for(let e=0;e<r;e++){const r=s[e];n[e]<r.dirtyId&&(n[e]=r.dirtyId,r.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,e,r.resource.width,r.resource.height,1,t.format,i.type,r.resource.source))}return!0}}i.ArrayResource=s},{"@pixi/constants":"GJEO","./AbstractMultiResource.mjs":"Nh96"}],O2b8:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasResource=void 0;var r=e("./BaseImageResource.mjs");class n extends r.BaseImageResource{constructor(e){super(e)}static test(e){const{OffscreenCanvas:t}=globalThis;return!!(t&&e instanceof t)||globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}i.CanvasResource=n},{"./BaseImageResource.mjs":"HjoQ"}],UhXc:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.CubeResource=void 0;var r=e("@pixi/constants"),n=e("./AbstractMultiResource.mjs");const s=class extends n.AbstractMultiResource{constructor(e,t){const{width:i,height:n,autoLoad:o,linkBaseTexture:a}=t||{};if(e&&e.length!==s.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:i,height:n});for(let e=0;e<s.SIDES;e++)this.items[e].target=r.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+e;this.linkBaseTexture=!1!==a,e&&this.initFromArray(e,t),!1!==o&&this.load()}bind(e){super.bind(e),e.target=r.TARGETS.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,i){if(void 0===i&&(i=this.linkBaseTexture),!this.items[t])throw new Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,t)}else e.target=r.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(e,t,i){const r=this.itemDirtyIds;for(let n=0;n<s.SIDES;n++){const s=this.items[n];(r[n]<s.dirtyId||i.dirtyId<t.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(e,s,i),r[n]=s.dirtyId):r[n]<-1&&(e.gl.texImage2D(s.target,0,i.internalFormat,t.realWidth,t.realHeight,0,t.format,i.type,null),r[n]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===s.SIDES}};let o=s;i.CubeResource=o,o.SIDES=6},{"@pixi/constants":"GJEO","./AbstractMultiResource.mjs":"Nh96"}],T9gM:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ImageBitmapResource=void 0;var r=e("@pixi/constants"),n=e("@pixi/settings"),s=e("./BaseImageResource.mjs");class o extends s.BaseImageResource{constructor(e,t){let i,r;t=t||{},"string"==typeof e?(i=o.EMPTY,r=e):(i=e,r=null),super(i),this.url=r,this.crossOrigin=t.crossOrigin??!0,this.alphaMode="number"==typeof t.alphaMode?t.alphaMode:null,this._load=null,!1!==t.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise((async(e,t)=>{if(null!==this.url)try{const t=await n.settings.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await t.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===r.ALPHA_MODES.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(e){if(this.destroyed)return;t(e),this.onError.emit(e)}else e(this)}))),this._load}upload(e,t,i){return this.source instanceof ImageBitmap?("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),super.upload(e,t,i)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&"undefined"!=typeof ImageBitmap&&("string"==typeof e||e instanceof ImageBitmap)}static get EMPTY(){return o._EMPTY=o._EMPTY??n.settings.ADAPTER.createCanvas(0,0),o._EMPTY}}i.ImageBitmapResource=o},{"@pixi/constants":"GJEO","@pixi/settings":"NIYj","./BaseImageResource.mjs":"HjoQ"}],Y8dc:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.SVGResource=void 0;var r=e("@pixi/settings"),n=e("@pixi/utils"),s=e("./BaseImageResource.mjs");const o=class extends s.BaseImageResource{constructor(e,t){t=t||{},super(r.settings.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,!1!==t.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise((e=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),e(this)},o.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}))),this._load}_loadSvg(){const e=new Image;s.BaseImageResource.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;const t=e.width,i=e.height;if(!t||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let r=t*this.scale,s=i*this.scale;(this._overrideWidth||this._overrideHeight)&&(r=this._overrideWidth||this._overrideHeight/i*t,s=this._overrideHeight||this._overrideWidth/t*i),r=Math.round(r),s=Math.round(s);const o=this.source;o.width=r,o.height=s,o._pixiId=`canvas_${(0,n.uid)()}`,o.getContext("2d").drawImage(e,0,0,t,i,0,0,r,s),this._resolve(),this._resolve=null}}static getSize(e){const t=o.SVG_SIZE.exec(e),i={};return t&&(i[t[1]]=Math.round(parseFloat(t[3])),i[t[5]]=Math.round(parseFloat(t[7]))),i}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,t){return"svg"===t||"string"==typeof e&&e.startsWith("data:image/svg+xml")||"string"==typeof e&&o.SVG_XML.test(e)}};let a=o;i.SVGResource=a,a.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,a.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i},{"@pixi/settings":"NIYj","@pixi/utils":"vvGD","./BaseImageResource.mjs":"HjoQ"}],U3MH:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.VideoResource=void 0;var r=e("@pixi/ticker"),n=e("./BaseImageResource.mjs");const s=class extends n.BaseImageResource{constructor(e,t){if(t=t||{},!(e instanceof HTMLVideoElement)){const i=document.createElement("video");i.setAttribute("preload","auto"),i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]);const r=e[0].src||e[0];n.BaseImageResource.crossOrigin(i,r,t.crossorigin);for(let t=0;t<e.length;++t){const r=document.createElement("source");let{src:n,mime:o}=e[t];n=n||e[t];const a=n.split("?").shift().toLowerCase(),l=a.slice(a.lastIndexOf(".")+1);o=o||s.MIME_TYPES[l]||`video/${l}`,r.src=n,r.type=o,i.appendChild(r)}e=i}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==t.autoPlay,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),!1!==t.autoLoad&&this.load()}update(e=0){if(!this.destroyed){const e=r.Ticker.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((t=>{this.valid?t(this):(this._resolve=t,e.load())})),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(r.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(r.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const t=this.valid;this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._isConnectedToTicker&&(r.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1);const e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(r.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(r.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e)}static test(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||s.TYPES.includes(t)}};let o=s;i.VideoResource=o,o.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],o.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"}},{"@pixi/ticker":"qUpt","./BaseImageResource.mjs":"HjoQ"}],Xv22:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"AbstractMultiResource",{enumerable:!0,get:function(){return f.AbstractMultiResource}}),Object.defineProperty(i,"ArrayResource",{enumerable:!0,get:function(){return r.ArrayResource}}),Object.defineProperty(i,"BaseImageResource",{enumerable:!0,get:function(){return d.BaseImageResource}}),Object.defineProperty(i,"BufferResource",{enumerable:!0,get:function(){return s.BufferResource}}),Object.defineProperty(i,"CanvasResource",{enumerable:!0,get:function(){return o.CanvasResource}}),Object.defineProperty(i,"CubeResource",{enumerable:!0,get:function(){return a.CubeResource}}),Object.defineProperty(i,"INSTALLED",{enumerable:!0,get:function(){return n.INSTALLED}}),Object.defineProperty(i,"ImageBitmapResource",{enumerable:!0,get:function(){return l.ImageBitmapResource}}),Object.defineProperty(i,"ImageResource",{enumerable:!0,get:function(){return u.ImageResource}}),Object.defineProperty(i,"Resource",{enumerable:!0,get:function(){return p.Resource}}),Object.defineProperty(i,"SVGResource",{enumerable:!0,get:function(){return c.SVGResource}}),Object.defineProperty(i,"VideoResource",{enumerable:!0,get:function(){return h.VideoResource}}),Object.defineProperty(i,"autoDetectResource",{enumerable:!0,get:function(){return n.autoDetectResource}});var r=e("./ArrayResource.mjs"),n=e("./autoDetectResource.mjs"),s=e("./BufferResource.mjs"),o=e("./CanvasResource.mjs"),a=e("./CubeResource.mjs"),l=e("./ImageBitmapResource.mjs"),u=e("./ImageResource.mjs"),c=e("./SVGResource.mjs"),h=e("./VideoResource.mjs"),d=e("./BaseImageResource.mjs"),p=e("./Resource.mjs"),f=e("./AbstractMultiResource.mjs");n.INSTALLED.push(l.ImageBitmapResource,u.ImageResource,o.CanvasResource,h.VideoResource,c.SVGResource,s.BufferResource,a.CubeResource,r.ArrayResource)},{"./ArrayResource.mjs":"GPSx","./autoDetectResource.mjs":"BJ7B","./BufferResource.mjs":"kgeU","./CanvasResource.mjs":"O2b8","./CubeResource.mjs":"UhXc","./ImageBitmapResource.mjs":"T9gM","./ImageResource.mjs":"LlhT","./SVGResource.mjs":"Y8dc","./VideoResource.mjs":"U3MH","./BaseImageResource.mjs":"HjoQ","./Resource.mjs":"cB6Z","./AbstractMultiResource.mjs":"Nh96"}],rtTF:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.TransformFeedback=void 0;var r=e("@pixi/runner");i.TransformFeedback=class{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new r.Runner("disposeTransformFeedback")}bindBuffer(e,t){this.buffers[e]=t}destroy(){this.disposeRunner.emit(this,!1)}}},{"@pixi/runner":"e7ds"}],yh9p:[function(e,t,i){"use strict";i.byteLength=function(e){var t=u(e),i=t[0],r=t[1];return 3*(i+r)/4-r},i.toByteArray=function(e){var t,i,r=u(e),o=r[0],a=r[1],l=new s(function(e,t,i){return 3*(t+i)/4-i}(0,o,a)),c=0,h=a>0?o-4:o;for(i=0;i<h;i+=4)t=n[e.charCodeAt(i)]<<18|n[e.charCodeAt(i+1)]<<12|n[e.charCodeAt(i+2)]<<6|n[e.charCodeAt(i+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===a&&(t=n[e.charCodeAt(i)]<<2|n[e.charCodeAt(i+1)]>>4,l[c++]=255&t);1===a&&(t=n[e.charCodeAt(i)]<<10|n[e.charCodeAt(i+1)]<<4|n[e.charCodeAt(i+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},i.fromByteArray=function(e){for(var t,i=e.length,n=i%3,s=[],o=16383,a=0,l=i-n;a<l;a+=o)s.push(c(e,a,a+o>l?l:a+o));1===n?(t=e[i-1],s.push(r[t>>2]+r[t<<4&63]+"==")):2===n&&(t=(e[i-2]<<8)+e[i-1],s.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return s.join("")};for(var r=[],n=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=o.length;a<l;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function c(e,t,i){for(var n,s,o=[],a=t;a<i;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(r[(s=n)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},{}],JgNJ:[function(e,t,i){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
i.read=function(e,t,i,r,n){var s,o,a=8*n-r-1,l=(1<<a)-1,u=l>>1,c=-7,h=i?n-1:0,d=i?-1:1,p=e[t+h];for(h+=d,s=p&(1<<-c)-1,p>>=-c,c+=a;c>0;s=256*s+e[t+h],h+=d,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=256*o+e[t+h],h+=d,c-=8);if(0===s)s=1-u;else{if(s===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,r),s-=u}return(p?-1:1)*o*Math.pow(2,s-r)},i.write=function(e,t,i,r,n,s){var o,a,l,u=8*s-n-1,c=(1<<u)-1,h=c>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(o++,l/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(t*l-1)*Math.pow(2,n),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,n),o=0));n>=8;e[i+p]=255&a,p+=f,a/=256,n-=8);for(o=o<<n|a,u+=n;u>0;e[i+p]=255&o,p+=f,o/=256,u-=8);e[i+p-f]|=128*m}},{}],REa7:[function(e,t,i){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],dskh:[function(e,t,i){var r=arguments[3],n=e("base64-js"),s=e("ieee754"),o=e("isarray");
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */function a(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}function l(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(l()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,i){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return h(this,e,t,i)}function h(e,t,i,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?y(e,t,i,r):"string"==typeof t?m(e,t,i):v(e,t)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function p(e,t,i,r){return d(t),t<=0?u(e,t):void 0!==i?"string"==typeof r?u(e,t).fill(i,r):u(e,t).fill(i):u(e,t)}function f(e,t){if(d(t),e=u(e,t<0?0:0|x(t)),!c.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function m(e,t,i){if("string"==typeof i&&""!==i||(i="utf8"),!c.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var r=0|b(t,i),n=(e=u(e,r)).write(t,i);return n!==r&&(e=e.slice(0,n)),e}function g(e,t){var i=t.length<0?0:0|x(t.length);e=u(e,i);for(var r=0;r<i;r+=1)e[r]=255&t[r];return e}function y(e,t,i,r){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===i&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,i):new Uint8Array(t,i,r),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=g(e,t),e}function v(e,t){if(c.isBuffer(t)){var i=0|x(t.length);return 0===(e=u(e,i)).length||t.copy(e,0,0,i),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||ie(t.length)?u(e,0):g(e,t);if("Buffer"===t.type&&o(t.data))return g(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function x(e){if(e>=l())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l().toString(16)+" bytes");return 0|e}function _(e){return+e!=e&&(e=0),c.alloc(+e)}function b(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return Q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return ee(e).length;default:if(r)return Q(e).length;t=(""+t).toLowerCase(),r=!0}}function S(e,t,i){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return L(this,t,i);case"utf8":case"utf-8":return I(this,t,i);case"ascii":return k(this,t,i);case"latin1":case"binary":return F(this,t,i);case"base64":return R(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,i);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function T(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function w(e,t,i,r,n){if(0===e.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=n?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(n)return-1;i=e.length-1}else if(i<0){if(!n)return-1;i=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:E(e,t,i,r,n);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):E(e,[t],i,r,n);throw new TypeError("val must be string, number or Buffer")}function E(e,t,i,r,n){var s,o=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,l/=2,i/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(n){var c=-1;for(s=i;s<a;s++)if(u(e,s)===u(t,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===l)return c*o}else-1!==c&&(s-=s-c),c=-1}else for(i+l>a&&(i=a-l),s=i;s>=0;s--){for(var h=!0,d=0;d<l;d++)if(u(e,s+d)!==u(t,d)){h=!1;break}if(h)return s}return-1}function P(e,t,i,r){i=Number(i)||0;var n=e.length-i;r?(r=Number(r))>n&&(r=n):r=n;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))return o;e[i+o]=a}return o}function A(e,t,i,r){return te(Q(t,e.length-i),e,i,r)}function M(e,t,i,r){return te(Z(t),e,i,r)}function O(e,t,i,r){return M(e,t,i,r)}function C(e,t,i,r){return te(ee(t),e,i,r)}function j(e,t,i,r){return te(J(t,e.length-i),e,i,r)}function R(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function I(e,t,i){i=Math.min(e.length,i);for(var r=[],n=t;n<i;){var s,o,a,l,u=e[n],c=null,h=u>239?4:u>223?3:u>191?2:1;if(n+h<=i)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(s=e[n+1]))&&(l=(31&u)<<6|63&s)>127&&(c=l);break;case 3:s=e[n+1],o=e[n+2],128==(192&s)&&128==(192&o)&&(l=(15&u)<<12|(63&s)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:s=e[n+1],o=e[n+2],a=e[n+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(l=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),n+=h}return D(r)}i.Buffer=c,i.SlowBuffer=_,i.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:a(),i.kMaxLength=l(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,i){return h(null,e,t,i)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,i){return p(null,e,t,i)},c.allocUnsafe=function(e){return f(null,e)},c.allocUnsafeSlow=function(e){return f(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,r=t.length,n=0,s=Math.min(i,r);n<s;++n)if(e[n]!==t[n]){i=e[n],r=t[n];break}return i<r?-1:r<i?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var r=c.allocUnsafe(t),n=0;for(i=0;i<e.length;++i){var s=e[i];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,n),n+=s.length}return r},c.byteLength=b,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)T(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)T(this,t,t+3),T(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)T(this,t,t+7),T(this,t+1,t+6),T(this,t+2,t+5),T(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):S.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",t=i.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,i,r,n){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),t<0||i>e.length||r<0||n>this.length)throw new RangeError("out of range index");if(r>=n&&t>=i)return 0;if(r>=n)return-1;if(t>=i)return 1;if(this===e)return 0;for(var s=(n>>>=0)-(r>>>=0),o=(i>>>=0)-(t>>>=0),a=Math.min(s,o),l=this.slice(r,n),u=e.slice(t,i),h=0;h<a;++h)if(l[h]!==u[h]){s=l[h],o=u[h];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},c.prototype.indexOf=function(e,t,i){return w(this,e,t,i,!0)},c.prototype.lastIndexOf=function(e,t,i){return w(this,e,t,i,!1)},c.prototype.write=function(e,t,i,r){if(void 0===t)r="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)r=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var n=this.length-t;if((void 0===i||i>n)&&(i=n),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return P(this,e,t,i);case"utf8":case"utf-8":return A(this,e,t,i);case"ascii":return M(this,e,t,i);case"latin1":case"binary":return O(this,e,t,i);case"base64":return C(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,e,t,i);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;function D(e){var t=e.length;if(t<=B)return String.fromCharCode.apply(String,e);for(var i="",r=0;r<t;)i+=String.fromCharCode.apply(String,e.slice(r,r+=B));return i}function k(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(127&e[n]);return r}function F(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(e[n]);return r}function L(e,t,i){var r=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>r)&&(i=r);for(var n="",s=t;s<i;++s)n+=K(e[s]);return n}function N(e,t,i){for(var r=e.slice(t,i),n="",s=0;s<r.length;s+=2)n+=String.fromCharCode(r[s]+256*r[s+1]);return n}function U(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function G(e,t,i,r,n,s){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<s)throw new RangeError('"value" argument is out of bounds');if(i+r>e.length)throw new RangeError("Index out of range")}function H(e,t,i,r){t<0&&(t=65535+t+1);for(var n=0,s=Math.min(e.length-i,2);n<s;++n)e[i+n]=(t&255<<8*(r?n:1-n))>>>8*(r?n:1-n)}function V(e,t,i,r){t<0&&(t=4294967295+t+1);for(var n=0,s=Math.min(e.length-i,4);n<s;++n)e[i+n]=t>>>8*(r?n:3-n)&255}function W(e,t,i,r,n,s){if(i+r>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function z(e,t,i,r,n){return n||W(e,0,i,4),s.write(e,t,i,r,23,4),i+4}function Y(e,t,i,r,n){return n||W(e,0,i,8),s.write(e,t,i,r,52,8),i+8}c.prototype.slice=function(e,t){var i,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=c.prototype;else{var n=t-e;i=new c(n,void 0);for(var s=0;s<n;++s)i[s]=this[s+e]}return i},c.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||U(e,t,this.length);for(var r=this[e],n=1,s=0;++s<t&&(n*=256);)r+=this[e+s]*n;return r},c.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||U(e,t,this.length);for(var r=this[e+--t],n=1;t>0&&(n*=256);)r+=this[e+--t]*n;return r},c.prototype.readUInt8=function(e,t){return t||U(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||U(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||U(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||U(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||U(e,t,this.length);for(var r=this[e],n=1,s=0;++s<t&&(n*=256);)r+=this[e+s]*n;return r>=(n*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||U(e,t,this.length);for(var r=t,n=1,s=this[e+--r];r>0&&(n*=256);)s+=this[e+--r]*n;return s>=(n*=128)&&(s-=Math.pow(2,8*t)),s},c.prototype.readInt8=function(e,t){return t||U(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||U(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt16BE=function(e,t){t||U(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt32LE=function(e,t){return t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||U(e,4,this.length),s.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||U(e,4,this.length),s.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||U(e,8,this.length),s.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||U(e,8,this.length),s.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,i,r){(e=+e,t|=0,i|=0,r)||G(this,e,t,i,Math.pow(2,8*i)-1,0);var n=1,s=0;for(this[t]=255&e;++s<i&&(n*=256);)this[t+s]=e/n&255;return t+i},c.prototype.writeUIntBE=function(e,t,i,r){(e=+e,t|=0,i|=0,r)||G(this,e,t,i,Math.pow(2,8*i)-1,0);var n=i-1,s=1;for(this[t+n]=255&e;--n>=0&&(s*=256);)this[t+n]=e/s&255;return t+i},c.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||G(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||G(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):H(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||G(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):H(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||G(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):V(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||G(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):V(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);G(this,e,t,i,n-1,-n)}var s=0,o=1,a=0;for(this[t]=255&e;++s<i&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i},c.prototype.writeIntBE=function(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);G(this,e,t,i,n-1,-n)}var s=i-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i},c.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||G(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||G(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):H(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||G(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):H(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||G(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):V(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||G(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):V(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,i){return z(this,e,t,!0,i)},c.prototype.writeFloatBE=function(e,t,i){return z(this,e,t,!1,i)},c.prototype.writeDoubleLE=function(e,t,i){return Y(this,e,t,!0,i)},c.prototype.writeDoubleBE=function(e,t,i){return Y(this,e,t,!1,i)},c.prototype.copy=function(e,t,i,r){if(i||(i=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<i&&(r=i),r===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);var n,s=r-i;if(this===e&&i<t&&t<r)for(n=s-1;n>=0;--n)e[n+t]=this[n+i];else if(s<1e3||!c.TYPED_ARRAY_SUPPORT)for(n=0;n<s;++n)e[n+t]=this[n+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+s),t);return s},c.prototype.fill=function(e,t,i,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),1===e.length){var n=e.charCodeAt(0);n<256&&(e=n)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var s;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(s=t;s<i;++s)this[s]=e;else{var o=c.isBuffer(e)?e:Q(new c(e,r).toString()),a=o.length;for(s=0;s<i-t;++s)this[s+t]=o[s%a]}return this};var X=/[^+\/0-9A-Za-z-_]/g;function q(e){if((e=$(e).replace(X,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function $(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function K(e){return e<16?"0"+e.toString(16):e.toString(16)}function Q(e,t){var i;t=t||1/0;for(var r=e.length,n=null,s=[],o=0;o<r;++o){if((i=e.charCodeAt(o))>55295&&i<57344){if(!n){if(i>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&s.push(239,191,189);continue}n=i;continue}if(i<56320){(t-=3)>-1&&s.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(t-=3)>-1&&s.push(239,191,189);if(n=null,i<128){if((t-=1)<0)break;s.push(i)}else if(i<2048){if((t-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function Z(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}function J(e,t){for(var i,r,n,s=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(i=e.charCodeAt(o))>>8,n=i%256,s.push(n),s.push(r);return s}function ee(e){return n.toByteArray(q(e))}function te(e,t,i,r){for(var n=0;n<r&&!(n+i>=t.length||n>=e.length);++n)t[n+i]=e[n];return n}function ie(e){return e!=e}},{"base64-js":"yh9p",ieee754:"JgNJ",isarray:"REa7",buffer:"dskh"}],OszA:[function(e,t,i){e("buffer").Buffer;Object.defineProperty(i,"__esModule",{value:!0});var r={VERSION:!0,utils:!0,autoDetectRenderer:!0,BackgroundSystem:!0,BatchDrawCall:!0,BatchGeometry:!0,BatchRenderer:!0,BatchShaderGenerator:!0,BatchSystem:!0,BatchTextureArray:!0,ObjectRenderer:!0,ContextSystem:!0,Filter:!0,FilterState:!0,FilterSystem:!0,SpriteMaskFilter:!0,defaultFilterVertex:!0,defaultVertex:!0,Framebuffer:!0,FramebufferSystem:!0,GLFramebuffer:!0,MultisampleSystem:!0,Attribute:!0,Buffer:!0,BufferSystem:!0,Geometry:!0,GeometrySystem:!0,ViewableBuffer:!0,MaskData:!0,MaskSystem:!0,ScissorSystem:!0,StencilSystem:!0,PluginSystem:!0,ProjectionSystem:!0,ObjectRendererSystem:!0,Renderer:!0,BaseRenderTexture:!0,GenerateTextureSystem:!0,RenderTexture:!0,RenderTexturePool:!0,RenderTextureSystem:!0,GLProgram:!0,IGLUniformData:!0,Program:!0,Shader:!0,ShaderSystem:!0,UniformGroup:!0,checkMaxIfStatementsInShader:!0,generateProgram:!0,createUBOElements:!0,generateUniformBufferSync:!0,getUBOData:!0,getTestContext:!0,uniformParsers:!0,unsafeEvalSupported:!0,StartupSystem:!0,State:!0,StateSystem:!0,BaseTexture:!0,GLTexture:!0,Texture:!0,TextureGCSystem:!0,TextureMatrix:!0,TextureSystem:!0,TextureUvs:!0,TransformFeedback:!0,TransformFeedbackSystem:!0,Quad:!0,QuadUv:!0,ViewSystem:!0,SystemManager:!0,BaseImageResource:!0,Resource:!0,AbstractMultiResource:!0,ArrayResource:!0,INSTALLED:!0,autoDetectResource:!0,BufferResource:!0,CanvasResource:!0,CubeResource:!0,ImageBitmapResource:!0,ImageResource:!0,SVGResource:!0,VideoResource:!0};Object.defineProperty(i,"AbstractMultiResource",{enumerable:!0,get:function(){return Ee.AbstractMultiResource}}),Object.defineProperty(i,"ArrayResource",{enumerable:!0,get:function(){return Pe.ArrayResource}}),Object.defineProperty(i,"Attribute",{enumerable:!0,get:function(){return j.Attribute}}),Object.defineProperty(i,"BackgroundSystem",{enumerable:!0,get:function(){return p.BackgroundSystem}}),Object.defineProperty(i,"BaseImageResource",{enumerable:!0,get:function(){return Te.BaseImageResource}}),Object.defineProperty(i,"BaseRenderTexture",{enumerable:!0,get:function(){return z.BaseRenderTexture}}),Object.defineProperty(i,"BaseTexture",{enumerable:!0,get:function(){return ce.BaseTexture}}),Object.defineProperty(i,"BatchDrawCall",{enumerable:!0,get:function(){return f.BatchDrawCall}}),Object.defineProperty(i,"BatchGeometry",{enumerable:!0,get:function(){return m.BatchGeometry}}),Object.defineProperty(i,"BatchRenderer",{enumerable:!0,get:function(){return g.BatchRenderer}}),Object.defineProperty(i,"BatchShaderGenerator",{enumerable:!0,get:function(){return y.BatchShaderGenerator}}),Object.defineProperty(i,"BatchSystem",{enumerable:!0,get:function(){return v.BatchSystem}}),Object.defineProperty(i,"BatchTextureArray",{enumerable:!0,get:function(){return x.BatchTextureArray}}),Object.defineProperty(i,"Buffer",{enumerable:!0,get:function(){return R.Buffer}}),Object.defineProperty(i,"BufferResource",{enumerable:!0,get:function(){return Me.BufferResource}}),Object.defineProperty(i,"BufferSystem",{enumerable:!0,get:function(){return I.BufferSystem}}),Object.defineProperty(i,"CanvasResource",{enumerable:!0,get:function(){return Oe.CanvasResource}}),Object.defineProperty(i,"ContextSystem",{enumerable:!0,get:function(){return b.ContextSystem}}),Object.defineProperty(i,"CubeResource",{enumerable:!0,get:function(){return Ce.CubeResource}}),Object.defineProperty(i,"Filter",{enumerable:!0,get:function(){return S.Filter}}),Object.defineProperty(i,"FilterState",{enumerable:!0,get:function(){return T.FilterState}}),Object.defineProperty(i,"FilterSystem",{enumerable:!0,get:function(){return w.FilterSystem}}),Object.defineProperty(i,"Framebuffer",{enumerable:!0,get:function(){return A.Framebuffer}}),Object.defineProperty(i,"FramebufferSystem",{enumerable:!0,get:function(){return M.FramebufferSystem}}),Object.defineProperty(i,"GLFramebuffer",{enumerable:!0,get:function(){return O.GLFramebuffer}}),Object.defineProperty(i,"GLProgram",{enumerable:!0,get:function(){return K.GLProgram}}),Object.defineProperty(i,"GLTexture",{enumerable:!0,get:function(){return he.GLTexture}}),Object.defineProperty(i,"GenerateTextureSystem",{enumerable:!0,get:function(){return Y.GenerateTextureSystem}}),Object.defineProperty(i,"Geometry",{enumerable:!0,get:function(){return B.Geometry}}),Object.defineProperty(i,"GeometrySystem",{enumerable:!0,get:function(){return D.GeometrySystem}}),Object.defineProperty(i,"IGLUniformData",{enumerable:!0,get:function(){return K.IGLUniformData}}),Object.defineProperty(i,"INSTALLED",{enumerable:!0,get:function(){return Ae.INSTALLED}}),Object.defineProperty(i,"ImageBitmapResource",{enumerable:!0,get:function(){return je.ImageBitmapResource}}),Object.defineProperty(i,"ImageResource",{enumerable:!0,get:function(){return Re.ImageResource}}),Object.defineProperty(i,"MaskData",{enumerable:!0,get:function(){return F.MaskData}}),Object.defineProperty(i,"MaskSystem",{enumerable:!0,get:function(){return L.MaskSystem}}),Object.defineProperty(i,"MultisampleSystem",{enumerable:!0,get:function(){return C.MultisampleSystem}}),Object.defineProperty(i,"ObjectRenderer",{enumerable:!0,get:function(){return _.ObjectRenderer}}),Object.defineProperty(i,"ObjectRendererSystem",{enumerable:!0,get:function(){return V.ObjectRendererSystem}}),Object.defineProperty(i,"PluginSystem",{enumerable:!0,get:function(){return G.PluginSystem}}),Object.defineProperty(i,"Program",{enumerable:!0,get:function(){return Q.Program}}),Object.defineProperty(i,"ProjectionSystem",{enumerable:!0,get:function(){return H.ProjectionSystem}}),Object.defineProperty(i,"Quad",{enumerable:!0,get:function(){return xe.Quad}}),Object.defineProperty(i,"QuadUv",{enumerable:!0,get:function(){return _e.QuadUv}}),Object.defineProperty(i,"RenderTexture",{enumerable:!0,get:function(){return X.RenderTexture}}),Object.defineProperty(i,"RenderTexturePool",{enumerable:!0,get:function(){return q.RenderTexturePool}}),Object.defineProperty(i,"RenderTextureSystem",{enumerable:!0,get:function(){return $.RenderTextureSystem}}),Object.defineProperty(i,"Renderer",{enumerable:!0,get:function(){return W.Renderer}}),Object.defineProperty(i,"Resource",{enumerable:!0,get:function(){return we.Resource}}),Object.defineProperty(i,"SVGResource",{enumerable:!0,get:function(){return Ie.SVGResource}}),Object.defineProperty(i,"ScissorSystem",{enumerable:!0,get:function(){return N.ScissorSystem}}),Object.defineProperty(i,"Shader",{enumerable:!0,get:function(){return Z.Shader}}),Object.defineProperty(i,"ShaderSystem",{enumerable:!0,get:function(){return J.ShaderSystem}}),Object.defineProperty(i,"SpriteMaskFilter",{enumerable:!0,get:function(){return E.SpriteMaskFilter}}),Object.defineProperty(i,"StartupSystem",{enumerable:!0,get:function(){return ae.StartupSystem}}),Object.defineProperty(i,"State",{enumerable:!0,get:function(){return le.State}}),Object.defineProperty(i,"StateSystem",{enumerable:!0,get:function(){return ue.StateSystem}}),Object.defineProperty(i,"StencilSystem",{enumerable:!0,get:function(){return U.StencilSystem}}),Object.defineProperty(i,"SystemManager",{enumerable:!0,get:function(){return Se.SystemManager}}),Object.defineProperty(i,"Texture",{enumerable:!0,get:function(){return de.Texture}}),Object.defineProperty(i,"TextureGCSystem",{enumerable:!0,get:function(){return pe.TextureGCSystem}}),Object.defineProperty(i,"TextureMatrix",{enumerable:!0,get:function(){return fe.TextureMatrix}}),Object.defineProperty(i,"TextureSystem",{enumerable:!0,get:function(){return me.TextureSystem}}),Object.defineProperty(i,"TextureUvs",{enumerable:!0,get:function(){return ge.TextureUvs}}),Object.defineProperty(i,"TransformFeedback",{enumerable:!0,get:function(){return ye.TransformFeedback}}),Object.defineProperty(i,"TransformFeedbackSystem",{enumerable:!0,get:function(){return ve.TransformFeedbackSystem}}),Object.defineProperty(i,"UniformGroup",{enumerable:!0,get:function(){return ee.UniformGroup}}),i.VERSION=void 0,Object.defineProperty(i,"VideoResource",{enumerable:!0,get:function(){return Be.VideoResource}}),Object.defineProperty(i,"ViewSystem",{enumerable:!0,get:function(){return be.ViewSystem}}),Object.defineProperty(i,"ViewableBuffer",{enumerable:!0,get:function(){return k.ViewableBuffer}}),Object.defineProperty(i,"autoDetectRenderer",{enumerable:!0,get:function(){return d.autoDetectRenderer}}),Object.defineProperty(i,"autoDetectResource",{enumerable:!0,get:function(){return Ae.autoDetectResource}}),Object.defineProperty(i,"checkMaxIfStatementsInShader",{enumerable:!0,get:function(){return te.checkMaxIfStatementsInShader}}),Object.defineProperty(i,"createUBOElements",{enumerable:!0,get:function(){return re.createUBOElements}}),Object.defineProperty(i,"defaultFilterVertex",{enumerable:!0,get:function(){return P.defaultFilterVertex}}),Object.defineProperty(i,"defaultVertex",{enumerable:!0,get:function(){return P.defaultVertex}}),Object.defineProperty(i,"generateProgram",{enumerable:!0,get:function(){return ie.generateProgram}}),Object.defineProperty(i,"generateUniformBufferSync",{enumerable:!0,get:function(){return re.generateUniformBufferSync}}),Object.defineProperty(i,"getTestContext",{enumerable:!0,get:function(){return ne.getTestContext}}),Object.defineProperty(i,"getUBOData",{enumerable:!0,get:function(){return re.getUBOData}}),Object.defineProperty(i,"uniformParsers",{enumerable:!0,get:function(){return se.uniformParsers}}),Object.defineProperty(i,"unsafeEvalSupported",{enumerable:!0,get:function(){return oe.unsafeEvalSupported}}),i.utils=void 0,e("./settings.mjs");var n=e("@pixi/color");Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===n[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return n[e]}}))}));var s=e("@pixi/constants");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===s[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return s[e]}}))}));var o=e("@pixi/extensions");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===o[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=e("@pixi/math");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===a[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return a[e]}}))}));var l=e("@pixi/runner");Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===l[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return l[e]}}))}));var u=e("@pixi/settings");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===u[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return u[e]}}))}));var c=e("@pixi/ticker");Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===c[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return c[e]}}))}));var h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=De(t);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}r.default=e,i&&i.set(e,r);return r}(e("@pixi/utils"));i.utils=h;var d=e("./autoDetectRenderer.mjs"),p=e("./background/BackgroundSystem.mjs"),f=e("./batch/BatchDrawCall.mjs"),m=e("./batch/BatchGeometry.mjs"),g=e("./batch/BatchRenderer.mjs"),y=e("./batch/BatchShaderGenerator.mjs"),v=e("./batch/BatchSystem.mjs"),x=e("./batch/BatchTextureArray.mjs"),_=e("./batch/ObjectRenderer.mjs"),b=e("./context/ContextSystem.mjs"),S=e("./filters/Filter.mjs"),T=e("./filters/FilterState.mjs"),w=e("./filters/FilterSystem.mjs");e("./filters/IFilterTarget.mjs");var E=e("./filters/spriteMask/SpriteMaskFilter.mjs"),P=e("./fragments/index.mjs"),A=e("./framebuffer/Framebuffer.mjs"),M=e("./framebuffer/FramebufferSystem.mjs"),O=e("./framebuffer/GLFramebuffer.mjs"),C=e("./framebuffer/MultisampleSystem.mjs"),j=e("./geometry/Attribute.mjs"),R=e("./geometry/Buffer.mjs"),I=e("./geometry/BufferSystem.mjs"),B=e("./geometry/Geometry.mjs"),D=e("./geometry/GeometrySystem.mjs"),k=e("./geometry/ViewableBuffer.mjs");e("./IRenderer.mjs");var F=e("./mask/MaskData.mjs"),L=e("./mask/MaskSystem.mjs"),N=e("./mask/ScissorSystem.mjs"),U=e("./mask/StencilSystem.mjs"),G=e("./plugin/PluginSystem.mjs"),H=e("./projection/ProjectionSystem.mjs"),V=e("./render/ObjectRendererSystem.mjs"),W=e("./Renderer.mjs"),z=e("./renderTexture/BaseRenderTexture.mjs"),Y=e("./renderTexture/GenerateTextureSystem.mjs"),X=e("./renderTexture/RenderTexture.mjs"),q=e("./renderTexture/RenderTexturePool.mjs"),$=e("./renderTexture/RenderTextureSystem.mjs"),K=e("./shader/GLProgram.mjs"),Q=e("./shader/Program.mjs"),Z=e("./shader/Shader.mjs"),J=e("./shader/ShaderSystem.mjs"),ee=e("./shader/UniformGroup.mjs"),te=e("./shader/utils/checkMaxIfStatementsInShader.mjs"),ie=e("./shader/utils/generateProgram.mjs"),re=e("./shader/utils/generateUniformBufferSync.mjs"),ne=e("./shader/utils/getTestContext.mjs"),se=e("./shader/utils/uniformParsers.mjs"),oe=e("./shader/utils/unsafeEvalSupported.mjs"),ae=e("./startup/StartupSystem.mjs"),le=e("./state/State.mjs"),ue=e("./state/StateSystem.mjs");e("./system/ISystem.mjs"),e("./systems.mjs");var ce=e("./textures/BaseTexture.mjs"),he=e("./textures/GLTexture.mjs");e("./textures/resources/index.mjs");var de=e("./textures/Texture.mjs"),pe=e("./textures/TextureGCSystem.mjs"),fe=e("./textures/TextureMatrix.mjs"),me=e("./textures/TextureSystem.mjs"),ge=e("./textures/TextureUvs.mjs"),ye=e("./transformFeedback/TransformFeedback.mjs"),ve=e("./transformFeedback/TransformFeedbackSystem.mjs"),xe=e("./utils/Quad.mjs"),_e=e("./utils/QuadUv.mjs"),be=e("./view/ViewSystem.mjs"),Se=e("./system/SystemManager.mjs"),Te=e("./textures/resources/BaseImageResource.mjs"),we=e("./textures/resources/Resource.mjs"),Ee=e("./textures/resources/AbstractMultiResource.mjs"),Pe=e("./textures/resources/ArrayResource.mjs"),Ae=e("./textures/resources/autoDetectResource.mjs"),Me=e("./textures/resources/BufferResource.mjs"),Oe=e("./textures/resources/CanvasResource.mjs"),Ce=e("./textures/resources/CubeResource.mjs"),je=e("./textures/resources/ImageBitmapResource.mjs"),Re=e("./textures/resources/ImageResource.mjs"),Ie=e("./textures/resources/SVGResource.mjs"),Be=e("./textures/resources/VideoResource.mjs");function De(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(De=function(e){return e?i:t})(e)}i.VERSION="7.2.4"},{"./settings.mjs":"NkRt","@pixi/color":"WFJG","@pixi/constants":"GJEO","@pixi/extensions":"LbpS","@pixi/math":"ua9t","@pixi/runner":"e7ds","@pixi/settings":"NIYj","@pixi/ticker":"qUpt","@pixi/utils":"vvGD","./autoDetectRenderer.mjs":"C0kG","./background/BackgroundSystem.mjs":"kW6f","./batch/BatchDrawCall.mjs":"dBmJ","./batch/BatchGeometry.mjs":"eR9o","./batch/BatchRenderer.mjs":"k0j5","./batch/BatchShaderGenerator.mjs":"Rtlc","./batch/BatchSystem.mjs":"JREf","./batch/BatchTextureArray.mjs":"PJVv","./batch/ObjectRenderer.mjs":"NFiB","./context/ContextSystem.mjs":"WQyT","./filters/Filter.mjs":"dClD","./filters/FilterState.mjs":"r7bA","./filters/FilterSystem.mjs":"RiFV","./filters/IFilterTarget.mjs":"pVnQ","./filters/spriteMask/SpriteMaskFilter.mjs":"w7KE","./fragments/index.mjs":"YxDE","./framebuffer/Framebuffer.mjs":"DCPW","./framebuffer/FramebufferSystem.mjs":"EiTT","./framebuffer/GLFramebuffer.mjs":"HRLL","./framebuffer/MultisampleSystem.mjs":"zCcA","./geometry/Attribute.mjs":"S0Qz","./geometry/Buffer.mjs":"Sewd","./geometry/BufferSystem.mjs":"bbX8","./geometry/Geometry.mjs":"Siyo","./geometry/GeometrySystem.mjs":"lwCW","./geometry/ViewableBuffer.mjs":"CC0h","./IRenderer.mjs":"Sef0","./mask/MaskData.mjs":"A3f1","./mask/MaskSystem.mjs":"FeS2","./mask/ScissorSystem.mjs":"pZPt","./mask/StencilSystem.mjs":"K8vh","./plugin/PluginSystem.mjs":"U9wT","./projection/ProjectionSystem.mjs":"WW1M","./render/ObjectRendererSystem.mjs":"HUsx","./Renderer.mjs":"V3td","./renderTexture/BaseRenderTexture.mjs":"F908","./renderTexture/GenerateTextureSystem.mjs":"SWZE","./renderTexture/RenderTexture.mjs":"HgC8","./renderTexture/RenderTexturePool.mjs":"vUGh","./renderTexture/RenderTextureSystem.mjs":"DABi","./shader/GLProgram.mjs":"qrjC","./shader/Program.mjs":"w73G","./shader/Shader.mjs":"MbbR","./shader/ShaderSystem.mjs":"KsiL","./shader/UniformGroup.mjs":"bYSX","./shader/utils/checkMaxIfStatementsInShader.mjs":"UVUt","./shader/utils/generateProgram.mjs":"SLGR","./shader/utils/generateUniformBufferSync.mjs":"gwKe","./shader/utils/getTestContext.mjs":"FVJc","./shader/utils/uniformParsers.mjs":"e3dY","./shader/utils/unsafeEvalSupported.mjs":"sdRa","./startup/StartupSystem.mjs":"M9en","./state/State.mjs":"ytrH","./state/StateSystem.mjs":"rzd6","./system/ISystem.mjs":"dEtE","./systems.mjs":"c8Pf","./textures/BaseTexture.mjs":"WC8m","./textures/GLTexture.mjs":"jGWS","./textures/resources/index.mjs":"Xv22","./textures/Texture.mjs":"tJJO","./textures/TextureGCSystem.mjs":"wEtZ","./textures/TextureMatrix.mjs":"m9MT","./textures/TextureSystem.mjs":"p31Z","./textures/TextureUvs.mjs":"egZ1","./transformFeedback/TransformFeedback.mjs":"rtTF","./transformFeedback/TransformFeedbackSystem.mjs":"AYId","./utils/Quad.mjs":"CPFC","./utils/QuadUv.mjs":"lkyN","./view/ViewSystem.mjs":"eIsp","./system/SystemManager.mjs":"AUZo","./textures/resources/BaseImageResource.mjs":"HjoQ","./textures/resources/Resource.mjs":"cB6Z","./textures/resources/AbstractMultiResource.mjs":"Nh96","./textures/resources/ArrayResource.mjs":"GPSx","./textures/resources/autoDetectResource.mjs":"BJ7B","./textures/resources/BufferResource.mjs":"kgeU","./textures/resources/CanvasResource.mjs":"O2b8","./textures/resources/CubeResource.mjs":"UhXc","./textures/resources/ImageBitmapResource.mjs":"T9gM","./textures/resources/ImageResource.mjs":"LlhT","./textures/resources/SVGResource.mjs":"Y8dc","./textures/resources/VideoResource.mjs":"U3MH",buffer:"dskh"}],B4gJ:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Bounds=void 0;var r=e("@pixi/core");i.Bounds=class{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?r.Rectangle.EMPTY:((e=e||new r.Rectangle(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){const{a:i,b:r,c:n,d:s,tx:o,ty:a}=e,l=i*t.x+n*t.y+o,u=r*t.x+s*t.y+a;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)}addQuad(e){let t=this.minX,i=this.minY,r=this.maxX,n=this.maxY,s=e[0],o=e[1];t=s<t?s:t,i=o<i?o:i,r=s>r?s:r,n=o>n?o:n,s=e[2],o=e[3],t=s<t?s:t,i=o<i?o:i,r=s>r?s:r,n=o>n?o:n,s=e[4],o=e[5],t=s<t?s:t,i=o<i?o:i,r=s>r?s:r,n=o>n?o:n,s=e[6],o=e[7],t=s<t?s:t,i=o<i?o:i,r=s>r?s:r,n=o>n?o:n,this.minX=t,this.minY=i,this.maxX=r,this.maxY=n}addFrame(e,t,i,r,n){this.addFrameMatrix(e.worldTransform,t,i,r,n)}addFrameMatrix(e,t,i,r,n){const s=e.a,o=e.b,a=e.c,l=e.d,u=e.tx,c=e.ty;let h=this.minX,d=this.minY,p=this.maxX,f=this.maxY,m=s*t+a*i+u,g=o*t+l*i+c;h=m<h?m:h,d=g<d?g:d,p=m>p?m:p,f=g>f?g:f,m=s*r+a*i+u,g=o*r+l*i+c,h=m<h?m:h,d=g<d?g:d,p=m>p?m:p,f=g>f?g:f,m=s*t+a*n+u,g=o*t+l*n+c,h=m<h?m:h,d=g<d?g:d,p=m>p?m:p,f=g>f?g:f,m=s*r+a*n+u,g=o*r+l*n+c,h=m<h?m:h,d=g<d?g:d,p=m>p?m:p,f=g>f?g:f,this.minX=h,this.minY=d,this.maxX=p,this.maxY=f}addVertexData(e,t,i){let r=this.minX,n=this.minY,s=this.maxX,o=this.maxY;for(let a=t;a<i;a+=2){const t=e[a],i=e[a+1];r=t<r?t:r,n=i<n?i:n,s=t>s?t:s,o=i>o?i:o}this.minX=r,this.minY=n,this.maxX=s,this.maxY=o}addVertices(e,t,i,r){this.addVerticesMatrix(e.worldTransform,t,i,r)}addVerticesMatrix(e,t,i,r,n=0,s=n){const o=e.a,a=e.b,l=e.c,u=e.d,c=e.tx,h=e.ty;let d=this.minX,p=this.minY,f=this.maxX,m=this.maxY;for(let e=i;e<r;e+=2){const i=t[e],r=t[e+1],g=o*i+l*r+c,y=u*r+a*i+h;d=Math.min(d,g-n),f=Math.max(f,g+n),p=Math.min(p,y-s),m=Math.max(m,y+s)}this.minX=d,this.minY=p,this.maxX=f,this.maxY=m}addBounds(e){const t=this.minX,i=this.minY,r=this.maxX,n=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<i?e.minY:i,this.maxX=e.maxX>r?e.maxX:r,this.maxY=e.maxY>n?e.maxY:n}addBoundsMask(e,t){const i=e.minX>t.minX?e.minX:t.minX,r=e.minY>t.minY?e.minY:t.minY,n=e.maxX<t.maxX?e.maxX:t.maxX,s=e.maxY<t.maxY?e.maxY:t.maxY;if(i<=n&&r<=s){const e=this.minX,t=this.minY,o=this.maxX,a=this.maxY;this.minX=i<e?i:e,this.minY=r<t?r:t,this.maxX=n>o?n:o,this.maxY=s>a?s:a}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){const i=e.minX>t.x?e.minX:t.x,r=e.minY>t.y?e.minY:t.y,n=e.maxX<t.x+t.width?e.maxX:t.x+t.width,s=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(i<=n&&r<=s){const e=this.minX,t=this.minY,o=this.maxX,a=this.maxY;this.minX=i<e?i:e,this.minY=r<t?r:t,this.maxX=n>o?n:o,this.maxY=s>a?s:a}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,i,r,n,s){e-=n,t-=s,i+=n,r+=s,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>r?this.maxY:r}}},{"@pixi/core":"OszA"}],IpxR:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.TemporaryDisplayObject=i.DisplayObject=void 0;var r=e("@pixi/core"),n=e("./Bounds.mjs");class s extends r.utils.EventEmitter{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new r.Transform,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new n.Bounds,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const t=Object.keys(e);for(let i=0;i<t.length;++i){const r=t[i];Object.defineProperty(s.prototype,r,Object.getOwnPropertyDescriptor(e,r))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new r.Rectangle),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new r.Rectangle),e=this._localBoundsRect),this._localBounds||(this._localBounds=new n.Bounds);const t=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const s=this._bounds,o=this._boundsID;this._bounds=this._localBounds;const a=this.getBounds(!1,e);return this.parent=i,this.transform=t,this._bounds=s,this._bounds.updateID+=this._boundsID-o,a}toGlobal(e,t,i=!1){return i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,i,r){return t&&(e=t.toGlobal(e,i,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,i)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){this.parent?.removeChild(this)}setTransform(e=0,t=0,i=1,r=1,n=0,s=0,o=0,a=0,l=0){return this.position.x=e,this.position.y=t,this.scale.x=i||1,this.scale.y=r||1,this.rotation=n,this.skew.x=s,this.skew.y=o,this.pivot.x=a,this.pivot.y=l,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new o),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*r.RAD_TO_DEG}set angle(e){this.transform.rotation=e*r.DEG_TO_RAD}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(e._maskRefCount--,0===e._maskRefCount&&(e.renderable=!0,e.isMask=!1))}if(this._mask=e,this._mask){const e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(0===e._maskRefCount&&(e.renderable=!1,e.isMask=!0),e._maskRefCount++)}}}}i.DisplayObject=s;class o extends s{constructor(){super(...arguments),this.sortDirty=null}}i.TemporaryDisplayObject=o,s.prototype.displayObjectUpdateTransform=s.prototype.updateTransform},{"@pixi/core":"OszA","./Bounds.mjs":"B4gJ"}],XE5h:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Container=void 0;var r=e("@pixi/core"),n=e("./DisplayObject.mjs");const s=new r.Matrix;function o(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}const a=class extends n.DisplayObject{constructor(){super(),this.children=[],this.sortableChildren=a.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.addChild(e[t]);else{const t=e[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return e[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw new Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;const i=this.getChildIndex(e),r=this.getChildIndex(t);this.children[i]=t,this.children[r]=e,this.onChildrenChange(i<r?i:r)}getChildIndex(e){const t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);const i=this.getChildIndex(e);r.utils.removeItems(this.children,i,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.removeChild(e[t]);else{const t=e[0],i=this.children.indexOf(t);if(-1===i)return null;t.parent=null,t.transform._parentID=-1,r.utils.removeItems(this.children,i,1),this._boundsID++,this.onChildrenChange(i),t.emit("removed",this),this.emit("childRemoved",t,this,i)}return e[0]}removeChildAt(e){const t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,r.utils.removeItems(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){const i=e,r=t-i;let n;if(r>0&&r<=t){n=this.children.splice(i,r);for(let e=0;e<n.length;++e)n[e].parent=null,n[e].transform&&(n[e].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let e=0;e<n.length;++e)n[e].emit("removed",this),this.emit("childRemoved",n[e],this,e);return n}if(0===r&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,i=this.children.length;t<i;++t){const i=this.children[t];i._lastSortedIndex=t,e||0===i.zIndex||(e=!0)}e&&this.children.length>1&&this.children.sort(o),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){const t=this.children[e];t.visible&&t.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const t=this.children[e];if(t.visible&&t.renderable)if(t.calculateBounds(),t._mask){const e=t._mask.isMaskData?t._mask.maskObject:t._mask;e?(e.calculateBounds(),this._bounds.addBoundsMask(t._bounds,e._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){const i=super.getLocalBounds(e);if(!t)for(let e=0,t=this.children.length;e<t;++e){const t=this.children[e];t.visible&&t.updateTransform()}return i}_calculateBounds(){}_renderWithCulling(e){const t=e.renderTexture.sourceFrame;if(!(t.width>0&&t.height>0))return;let i,r;this.cullArea?(i=this.cullArea,r=this.worldTransform):this._render!==a.prototype._render&&(i=this.getBounds(!0));const n=e.projection.transform;if(n&&(r?(r=s.copyFrom(r),r.prepend(n)):r=n),i&&t.intersects(i,r))this._render(e);else if(this.cullArea)return;for(let t=0,i=this.children.length;t<i;++t){const i=this.children[t],r=i.cullable;i.cullable=r||!this.cullArea,i.render(e),i.cullable=r}}render(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters?.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let t=0,i=this.children.length;t<i;++t)this.children[t].render(e)}}renderAdvanced(e){const t=this.filters,i=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let e=0;e<t.length;e++)t[e].enabled&&this._enabledFilters.push(t[e])}const n=t&&this._enabledFilters?.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==r.MASK_TYPES.NONE));if(n&&e.batch.flush(),t&&this._enabledFilters?.length&&e.filter.push(this,this._enabledFilters),i&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let t=0,i=this.children.length;t<i;++t)this.children[t].render(e)}n&&e.batch.flush(),i&&e.mask.pop(this),t&&this._enabledFilters?.length&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const t="boolean"==typeof e?e:e?.children,i=this.removeChildren(0,this.children.length);if(t)for(let t=0;t<i.length;++t)i[t].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e}};let l=a;i.Container=l,l.defaultSortableChildren=!1,l.prototype.containerUpdateTransform=l.prototype.updateTransform},{"@pixi/core":"OszA","./DisplayObject.mjs":"IpxR"}],XvVi:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"settings",{enumerable:!0,get:function(){return r.settings}});var r=e("@pixi/core"),n=e("./Container.mjs");Object.defineProperties(r.settings,{SORTABLE_CHILDREN:{get:()=>n.Container.defaultSortableChildren,set(e){r.utils.deprecation("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),n.Container.defaultSortableChildren=e}}})},{"@pixi/core":"OszA","./Container.mjs":"XE5h"}],a2dh:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"Bounds",{enumerable:!0,get:function(){return r.Bounds}}),Object.defineProperty(i,"Container",{enumerable:!0,get:function(){return n.Container}}),Object.defineProperty(i,"DisplayObject",{enumerable:!0,get:function(){return s.DisplayObject}}),Object.defineProperty(i,"TemporaryDisplayObject",{enumerable:!0,get:function(){return s.TemporaryDisplayObject}}),e("./settings.mjs");var r=e("./Bounds.mjs"),n=e("./Container.mjs"),s=e("./DisplayObject.mjs")},{"./settings.mjs":"XvVi","./Bounds.mjs":"B4gJ","./Container.mjs":"XE5h","./DisplayObject.mjs":"IpxR"}],QxS4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Sprite=void 0;var r=e("@pixi/core"),n=e("@pixi/display");const s=new r.Point,o=new Uint16Array([0,1,2,0,2,3]);class a extends n.Container{constructor(e){super(),this._anchor=new r.ObservablePoint(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new r.Color(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=r.BLEND_MODES.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||r.Texture.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=o,this.pluginName="batch",this.isSprite=!0,this._roundPixels=r.settings.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=r.utils.sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=r.utils.sign(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const t=this.transform.worldTransform,i=t.a,n=t.b,s=t.c,o=t.d,a=t.tx,l=t.ty,u=this.vertexData,c=e.trim,h=e.orig,d=this._anchor;let p=0,f=0,m=0,g=0;if(c?(f=c.x-d._x*h.width,p=f+c.width,g=c.y-d._y*h.height,m=g+c.height):(f=-d._x*h.width,p=f+h.width,g=-d._y*h.height,m=g+h.height),u[0]=i*f+s*g+a,u[1]=o*g+n*f+l,u[2]=i*p+s*g+a,u[3]=o*g+n*p+l,u[4]=i*p+s*m+a,u[5]=o*m+n*p+l,u[6]=i*f+s*m+a,u[7]=o*m+n*f+l,this._roundPixels){const e=r.settings.RESOLUTION;for(let t=0;t<u.length;++t)u[t]=Math.round(u[t]*e)/e}}calculateTrimmedVertices(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,t=this.vertexTrimmedData,i=e.orig,r=this._anchor,n=this.transform.worldTransform,s=n.a,o=n.b,a=n.c,l=n.d,u=n.tx,c=n.ty,h=-r._x*i.width,d=h+i.width,p=-r._y*i.height,f=p+i.height;t[0]=s*h+a*p+u,t[1]=l*p+o*h+c,t[2]=s*d+a*p+u,t[3]=l*p+o*d+c,t[4]=s*d+a*f+u,t[5]=l*f+o*d+c,t[6]=s*h+a*f+u,t[7]=l*f+o*h+c}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new n.Bounds),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new r.Rectangle),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,s);const t=this._texture.orig.width,i=this._texture.orig.height,r=-t*this.anchor.x;let n=0;return s.x>=r&&s.x<r+t&&(n=-i*this.anchor.y,s.y>=n&&s.y<n+i)}destroy(e){super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;if("boolean"==typeof e?e:e?.texture){const t="boolean"==typeof e?e:e?.baseTexture;this._texture.destroy(!!t)}this._texture=null}static from(e,t){const i=e instanceof r.Texture?e:r.Texture.from(e,t);return new a(i)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const t=r.utils.sign(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const t=r.utils.sign(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||r.Texture.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}i.Sprite=a},{"@pixi/core":"OszA","@pixi/display":"a2dh"}],f4b7:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"Sprite",{enumerable:!0,get:function(){return r.Sprite}});var r=e("./Sprite.mjs")},{"./Sprite.mjs":"QxS4"}],Loug:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.CacheData=void 0;var r=e("@pixi/core"),n=e("@pixi/display"),s=e("@pixi/sprite");const o=new r.Matrix;n.DisplayObject.prototype._cacheAsBitmap=!1,n.DisplayObject.prototype._cacheData=null,n.DisplayObject.prototype._cacheAsBitmapResolution=null,n.DisplayObject.prototype._cacheAsBitmapMultisample=null;class a{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}i.CacheData=a,Object.defineProperties(n.DisplayObject.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(e){if(this._cacheAsBitmap===e)return;let t;this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new a),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}),n.DisplayObject.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},n.DisplayObject.prototype._initCachedDisplayObject=function(e){if(this._cacheData?.sprite)return;const t=this.alpha;this.alpha=1,e.batch.flush();const i=this.getLocalBounds(null,!0).clone();if(this.filters?.length){const e=this.filters[0].padding;i.pad(e)}i.ceil(r.settings.RESOLUTION);const n=e.renderTexture.current,a=e.renderTexture.sourceFrame.clone(),l=e.renderTexture.destinationFrame.clone(),u=e.projection.transform,c=r.RenderTexture.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),h=`cacheAsBitmap_${r.utils.uid()}`;this._cacheData.textureCacheId=h,r.BaseTexture.addToCache(c.baseTexture,h),r.Texture.addToCache(c,h);const d=this.transform.localTransform.copyTo(o).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:c,clear:!0,transform:d,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=u,e.renderTexture.bind(n,a,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const p=new s.Sprite(c);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-i.x/i.width,p.anchor.y=-i.y/i.height,p.alpha=t,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)},n.DisplayObject.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},n.DisplayObject.prototype._initCachedDisplayObjectCanvas=function(e){if(this._cacheData?.sprite)return;const t=this.getLocalBounds(null,!0),i=this.alpha;this.alpha=1;const n=e.canvasContext.activeContext,a=e._projTransform;t.ceil(r.settings.RESOLUTION);const l=r.RenderTexture.create({width:t.width,height:t.height}),u=`cacheAsBitmap_${r.utils.uid()}`;this._cacheData.textureCacheId=u,r.BaseTexture.addToCache(l.baseTexture,u),r.Texture.addToCache(l,u);const c=o;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=t.x,c.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:l,clear:!0,transform:c,skipUpdateTransform:!1}),e.canvasContext.activeContext=n,e._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;const h=new s.Sprite(l);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-t.x/t.width,h.anchor.y=-t.y/t.height,h.alpha=i,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)},n.DisplayObject.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},n.DisplayObject.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},n.DisplayObject.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,r.BaseTexture.removeFromCache(this._cacheData.textureCacheId),r.Texture.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},n.DisplayObject.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)}},{"@pixi/core":"OszA","@pixi/display":"a2dh","@pixi/sprite":"f4b7"}],w9iJ:[function(e,t,i){"use strict";var r=e("@pixi/display");r.DisplayObject.prototype.name=null,r.Container.prototype.getChildByName=function(e,t){for(let t=0,i=this.children.length;t<i;t++)if(this.children[t].name===e)return this.children[t];if(t)for(let t=0,i=this.children.length;t<i;t++){const i=this.children[t];if(!i.getChildByName)continue;const r=i.getChildByName(e,!0);if(r)return r}return null}},{"@pixi/display":"a2dh"}],LmZb:[function(e,t,i){"use strict";var r=e("@pixi/core");e("@pixi/display").DisplayObject.prototype.getGlobalPosition=function(e=new r.Point,t=!1){return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e}},{"@pixi/core":"OszA","@pixi/display":"a2dh"}],PwZj:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"},{}],uY0Z:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.AlphaFilter=void 0;var r,n=e("@pixi/core"),s=(r=e("./alpha.mjs"))&&r.__esModule?r:{default:r};class o extends n.Filter{constructor(e=1){super(n.defaultVertex,s.default,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}i.AlphaFilter=o},{"@pixi/core":"OszA","./alpha.mjs":"PwZj"}],XRy5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"AlphaFilter",{enumerable:!0,get:function(){return r.AlphaFilter}});var r=e("./AlphaFilter.mjs")},{"./AlphaFilter.mjs":"uY0Z"}],jQQQ:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.generateBlurFragSource=function(e){const t=r[e],i=t.length;let s=n,o="";let a;for(let r=0;r<e;r++){let n="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",r.toString());a=r,r>=i&&(a=e-r-1),n=n.replace("%value%",t[a].toString()),o+=n,o+="\n"}return s=s.replace("%blur%",o),s=s.replace("%size%",e.toString()),s};const r={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},n=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},{}],k5bl:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.generateBlurVertSource=function(e,t){const i=Math.ceil(e/2);let r,n="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",s="";r=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let t=0;t<e;t++){let e=r.replace("%index%",t.toString());e=e.replace("%sampleIndex%",t-(i-1)+".0"),s+=e,s+="\n"}return n=n.replace("%blur%",s),n=n.replace("%size%",e.toString()),n}},{}],lSQn:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BlurFilterPass=void 0;var r=e("@pixi/core"),n=e("./generateBlurFragSource.mjs"),s=e("./generateBlurVertSource.mjs");class o extends r.Filter{constructor(e,t=8,i=4,o=r.Filter.defaultResolution,a=5){super((0,s.generateBlurVertSource)(a,e),(0,n.generateBlurFragSource)(a)),this.horizontal=e,this.resolution=o,this._quality=0,this.quality=i,this.blur=t}apply(e,t,i,n){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/t.width):this.uniforms.strength=1/i.height*(i.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,i,n);else{const s=e.getFilterTexture(),o=e.renderer;let a=t,l=s;this.state.blend=!1,e.applyFilter(this,a,l,r.CLEAR_MODES.CLEAR);for(let t=1;t<this.passes-1;t++){e.bindAndClear(a,r.CLEAR_MODES.BLIT),this.uniforms.uSampler=l;const t=l;l=a,a=t,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,i,n),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+2*Math.abs(e),this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}i.BlurFilterPass=o},{"@pixi/core":"OszA","./generateBlurFragSource.mjs":"jQQQ","./generateBlurVertSource.mjs":"k5bl"}],lw63:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BlurFilter=void 0;var r=e("@pixi/core"),n=e("./BlurFilterPass.mjs");class s extends r.Filter{constructor(e=8,t=4,i=r.Filter.defaultResolution,s=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new n.BlurFilterPass(!0,e,t,i,s),this.blurYFilter=new n.BlurFilterPass(!1,e,t,i,s),this.resolution=i,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,i,n){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const s=e.getFilterTexture();this.blurXFilter.apply(e,t,s,r.CLEAR_MODES.CLEAR),this.blurYFilter.apply(e,s,i,n),e.returnFilterTexture(s)}else o?this.blurYFilter.apply(e,t,i,n):this.blurXFilter.apply(e,t,i,n)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}i.BlurFilter=s},{"@pixi/core":"OszA","./BlurFilterPass.mjs":"lSQn"}],gqY0:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"BlurFilter",{enumerable:!0,get:function(){return r.BlurFilter}}),Object.defineProperty(i,"BlurFilterPass",{enumerable:!0,get:function(){return n.BlurFilterPass}});var r=e("./BlurFilter.mjs"),n=e("./BlurFilterPass.mjs")},{"./BlurFilter.mjs":"lw63","./BlurFilterPass.mjs":"lSQn"}],q4VZ:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"},{}],oZFq:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ColorMatrixFilter=void 0;var r,n=e("@pixi/core"),s=(r=e("./colorMatrix.mjs"))&&r.__esModule?r:{default:r};class o extends n.Filter{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(n.defaultFilterVertex,s.default,e),this.alpha=1}_loadMatrix(e,t=!1){let i=e;t&&(this._multiply(i,this.uniforms.m,e),i=this._colorMatrix(i)),this.uniforms.m=i}_multiply(e,t,i){return e[0]=t[0]*i[0]+t[1]*i[5]+t[2]*i[10]+t[3]*i[15],e[1]=t[0]*i[1]+t[1]*i[6]+t[2]*i[11]+t[3]*i[16],e[2]=t[0]*i[2]+t[1]*i[7]+t[2]*i[12]+t[3]*i[17],e[3]=t[0]*i[3]+t[1]*i[8]+t[2]*i[13]+t[3]*i[18],e[4]=t[0]*i[4]+t[1]*i[9]+t[2]*i[14]+t[3]*i[19]+t[4],e[5]=t[5]*i[0]+t[6]*i[5]+t[7]*i[10]+t[8]*i[15],e[6]=t[5]*i[1]+t[6]*i[6]+t[7]*i[11]+t[8]*i[16],e[7]=t[5]*i[2]+t[6]*i[7]+t[7]*i[12]+t[8]*i[17],e[8]=t[5]*i[3]+t[6]*i[8]+t[7]*i[13]+t[8]*i[18],e[9]=t[5]*i[4]+t[6]*i[9]+t[7]*i[14]+t[8]*i[19]+t[9],e[10]=t[10]*i[0]+t[11]*i[5]+t[12]*i[10]+t[13]*i[15],e[11]=t[10]*i[1]+t[11]*i[6]+t[12]*i[11]+t[13]*i[16],e[12]=t[10]*i[2]+t[11]*i[7]+t[12]*i[12]+t[13]*i[17],e[13]=t[10]*i[3]+t[11]*i[8]+t[12]*i[13]+t[13]*i[18],e[14]=t[10]*i[4]+t[11]*i[9]+t[12]*i[14]+t[13]*i[19]+t[14],e[15]=t[15]*i[0]+t[16]*i[5]+t[17]*i[10]+t[18]*i[15],e[16]=t[15]*i[1]+t[16]*i[6]+t[17]*i[11]+t[18]*i[16],e[17]=t[15]*i[2]+t[16]*i[7]+t[17]*i[12]+t[18]*i[17],e[18]=t[15]*i[3]+t[16]*i[8]+t[17]*i[13]+t[18]*i[18],e[19]=t[15]*i[4]+t[16]*i[9]+t[17]*i[14]+t[18]*i[19]+t[19],e}_colorMatrix(e){const t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){const i=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(i,t)}tint(e,t){const[i,r,s]=n.Color.shared.setValue(e).toArray(),o=[i,0,0,0,0,0,r,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,t)}greyscale(e,t){const i=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(i,t)}blackAndWhite(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)}hue(e,t){e=(e||0)/180*Math.PI;const i=Math.cos(e),r=Math.sin(e),n=1/3,s=(0,Math.sqrt)(n),o=[i+(1-i)*n,n*(1-i)-s*r,n*(1-i)+s*r,0,0,n*(1-i)+s*r,i+n*(1-i),n*(1-i)-s*r,0,0,n*(1-i)-s*r,n*(1-i)+s*r,i+n*(1-i),0,0,0,0,0,1,0];this._loadMatrix(o,t)}contrast(e,t){const i=(e||0)+1,r=-.5*(i-1),n=[i,0,0,0,r,0,i,0,0,r,0,0,i,0,r,0,0,0,1,0];this._loadMatrix(n,t)}saturate(e=0,t){const i=2*e/3+1,r=-.5*(i-1),n=[i,r,r,0,0,r,i,r,0,0,r,r,i,0,0,0,0,0,1,0];this._loadMatrix(n,t)}desaturate(){this.saturate(-1)}negative(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)}sepia(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)}technicolor(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)}polaroid(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)}toBGR(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)}kodachrome(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)}browni(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)}vintage(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)}colorTone(e,t,i,r,s){e=e||.2,t=t||.15,i=i||16770432,r=r||3375104;const o=n.Color.shared,[a,l,u]=o.setValue(i).toArray(),[c,h,d]=o.setValue(r).toArray(),p=[.3,.59,.11,0,0,a,l,u,e,0,c,h,d,t,0,a-c,l-h,u-d,0,0];this._loadMatrix(p,s)}night(e,t){const i=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(i,t)}predator(e,t){const i=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(i,t)}lsd(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)}reset(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}i.ColorMatrixFilter=o,o.prototype.grayscale=o.prototype.greyscale},{"@pixi/core":"OszA","./colorMatrix.mjs":"q4VZ"}],PWa2:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"ColorMatrixFilter",{enumerable:!0,get:function(){return r.ColorMatrixFilter}});var r=e("./ColorMatrixFilter.mjs")},{"./ColorMatrixFilter.mjs":"oZFq"}],VzU4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n"},{}],TATc:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n"},{}],IWZA:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.DisplacementFilter=void 0;var r=e("@pixi/core"),n=o(e("./displacement.mjs")),s=o(e("./displacement2.mjs"));function o(e){return e&&e.__esModule?e:{default:e}}class a extends r.Filter{constructor(e,t){const i=new r.Matrix;e.renderable=!1,super(s.default,n.default,{mapSampler:e._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=i,null==t&&(t=20),this.scale=new r.Point(t,t)}apply(e,t,i,r){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const n=this.maskSprite.worldTransform,s=Math.sqrt(n.a*n.a+n.b*n.b),o=Math.sqrt(n.c*n.c+n.d*n.d);0!==s&&0!==o&&(this.uniforms.rotation[0]=n.a/s,this.uniforms.rotation[1]=n.b/s,this.uniforms.rotation[2]=n.c/o,this.uniforms.rotation[3]=n.d/o),e.applyFilter(this,t,i,r)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}i.DisplacementFilter=a},{"@pixi/core":"OszA","./displacement.mjs":"VzU4","./displacement2.mjs":"TATc"}],nTub:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"DisplacementFilter",{enumerable:!0,get:function(){return r.DisplacementFilter}});var r=e("./DisplacementFilter.mjs")},{"./DisplacementFilter.mjs":"IWZA"}],F3gM:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'},{}],Bxcx:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n"},{}],D70l:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.FXAAFilter=void 0;var r=e("@pixi/core"),n=o(e("./fxaa.mjs")),s=o(e("./fxaa2.mjs"));function o(e){return e&&e.__esModule?e:{default:e}}class a extends r.Filter{constructor(){super(s.default,n.default)}}i.FXAAFilter=a},{"@pixi/core":"OszA","./fxaa.mjs":"F3gM","./fxaa2.mjs":"Bxcx"}],yJ14:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"FXAAFilter",{enumerable:!0,get:function(){return r.FXAAFilter}});var r=e("./FXAAFilter.mjs")},{"./FXAAFilter.mjs":"D70l"}],SIlM:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"},{}],erup:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.NoiseFilter=void 0;var r,n=e("@pixi/core"),s=(r=e("./noise.mjs"))&&r.__esModule?r:{default:r};class o extends n.Filter{constructor(e=.5,t=Math.random()){super(n.defaultFilterVertex,s.default,{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}i.NoiseFilter=o},{"@pixi/core":"OszA","./noise.mjs":"SIlM"}],ErwM:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"NoiseFilter",{enumerable:!0,get:function(){return r.NoiseFilter}});var r=e("./NoiseFilter.mjs")},{"./NoiseFilter.mjs":"erup"}],DDE6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.filters=void 0;var r=e("@pixi/core"),n=e("@pixi/filter-alpha"),s=e("@pixi/filter-blur"),o=e("@pixi/filter-color-matrix"),a=e("@pixi/filter-displacement"),l=e("@pixi/filter-fxaa"),u=e("@pixi/filter-noise");const c={AlphaFilter:n.AlphaFilter,BlurFilter:s.BlurFilter,BlurFilterPass:s.BlurFilterPass,ColorMatrixFilter:o.ColorMatrixFilter,DisplacementFilter:a.DisplacementFilter,FXAAFilter:l.FXAAFilter,NoiseFilter:u.NoiseFilter};i.filters=c,Object.entries(c).forEach((([e,t])=>{Object.defineProperty(c,e,{get:()=>(r.utils.deprecation("7.1.0",`filters.${e} has moved to ${e}`),t)})}))},{"@pixi/core":"OszA","@pixi/filter-alpha":"XRy5","@pixi/filter-blur":"gqY0","@pixi/filter-color-matrix":"PWa2","@pixi/filter-displacement":"nTub","@pixi/filter-fxaa":"yJ14","@pixi/filter-noise":"ErwM"}],e2JA:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.EventsTicker=void 0;var r=e("@pixi/core");const n=new class{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){!this.tickerAdded&&this.domElement&&(r.Ticker.system.add(this.tickerUpdate,this,r.UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(r.Ticker.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove)return void(this._didMove=!1);const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&"touch"===e.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())}};i.EventsTicker=n},{"@pixi/core":"OszA"}],xY4m:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.FederatedEvent=void 0;var r=e("@pixi/core");class n{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=n.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new r.Point,this.page=new r.Point,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return!this.manager||this.path&&this.path[this.path.length-1]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,i){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,i,r,n){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}i.FederatedEvent=n},{"@pixi/core":"OszA"}],KfDy:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.FederatedMouseEvent=void 0;var r=e("@pixi/core"),n=e("./FederatedEvent.mjs");class s extends n.FederatedEvent{constructor(){super(...arguments),this.client=new r.Point,this.movement=new r.Point,this.offset=new r.Point,this.global=new r.Point,this.screen=new r.Point}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,i){return e.worldTransform.applyInverse(i||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,i,r,n,s,o,a,l,u,c,h,d,p,f){throw new Error("Method not implemented.")}}i.FederatedMouseEvent=s},{"@pixi/core":"OszA","./FederatedEvent.mjs":"xY4m"}],mcS6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.FederatedPointerEvent=void 0;var r=e("./FederatedMouseEvent.mjs");class n extends r.FederatedMouseEvent{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}i.FederatedPointerEvent=n},{"./FederatedMouseEvent.mjs":"KfDy"}],QaeX:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.FederatedWheelEvent=void 0;var r=e("./FederatedMouseEvent.mjs");class n extends r.FederatedMouseEvent{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}i.FederatedWheelEvent=n,n.DOM_DELTA_PIXEL=0,n.DOM_DELTA_LINE=1,n.DOM_DELTA_PAGE=2},{"./FederatedMouseEvent.mjs":"KfDy"}],NSO2:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.EventBoundary=void 0;var r=e("@pixi/core"),n=e("./EventTicker.mjs"),s=e("./FederatedMouseEvent.mjs"),o=e("./FederatedPointerEvent.mjs"),a=e("./FederatedWheelEvent.mjs");const l=new r.Point,u=new r.Point;i.EventBoundary=class{constructor(e){this.dispatch=new r.utils.EventEmitter,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort(((e,t)=>e.priority-t.priority))}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let i=0,r=t.length;i<r;i++)t[i].fn(e)}hitTest(e,t){n.EventsTicker.pauseUpdate=!0;const i=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,l.set(e,t),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,t){if(!e.target)return;const i=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let r=0,n=i.length-1;r<n;r++)if(e.currentTarget=i[r],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!e.propagationStopped&&!e.propagationImmediatelyStopped){e.eventPhase=e.BUBBLING_PHASE;for(let r=i.length-2;r>=0;r--)if(e.currentTarget=i[r],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,i=this._allInteractiveElements){if(0===i.length)return;e.eventPhase=e.BUBBLING_PHASE;const r=Array.isArray(t)?t:[t];for(let t=i.length-1;t>=0;t--)r.forEach((r=>{e.currentTarget=i[t],this.notifyTarget(e,r)}))}propagationPath(e){const t=[e];for(let i=0;i<2048&&e!==this.rootTarget;i++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,i,r,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if("dynamic"!==e.eventMode&&"dynamic"!==t||(n.EventsTicker.pauseUpdate=!1),e.interactiveChildren&&e.children){const n=e.children;for(let l=n.length-1;l>=0;l--){const u=n[l],c=this.hitTestMoveRecursive(u,this._isInteractive(t)?t:u.eventMode,i,r,s,o||s(e,i));if(c){if(c.length>0&&!c[c.length-1].parent)continue;const t=e.isInteractive();(c.length>0||t)&&(t&&this._allInteractiveElements.push(e),c.push(e)),0===this._hitElements.length&&(this._hitElements=c),a=!0}}}const l=this._isInteractive(t),u=e.isInteractive();return u&&u&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:l&&!s(e,i)&&r(e,i)?u?[e]:[]:null}hitTestRecursive(e,t,i,r,s){if(this._interactivePrune(e)||s(e,i))return null;if("dynamic"!==e.eventMode&&"dynamic"!==t||(n.EventsTicker.pauseUpdate=!1),e.interactiveChildren&&e.children){const n=e.children;for(let o=n.length-1;o>=0;o--){const a=n[o],l=this.hitTestRecursive(a,this._isInteractive(t)?t:a.eventMode,i,r,s);if(l){if(l.length>0&&!l[l.length-1].parent)continue;const t=e.isInteractive();return(l.length>0||t)&&l.push(e),l}}}const o=this._isInteractive(t),a=e.isInteractive();return o&&r(e,i)?a?[e]:[]:null}_isInteractive(e){return"static"===e||"dynamic"===e}_interactivePrune(e){return!(e&&!e.isMask&&e.visible&&e.renderable)||("none"===e.eventMode||("passive"===e.eventMode&&!e.interactiveChildren||!!e.isMask))}hitPruneFn(e,t){if(e.hitArea&&(e.worldTransform.applyInverse(t,u),!e.hitArea.contains(u.x,u.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!i.containsPoint?.(t))return!0}return!1}hitTestFn(e,t){return"passive"!==e.eventMode&&(!!e.hitArea||!!e.containsPoint&&e.containsPoint(t))}notifyTarget(e,t){const i=`on${t=t??e.type}`;e.currentTarget[i]?.(e);const r=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,r),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof o.FederatedPointerEvent))return;const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),"touch"===t.pointerType)this.dispatchEvent(t,"touchstart");else if("mouse"===t.pointerType||"pen"===t.pointerType){const e=2===t.button;this.dispatchEvent(t,e?"rightdown":"mousedown")}this.trackingData(e.pointerId).pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){if(!(e instanceof o.FederatedPointerEvent))return;this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const t=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const i="mouse"===t.pointerType||"pen"===t.pointerType,r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.overTargets);if(r.overTargets?.length>0&&n!==t.target){const r="mousemove"===e.type?"mouseout":"pointerout",s=this.createPointerEvent(e,r,n);if(this.dispatchEvent(s,"pointerout"),i&&this.dispatchEvent(s,"mouseout"),!t.composedPath().includes(n)){const r=this.createPointerEvent(e,"pointerleave",n);for(r.eventPhase=r.AT_TARGET;r.target&&!t.composedPath().includes(r.target);)r.currentTarget=r.target,this.notifyTarget(r),i&&this.notifyTarget(r,"mouseleave"),r.target=r.target.parent;this.freeEvent(r)}this.freeEvent(s)}if(n!==t.target){const r="mousemove"===e.type?"mouseover":"pointerover",s=this.clonePointerEvent(t,r);this.dispatchEvent(s,"pointerover"),i&&this.dispatchEvent(s,"mouseover");let o=n?.parent;for(;o&&o!==this.rootTarget.parent&&o!==t.target;)o=o.parent;if(!o||o===this.rootTarget.parent){const e=this.clonePointerEvent(t,"pointerenter");for(e.eventPhase=e.AT_TARGET;e.target&&e.target!==n&&e.target!==this.rootTarget.parent;)e.currentTarget=e.target,this.notifyTarget(e),i&&this.notifyTarget(e,"mouseenter"),e.target=e.target.parent;this.freeEvent(e)}this.freeEvent(s)}const s=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?s.push("pointermove"):this.dispatchEvent(t,"pointermove"),a&&s.push("globalpointermove"),"touch"===t.pointerType&&(this.moveOnAll?s.splice(1,0,"touchmove"):this.dispatchEvent(t,"touchmove"),a&&s.push("globaltouchmove")),i&&(this.moveOnAll?s.splice(1,0,"mousemove"):this.dispatchEvent(t,"mousemove"),a&&s.push("globalmousemove"),this.cursor=t.target?.cursor),s.length>0&&this.all(t,s),this._allInteractiveElements.length=0,this._hitElements.length=0,r.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){if(!(e instanceof o.FederatedPointerEvent))return;const t=this.trackingData(e.pointerId),i=this.createPointerEvent(e),r="mouse"===i.pointerType||"pen"===i.pointerType;this.dispatchEvent(i,"pointerover"),r&&this.dispatchEvent(i,"mouseover"),"mouse"===i.pointerType&&(this.cursor=i.target?.cursor);const n=this.clonePointerEvent(i,"pointerenter");for(n.eventPhase=n.AT_TARGET;n.target&&n.target!==this.rootTarget.parent;)n.currentTarget=n.target,this.notifyTarget(n),r&&this.notifyTarget(n,"mouseenter"),n.target=n.target.parent;t.overTargets=i.composedPath(),this.freeEvent(i),this.freeEvent(n)}mapPointerOut(e){if(!(e instanceof o.FederatedPointerEvent))return;const t=this.trackingData(e.pointerId);if(t.overTargets){const i="mouse"===e.pointerType||"pen"===e.pointerType,r=this.findMountedTarget(t.overTargets),n=this.createPointerEvent(e,"pointerout",r);this.dispatchEvent(n),i&&this.dispatchEvent(n,"mouseout");const s=this.createPointerEvent(e,"pointerleave",r);for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseleave"),s.target=s.target.parent;t.overTargets=null,this.freeEvent(n),this.freeEvent(s)}this.cursor=null}mapPointerUp(e){if(!(e instanceof o.FederatedPointerEvent))return;const t=performance.now(),i=this.createPointerEvent(e);if(this.dispatchEvent(i,"pointerup"),"touch"===i.pointerType)this.dispatchEvent(i,"touchend");else if("mouse"===i.pointerType||"pen"===i.pointerType){const e=2===i.button;this.dispatchEvent(i,e?"rightup":"mouseup")}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]);let s=n;if(n&&!i.composedPath().includes(n)){let t=n;for(;t&&!i.composedPath().includes(t);){if(i.currentTarget=t,this.notifyTarget(i,"pointerupoutside"),"touch"===i.pointerType)this.notifyTarget(i,"touchendoutside");else if("mouse"===i.pointerType||"pen"===i.pointerType){const e=2===i.button;this.notifyTarget(i,e?"rightupoutside":"mouseupoutside")}t=t.parent}delete r.pressTargetsByButton[e.button],s=t}if(s){const n=this.clonePointerEvent(i,"click");n.target=s,n.path=null,r.clicksByButton[e.button]||(r.clicksByButton[e.button]={clickCount:0,target:n.target,timeStamp:t});const o=r.clicksByButton[e.button];if(o.target===n.target&&t-o.timeStamp<200?++o.clickCount:o.clickCount=1,o.target=n.target,o.timeStamp=t,n.detail=o.clickCount,"mouse"===n.pointerType){const e=2===n.button;this.dispatchEvent(n,e?"rightclick":"click")}else"touch"===n.pointerType&&this.dispatchEvent(n,"tap");this.dispatchEvent(n,"pointertap"),this.freeEvent(n)}this.freeEvent(i)}mapPointerUpOutside(e){if(!(e instanceof o.FederatedPointerEvent))return;const t=this.trackingData(e.pointerId),i=this.findMountedTarget(t.pressTargetsByButton[e.button]),r=this.createPointerEvent(e);if(i){let n=i;for(;n;)r.currentTarget=n,this.notifyTarget(r,"pointerupoutside"),"touch"===r.pointerType?this.notifyTarget(r,"touchendoutside"):"mouse"!==r.pointerType&&"pen"!==r.pointerType||this.notifyTarget(r,2===r.button?"rightupoutside":"mouseupoutside"),n=n.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(r)}mapWheel(e){if(!(e instanceof a.FederatedWheelEvent))return;const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let i=1;i<e.length&&e[i].parent===t;i++)t=e[i];return t}createPointerEvent(e,t,i){const r=this.allocateEvent(o.FederatedPointerEvent);return this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=i??this.hitTest(r.global.x,r.global.y)??this._hitElements[0],"string"==typeof t&&(r.type=t),r}createWheelEvent(e){const t=this.allocateEvent(a.FederatedWheelEvent);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const i=this.allocateEvent(o.FederatedPointerEvent);return i.nativeEvent=e.nativeEvent,i.originalEvent=e.originalEvent,this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.target=e.target,i.path=e.composedPath().slice(),i.type=t??i.type,i}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof o.FederatedPointerEvent&&t instanceof o.FederatedPointerEvent&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof s.FederatedMouseEvent&&t instanceof s.FederatedMouseEvent&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){const i=e.currentTarget._events[t];if(i&&e.currentTarget.isInteractive())if("fn"in i)i.once&&e.currentTarget.removeListener(t,i.fn,void 0,!0),i.fn.call(i.context,e);else for(let r=0,n=i.length;r<n&&!e.propagationImmediatelyStopped;r++)i[r].once&&e.currentTarget.removeListener(t,i[r].fn,void 0,!0),i[r].fn.call(i[r].context,e)}}},{"@pixi/core":"OszA","./EventTicker.mjs":"e2JA","./FederatedMouseEvent.mjs":"KfDy","./FederatedPointerEvent.mjs":"mcS6","./FederatedWheelEvent.mjs":"QaeX"}],nFLw:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.EventSystem=void 0;var r=e("@pixi/core"),n=e("./EventBoundary.mjs"),s=e("./EventTicker.mjs"),o=e("./FederatedPointerEvent.mjs"),a=e("./FederatedWheelEvent.mjs");const l={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},u=class{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new n.EventBoundary(null),s.EventsTicker.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new o.FederatedPointerEvent(null),this.rootWheelEvent=new a.FederatedWheelEvent(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...u.defaultEventFeatures},{set:(e,t,i)=>("globalMove"===t&&(this.rootBoundary.enableGlobalMoveEvents=i),e[t]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:t,resolution:i}=this.renderer;this.setTargetElement(t),this.resolution=i,u._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;const i=this.cursorStyles[e];if(i)switch(typeof i){case"string":t&&(this.domElement.style.cursor=i);break;case"function":i(e);break;case"object":t&&Object.assign(this.domElement.style,i);break}else t&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&"touch"===e.pointerType)return;const t=this.normalizeToPointerData(e);if(this.autoPreventDefault&&t[0].isNormalized){(e.cancelable||!("cancelable"in e))&&e.preventDefault()}for(let e=0,i=t.length;e<i;e++){const i=t[e],r=this.bootstrapEvent(this.rootPointerEvent,i);this.rootBoundary.mapEvent(r)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&"touch"===e.pointerType)return;s.EventsTicker.pointerMoved();const t=this.normalizeToPointerData(e);for(let e=0,i=t.length;e<i;e++){const i=this.bootstrapEvent(this.rootPointerEvent,t[e]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&"touch"===e.pointerType)return;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const i=t!==this.domElement?"outside":"",r=this.normalizeToPointerData(e);for(let e=0,t=r.length;e<t;e++){const t=this.bootstrapEvent(this.rootPointerEvent,r[e]);t.type+=i,this.rootBoundary.mapEvent(t)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&"touch"===e.pointerType)return;const t=this.normalizeToPointerData(e);for(let e=0,i=t.length;e<i;e++){const i=this.bootstrapEvent(this.rootPointerEvent,t[e]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,s.EventsTicker.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;s.EventsTicker.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;s.EventsTicker.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,i){let r;r=this.domElement.parentElement?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const n=1/this.resolution;e.x=(t-r.left)*(this.domElement.width/r.width)*n,e.y=(i-r.top)*(this.domElement.height/r.height)*n}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let i=0,r=e.changedTouches.length;i<r;i++){const r=e.changedTouches[i];void 0===r.button&&(r.button=0),void 0===r.buttons&&(r.buttons=1),void 0===r.isPrimary&&(r.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===r.width&&(r.width=r.radiusX||1),void 0===r.height&&(r.height=r.radiusY||1),void 0===r.tiltX&&(r.tiltX=0),void 0===r.tiltY&&(r.tiltY=0),void 0===r.pointerType&&(r.pointerType="touch"),void 0===r.pointerId&&(r.pointerId=r.identifier||0),void 0===r.pressure&&(r.pressure=r.force||.5),void 0===r.twist&&(r.twist=0),void 0===r.tangentialPressure&&(r.tangentialPressure=0),void 0===r.layerX&&(r.layerX=r.offsetX=r.clientX),void 0===r.layerY&&(r.layerY=r.offsetY=r.clientY),r.isNormalized=!0,r.type=e.type,t.push(r)}else if(globalThis.MouseEvent&&(!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof globalThis.PointerEvent))t.push(e);else{const i=e;void 0===i.isPrimary&&(i.isPrimary=!0),void 0===i.width&&(i.width=1),void 0===i.height&&(i.height=1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="mouse"),void 0===i.pointerId&&(i.pointerId=1),void 0===i.pressure&&(i.pressure=.5),void 0===i.twist&&(i.twist=0),void 0===i.tangentialPressure&&(i.tangentialPressure=0),i.isNormalized=!0,t.push(i)}return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=l[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};let c=u;i.EventSystem=c,c.extension={name:"events",type:[r.ExtensionType.RendererSystem,r.ExtensionType.CanvasRendererSystem]},c.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0},r.extensions.add(c)},{"@pixi/core":"OszA","./EventBoundary.mjs":"NSO2","./EventTicker.mjs":"e2JA","./FederatedPointerEvent.mjs":"mcS6","./FederatedWheelEvent.mjs":"QaeX"}],Ghu3:[function(e,t,i){},{}],LJPK:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.FederatedDisplayObject=void 0;var r=e("@pixi/core"),n=e("@pixi/display"),s=e("./EventSystem.mjs"),o=e("./FederatedEvent.mjs");function a(e){return"dynamic"===e||"static"===e}const l={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??a(s.EventSystem.defaultEventMode)},set interactive(e){r.utils.deprecation("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=e,this.eventMode=e?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??s.EventSystem.defaultEventMode},set eventMode(e){this._internalInteractive=a(e),this._internalEventMode=e},isInteractive(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener(e,t,i){const r="function"==typeof t?void 0:t;e="boolean"==typeof i&&i||"object"==typeof i&&i.capture?`${e}capture`:e,t="function"==typeof t?t:t.handleEvent,this.on(e,t,r)},removeEventListener(e,t,i){const r="function"==typeof t?void 0:t;e="boolean"==typeof i&&i||"object"==typeof i&&i.capture?`${e}capture`:e,t="function"==typeof t?t:t.handleEvent,this.off(e,t,r)},dispatchEvent(e){if(!(e instanceof o.FederatedEvent))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return e.defaultPrevented=!1,e.path=null,e.target=this,e.manager.dispatchEvent(e),!e.defaultPrevented}};i.FederatedDisplayObject=l,n.DisplayObject.mixin(l)},{"@pixi/core":"OszA","@pixi/display":"a2dh","./EventSystem.mjs":"nFLw","./FederatedEvent.mjs":"xY4m"}],OMfv:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"EventBoundary",{enumerable:!0,get:function(){return r.EventBoundary}}),Object.defineProperty(i,"EventSystem",{enumerable:!0,get:function(){return n.EventSystem}}),Object.defineProperty(i,"FederatedDisplayObject",{enumerable:!0,get:function(){return o.FederatedDisplayObject}}),Object.defineProperty(i,"FederatedEvent",{enumerable:!0,get:function(){return s.FederatedEvent}}),Object.defineProperty(i,"FederatedMouseEvent",{enumerable:!0,get:function(){return a.FederatedMouseEvent}}),Object.defineProperty(i,"FederatedPointerEvent",{enumerable:!0,get:function(){return l.FederatedPointerEvent}}),Object.defineProperty(i,"FederatedWheelEvent",{enumerable:!0,get:function(){return u.FederatedWheelEvent}});var r=e("./EventBoundary.mjs"),n=e("./EventSystem.mjs"),s=e("./FederatedEvent.mjs");e("./FederatedEventMap.mjs");var o=e("./FederatedEventTarget.mjs"),a=e("./FederatedMouseEvent.mjs"),l=e("./FederatedPointerEvent.mjs"),u=e("./FederatedWheelEvent.mjs")},{"./EventBoundary.mjs":"NSO2","./EventSystem.mjs":"nFLw","./FederatedEvent.mjs":"xY4m","./FederatedEventMap.mjs":"Ghu3","./FederatedEventTarget.mjs":"LJPK","./FederatedMouseEvent.mjs":"KfDy","./FederatedPointerEvent.mjs":"mcS6","./FederatedWheelEvent.mjs":"QaeX"}],pLDw:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.accessibleTarget=void 0;i.accessibleTarget={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1}},{}],Kffh:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.AccessibilityManager=void 0;var r=e("@pixi/core"),n=e("@pixi/display"),s=e("@pixi/events"),o=e("./accessibleTarget.mjs");n.DisplayObject.mixin(o.accessibleTarget);class a{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(r.utils.isMobile.tablet||r.utils.isMobile.phone)&&this.createTouchHook();const t=document.createElement("div");t.style.width="100px",t.style.height="100px",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.zIndex=2..toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",(()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode?.appendChild(this.div))}deactivate(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode?.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const t=e.children;if(t)for(let e=0;e<t.length;e++)this.updateAccessibleObjects(t[e])}update(){const e=performance.now();if(r.utils.isMobile.android.device&&e<this.androidUpdateCount)return;if(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen)return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:t,y:i,width:n,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,u=n/o*l,c=s/a*l;let h=this.div;h.style.left=`${t}px`,h.style.top=`${i}px`,h.style.width=`${o}px`,h.style.height=`${a}px`;for(let e=0;e<this.children.length;e++){const t=this.children[e];if(t.renderId!==this.renderId)t._accessibleActive=!1,r.utils.removeItems(this.children,e,1),this.div.removeChild(t._accessibleDiv),this.pool.push(t._accessibleDiv),t._accessibleDiv=null,e--;else{h=t._accessibleDiv;let e=t.hitArea;const i=t.worldTransform;t.hitArea?(h.style.left=(i.tx+e.x*i.a)*u+"px",h.style.top=(i.ty+e.y*i.d)*c+"px",h.style.width=e.width*i.a*u+"px",h.style.height=e.height*i.d*c+"px"):(e=t.getBounds(),this.capHitArea(e),h.style.left=e.x*u+"px",h.style.top=e.y*c+"px",h.style.width=e.width*u+"px",h.style.height=e.height*c+"px",h.title!==t.accessibleTitle&&null!==t.accessibleTitle&&(h.title=t.accessibleTitle),h.getAttribute("aria-label")!==t.accessibleHint&&null!==t.accessibleHint&&h.setAttribute("aria-label",t.accessibleHint)),t.accessibleTitle===h.title&&t.tabIndex===h.tabIndex||(h.title=t.accessibleTitle,h.tabIndex=t.tabIndex,this.debug&&this.updateDebugHTML(h))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:i}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>i&&(e.height=i-e.y)}addChild(e){let t=this.pool.pop();t||(t=document.createElement("button"),t.style.width="100px",t.style.height="100px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2..toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){const{displayObject:i}=e.target,r=this.renderer.events.rootBoundary,n=Object.assign(new s.FederatedEvent(r),{target:i});r.rootTarget=this.renderer.lastObjectRendered,t.forEach((e=>r.dispatchEvent(n,e)))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){9===e.keyCode&&this.activate()}_onMouseMove(e){0===e.movementX&&0===e.movementY||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}i.AccessibilityManager=a,a.extension={name:"accessibility",type:[r.ExtensionType.RendererPlugin,r.ExtensionType.CanvasRendererPlugin]},r.extensions.add(a)},{"@pixi/core":"OszA","@pixi/display":"a2dh","@pixi/events":"OMfv","./accessibleTarget.mjs":"pLDw"}],LD4a:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"AccessibilityManager",{enumerable:!0,get:function(){return r.AccessibilityManager}}),Object.defineProperty(i,"accessibleTarget",{enumerable:!0,get:function(){return n.accessibleTarget}});var r=e("./AccessibilityManager.mjs"),n=e("./accessibleTarget.mjs")},{"./AccessibilityManager.mjs":"Kffh","./accessibleTarget.mjs":"pLDw"}],T1X8:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Application=void 0;var r=e("@pixi/core"),n=e("@pixi/display");const s=class{constructor(e){this.stage=new n.Container,e=Object.assign({forceCanvas:!1},e),this.renderer=(0,r.autoDetectRenderer)(e),s._plugins.forEach((t=>{t.init.call(this,e)}))}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(e,t){const i=s._plugins.slice(0);i.reverse(),i.forEach((e=>{e.destroy.call(this)})),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};let o=s;i.Application=o,o._plugins=[],r.extensions.handleByList(r.ExtensionType.Application,o._plugins)},{"@pixi/core":"OszA","@pixi/display":"a2dh"}],PUuu:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ResizePlugin=void 0;var r=e("@pixi/core");class n{static init(e){Object.defineProperty(this,"resizeTo",{set(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame((()=>this.resize())))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;let e,t;if(this.cancelResize(),this._resizeTo===globalThis.window)e=globalThis.innerWidth,t=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:r}=this._resizeTo;e=i,t=r}this.renderer.resize(e,t),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}i.ResizePlugin=n,n.extension=r.ExtensionType.Application,r.extensions.add(n)},{"@pixi/core":"OszA"}],ei0R:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"Application",{enumerable:!0,get:function(){return r.Application}}),Object.defineProperty(i,"ResizePlugin",{enumerable:!0,get:function(){return n.ResizePlugin}});var r=e("./Application.mjs"),n=e("./ResizePlugin.mjs")},{"./Application.mjs":"T1X8","./ResizePlugin.mjs":"PUuu"}],djSv:[function(e,t,i){"use strict";var r=e("@pixi/core");const n={loader:r.ExtensionType.LoadParser,resolver:r.ExtensionType.ResolveParser,cache:r.ExtensionType.CacheParser,detection:r.ExtensionType.DetectionParser};r.extensions.handle(r.ExtensionType.Asset,(e=>{const t=e.ref;Object.entries(n).filter((([e])=>!!t[e])).forEach((([e,i])=>r.extensions.add(Object.assign(t[e],{extension:t[e].extension??i}))))}),(e=>{const t=e.ref;Object.keys(n).filter((e=>!!t[e])).forEach((e=>r.extensions.remove(t[e])))}))},{"@pixi/core":"OszA"}],QELY:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BackgroundLoader=void 0;i.BackgroundLoader=class{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach((e=>{this._assetList.push(e)})),this.verbose,this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let i=0;i<t;i++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}},{}],GKBj:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.checkDataUrl=function(e,t){if(Array.isArray(t)){for(const i of t)if(e.startsWith(`data:${i}`))return!0;return!1}return e.startsWith(`data:${t}`)}},{}],kmUU:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.checkExtension=function(e,t){const i=e.split("?")[0],n=r.utils.path.extname(i).toLowerCase();if(Array.isArray(t))return t.includes(n);return n===t};var r=e("@pixi/core")},{"@pixi/core":"OszA"}],wwXi:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.convertToList=void 0;i.convertToList=(e,t)=>(Array.isArray(e)||(e=[e]),t?e.map((e=>"string"==typeof e?t(e):e)):e)},{}],BqAB:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.copySearchParams=void 0;i.copySearchParams=(e,t)=>{const i=t.split("?")[1];return i&&(e+=`?${i}`),e}},{}],TS8Y:[function(e,t,i){"use strict";function r(e,t,i,n,s){const o=t[i];for(let a=0;a<o.length;a++){const l=o[a];i<t.length-1?r(e.replace(n[i],l),t,i+1,n,s):s.push(e.replace(n[i],l))}}Object.defineProperty(i,"__esModule",{value:!0}),i.createStringVariations=function(e){const t=e.match(/\{(.*?)\}/g),i=[];if(t){const n=[];t.forEach((e=>{const t=e.substring(1,e.length-1).split(",");n.push(t)})),r(e,n,0,t,i)}else i.push(e);return i}},{}],fzB4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.isSingleItem=void 0;i.isSingleItem=e=>!Array.isArray(e)},{}],LMBz:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"checkDataUrl",{enumerable:!0,get:function(){return r.checkDataUrl}}),Object.defineProperty(i,"checkExtension",{enumerable:!0,get:function(){return n.checkExtension}}),Object.defineProperty(i,"convertToList",{enumerable:!0,get:function(){return s.convertToList}}),Object.defineProperty(i,"copySearchParams",{enumerable:!0,get:function(){return o.copySearchParams}}),Object.defineProperty(i,"createStringVariations",{enumerable:!0,get:function(){return a.createStringVariations}}),Object.defineProperty(i,"isSingleItem",{enumerable:!0,get:function(){return l.isSingleItem}});var r=e("./checkDataUrl.mjs"),n=e("./checkExtension.mjs"),s=e("./convertToList.mjs"),o=e("./copySearchParams.mjs"),a=e("./createStringVariations.mjs"),l=e("./isSingleItem.mjs")},{"./checkDataUrl.mjs":"GKBj","./checkExtension.mjs":"kmUU","./convertToList.mjs":"wwXi","./copySearchParams.mjs":"BqAB","./createStringVariations.mjs":"TS8Y","./isSingleItem.mjs":"fzB4"}],y1M7:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Cache=void 0;var r=e("@pixi/core");e("../utils/index.mjs");var n=e("../utils/convertToList.mjs");const s=new class{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t}set(e,t){const i=(0,n.convertToList)(e);let s;for(let e=0;e<this.parsers.length;e++){const r=this.parsers[e];if(r.test(t)){s=r.getCacheableAssets(i,t);break}}s||(s={},i.forEach((e=>{s[e]=t})));const o=Object.keys(s),a={cacheKeys:o,keys:i};if(i.forEach((e=>{this._cacheMap.set(e,a)})),o.forEach((e=>{this._cache.has(e)&&this._cache.get(e),this._cache.set(e,s[e])})),t instanceof r.Texture){const e=t;i.forEach((t=>{e.baseTexture!==r.Texture.EMPTY.baseTexture&&r.BaseTexture.addToCache(e.baseTexture,t),r.Texture.addToCache(e,t)}))}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e))return;const t=this._cacheMap.get(e);t.cacheKeys.forEach((e=>{this._cache.delete(e)})),t.keys.forEach((e=>{this._cacheMap.delete(e)}))}get parsers(){return this._parsers}};i.Cache=s},{"@pixi/core":"OszA","../utils/index.mjs":"LMBz","../utils/convertToList.mjs":"wwXi"}],tS9Z:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Loader=void 0;var r=e("@pixi/core");e("../utils/index.mjs");var n=e("../utils/isSingleItem.mjs"),s=e("../utils/convertToList.mjs");i.Loader=class{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,i)=>(this._parsersValidated=!1,e[t]=i,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){const i={promise:null,parser:null};return i.promise=(async()=>{let r=null,n=null;if(t.loadParser&&(n=this._parserHash[t.loadParser]),!n){for(let i=0;i<this.parsers.length;i++){const r=this.parsers[i];if(r.load&&r.test?.(e,t,this)){n=r;break}}if(!n)return null}r=await n.load(e,t,this),i.parser=n;for(let e=0;e<this.parsers.length;e++){const n=this.parsers[e];n.parse&&n.parse&&await(n.testParse?.(r,t,this))&&(r=await n.parse(r,t,this)||r,i.parser=n)}return r})(),i}async load(e,t){this._parsersValidated||this._validateParsers();let i=0;const o={},a=(0,n.isSingleItem)(e),l=(0,s.convertToList)(e,(e=>({src:e}))),u=l.length,c=l.map((async e=>{const n=r.utils.path.toAbsolute(e.src);if(!o[e.src])try{this.promiseCache[n]||(this.promiseCache[n]=this._getLoadPromiseAndParser(n,e)),o[e.src]=await this.promiseCache[n].promise,t&&t(++i/u)}catch(t){throw delete this.promiseCache[n],delete o[e.src],new Error(`[Loader.load] Failed to load ${n}.\n${t}`)}}));return await Promise.all(c),a?o[l[0].src]:o}async unload(e){const t=(0,s.convertToList)(e,(e=>({src:e}))).map((async e=>{const t=r.utils.path.toAbsolute(e.src),i=this.promiseCache[t];if(i){const r=await i.promise;i.parser?.unload?.(r,e,this),delete this.promiseCache[t]}}));await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter((e=>e.name)).reduce(((e,t)=>(e[t.name],{...e,[t.name]:t})),{})}}},{"@pixi/core":"OszA","../utils/index.mjs":"LMBz","../utils/isSingleItem.mjs":"fzB4","../utils/convertToList.mjs":"wwXi"}],ubo4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.LoaderParserPriority=void 0;var r=(e=>(e[e.Low=0]="Low",e[e.Normal=1]="Normal",e[e.High=2]="High",e))(r||{});i.LoaderParserPriority=r},{}],B1jI:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.loadJson=void 0;var r=e("@pixi/core"),n=e("../../utils/checkDataUrl.mjs"),s=e("../../utils/checkExtension.mjs"),o=e("./LoaderParser.mjs");const a={extension:{type:r.ExtensionType.LoadParser,priority:o.LoaderParserPriority.Low},name:"loadJson",test:e=>(0,n.checkDataUrl)(e,"application/json")||(0,s.checkExtension)(e,".json"),async load(e){const t=await r.settings.ADAPTER.fetch(e);return await t.json()}};i.loadJson=a,r.extensions.add(a)},{"@pixi/core":"OszA","../../utils/checkDataUrl.mjs":"GKBj","../../utils/checkExtension.mjs":"kmUU","./LoaderParser.mjs":"ubo4"}],g7Ic:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.loadTxt=void 0;var r=e("@pixi/core"),n=e("../../utils/checkDataUrl.mjs"),s=e("../../utils/checkExtension.mjs"),o=e("./LoaderParser.mjs");const a={name:"loadTxt",extension:{type:r.ExtensionType.LoadParser,priority:o.LoaderParserPriority.Low},test:e=>(0,n.checkDataUrl)(e,"text/plain")||(0,s.checkExtension)(e,".txt"),async load(e){const t=await r.settings.ADAPTER.fetch(e);return await t.text()}};i.loadTxt=a,r.extensions.add(a)},{"@pixi/core":"OszA","../../utils/checkDataUrl.mjs":"GKBj","../../utils/checkExtension.mjs":"kmUU","./LoaderParser.mjs":"ubo4"}],EnHX:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.getFontFamilyName=h,i.loadWebFont=void 0;var r=e("@pixi/core"),n=e("../../utils/checkDataUrl.mjs"),s=e("../../utils/checkExtension.mjs"),o=e("./LoaderParser.mjs");const a=["normal","bold","100","200","300","400","500","600","700","800","900"],l=[".ttf",".otf",".woff",".woff2"],u=["font/ttf","font/otf","font/woff","font/woff2"],c=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function h(e){const t=r.utils.path.extname(e),i=r.utils.path.basename(e,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1)));let n=i.length>0;for(const e of i)if(!e.match(c)){n=!1;break}let s=i.join(" ");return n||(s=`"${s.replace(/[\\"]/g,"\\$&")}"`),s}const d={extension:{type:r.ExtensionType.LoadParser,priority:o.LoaderParserPriority.Low},name:"loadWebFont",test:e=>(0,n.checkDataUrl)(e,u)||(0,s.checkExtension)(e,l),async load(e,t){const i=r.settings.ADAPTER.getFontFaceSet();if(i){const r=[],n=t.data?.family??h(e),s=t.data?.weights?.filter((e=>a.includes(e)))??["normal"],o=t.data??{};for(let t=0;t<s.length;t++){const a=s[t],l=new FontFace(n,`url(${encodeURI(e)})`,{...o,weight:a});await l.load(),i.add(l),r.push(l)}return 1===r.length?r[0]:r}return null},unload(e){(Array.isArray(e)?e:[e]).forEach((e=>r.settings.ADAPTER.getFontFaceSet().delete(e)))}};i.loadWebFont=d,r.extensions.add(d)},{"@pixi/core":"OszA","../../utils/checkDataUrl.mjs":"GKBj","../../utils/checkExtension.mjs":"kmUU","./LoaderParser.mjs":"ubo4"}],j8qe:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.WorkerManager=void 0;let r,n=0;const s={id:"checkImageBitmap",code:"\n    async function checkImageBitmap()\n    {\n        try\n        {\n            if (typeof createImageBitmap !== 'function') return false;\n\n            const response = await fetch('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=');\n            const imageBlob =  await response.blob();\n            const imageBitmap = await createImageBitmap(imageBlob);\n\n            return imageBitmap.width === 1 && imageBitmap.height === 1;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    }\n    checkImageBitmap().then((result) => { self.postMessage(result); });\n    "},o={id:"loadImageBitmap",code:"\n    async function loadImageBitmap(url)\n    {\n        const response = await fetch(url);\n\n        if (!response.ok)\n        {\n            throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: `\n                + `${response.status} ${response.statusText}`);\n        }\n\n        const imageBlob =  await response.blob();\n        const imageBitmap = await createImageBitmap(imageBlob);\n\n        return imageBitmap;\n    }\n    self.onmessage = async (event) =>\n    {\n        try\n        {\n            const imageBitmap = await loadImageBitmap(event.data.data[0]);\n\n            self.postMessage({\n                data: imageBitmap,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            }, [imageBitmap]);\n        }\n        catch(e)\n        {\n            self.postMessage({\n                error: e,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            });\n        }\n    };"};let a;const l=new class{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise((e=>{const t=URL.createObjectURL(new Blob([s.code],{type:"application/javascript"})),i=new Worker(t);i.addEventListener("message",(r=>{i.terminate(),URL.revokeObjectURL(t),e(r.data)}))}))),this._isImageBitmapSupported}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){void 0===r&&(r=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<r&&(a||(a=URL.createObjectURL(new Blob([o.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(a),e.addEventListener("message",(e=>{this.complete(e.data),this.returnWorker(e.target),this.next()}))),e}returnWorker(e){this.workerPool.push(e)}complete(e){void 0!==e.error?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const i=new Promise(((i,r)=>{this.queue.push({id:e,arguments:t,resolve:i,reject:r})}));return this.next(),i}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const t=this.queue.pop(),i=t.id;this.resolveHash[n]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:n++,id:i})}};i.WorkerManager=l},{}],S60z:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.createTexture=function(e,t,i){const n=new r.Texture(e);return n.baseTexture.on("dispose",(()=>{delete t.promiseCache[i]})),n};var r=e("@pixi/core")},{"@pixi/core":"OszA"}],IXIo:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.loadImageBitmap=h,i.loadTextures=void 0;var r=e("@pixi/core"),n=e("../../../utils/checkDataUrl.mjs"),s=e("../../../utils/checkExtension.mjs"),o=e("../LoaderParser.mjs"),a=e("../WorkerManager.mjs"),l=e("./utils/createTexture.mjs");const u=[".jpeg",".jpg",".png",".webp",".avif"],c=["image/jpeg","image/png","image/webp","image/avif"];async function h(e){const t=await r.settings.ADAPTER.fetch(e);if(!t.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${e}: ${t.status} ${t.statusText}`);const i=await t.blob();return await createImageBitmap(i)}const d={name:"loadTextures",extension:{type:r.ExtensionType.LoadParser,priority:o.LoaderParserPriority.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test:e=>(0,n.checkDataUrl)(e,c)||(0,s.checkExtension)(e,u),async load(e,t,i){let n=null;n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await a.WorkerManager.isImageBitmapSupported()?await a.WorkerManager.loadImageBitmap(e):await h(e):await new Promise((t=>{n=new Image,n.crossOrigin=this.config.crossOrigin,n.src=e,n.complete?t(n):n.onload=()=>{t(n)}}));const s=new r.BaseTexture(n,{resolution:r.utils.getResolutionOfUrl(e),...t.data});return s.resource.src=e,(0,l.createTexture)(s,i,e)},unload(e){e.destroy(!0)}};i.loadTextures=d,r.extensions.add(d)},{"@pixi/core":"OszA","../../../utils/checkDataUrl.mjs":"GKBj","../../../utils/checkExtension.mjs":"kmUU","../LoaderParser.mjs":"ubo4","../WorkerManager.mjs":"j8qe","./utils/createTexture.mjs":"S60z"}],mFmv:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.loadSVG=void 0;var r=e("@pixi/core"),n=e("../../../utils/checkDataUrl.mjs"),s=e("../../../utils/checkExtension.mjs"),o=e("../LoaderParser.mjs"),a=e("./loadTextures.mjs"),l=e("./utils/createTexture.mjs");const u={extension:{type:r.ExtensionType.LoadParser,priority:o.LoaderParserPriority.High},name:"loadSVG",test:e=>(0,n.checkDataUrl)(e,"image/svg+xml")||(0,s.checkExtension)(e,".svg"),testParse:async e=>r.SVGResource.test(e),async parse(e,t,i){const n=new r.SVGResource(e,t?.data?.resourceOptions);await n.load();const s=new r.BaseTexture(n,{resolution:r.utils.getResolutionOfUrl(e),...t?.data});s.resource.src=e;return(0,l.createTexture)(s,i,e)},load:async(e,t)=>(await r.settings.ADAPTER.fetch(e)).text(),unload:a.loadTextures.unload};i.loadSVG=u,r.extensions.add(u)},{"@pixi/core":"OszA","../../../utils/checkDataUrl.mjs":"GKBj","../../../utils/checkExtension.mjs":"kmUU","../LoaderParser.mjs":"ubo4","./loadTextures.mjs":"IXIo","./utils/createTexture.mjs":"S60z"}],V8B5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"createTexture",{enumerable:!0,get:function(){return r.createTexture}});var r=e("./createTexture.mjs")},{"./createTexture.mjs":"S60z"}],QMIi:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"loadImageBitmap",{enumerable:!0,get:function(){return n.loadImageBitmap}}),Object.defineProperty(i,"loadSVG",{enumerable:!0,get:function(){return r.loadSVG}}),Object.defineProperty(i,"loadTextures",{enumerable:!0,get:function(){return n.loadTextures}});var r=e("./loadSVG.mjs"),n=e("./loadTextures.mjs");e("./utils/index.mjs")},{"./loadSVG.mjs":"mFmv","./loadTextures.mjs":"IXIo","./utils/index.mjs":"V8B5"}],AmnY:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"LoaderParserPriority",{enumerable:!0,get:function(){return r.LoaderParserPriority}}),Object.defineProperty(i,"getFontFamilyName",{enumerable:!0,get:function(){return o.getFontFamilyName}}),Object.defineProperty(i,"loadJson",{enumerable:!0,get:function(){return n.loadJson}}),Object.defineProperty(i,"loadTxt",{enumerable:!0,get:function(){return s.loadTxt}}),Object.defineProperty(i,"loadWebFont",{enumerable:!0,get:function(){return o.loadWebFont}});var r=e("./LoaderParser.mjs"),n=e("./loadJson.mjs"),s=e("./loadTxt.mjs"),o=e("./loadWebFont.mjs");e("./textures/index.mjs")},{"./LoaderParser.mjs":"ubo4","./loadJson.mjs":"B1jI","./loadTxt.mjs":"g7Ic","./loadWebFont.mjs":"EnHX","./textures/index.mjs":"QMIi"}],SbyK:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Resolver=void 0;var r=e("@pixi/core"),n=e("../utils/convertToList.mjs"),s=e("../utils/createStringVariations.mjs"),o=e("../utils/isSingleItem.mjs");i.Resolver=class{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach((e=>{this._preferredOrder.push(e),e.priority||(e.priority=Object.keys(e.params))})),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if("string"==typeof e)this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`)).join("&")}}addManifest(e){this._manifest,this._manifest=e,e.bundles.forEach((e=>{this.addBundle(e.name,e.assets)}))}addBundle(e,t){const i=[];Array.isArray(t)?t.forEach((t=>{if("string"==typeof t.name){const r=this._createBundleAssetId(e,t.name);i.push(r),this.add([t.name,r],t.srcs,t.data)}else{const r=t.name.map((t=>this._createBundleAssetId(e,t)));r.forEach((e=>{i.push(e)})),this.add([...t.name,...r],t.srcs)}})):Object.keys(t).forEach((r=>{i.push(this._createBundleAssetId(e,r)),this.add([r,this._createBundleAssetId(e,r)],t[r])})),this._bundles[e]=i}add(e,t,i){const o=(0,n.convertToList)(e);o.forEach((e=>{this.hasKey(e)})),Array.isArray(t)||(t="string"==typeof t?(0,s.createStringVariations)(t):[t]);const a=t.map((e=>{let t=e;if("string"==typeof e){let i=!1;for(let r=0;r<this._parsers.length;r++){const n=this._parsers[r];if(n.test(e)){t=n.parse(e),i=!0;break}}i||(t={src:e})}return t.format||(t.format=t.src.split(".").pop()),t.alias||(t.alias=o),(this._basePath||this._rootPath)&&(t.src=r.utils.path.toAbsolute(t.src,this._basePath,this._rootPath)),t.src=this._appendDefaultSearchParams(t.src),t.data=t.data??i,t}));o.forEach((e=>{this._assetMap[e]=a}))}resolveBundle(e){const t=(0,o.isSingleItem)(e);e=(0,n.convertToList)(e);const i={};return e.forEach((e=>{const t=this._bundles[e];if(t){const r=this.resolve(t),n={};for(const t in r){const i=r[t];n[this._extractAssetIdFromBundle(e,t)]=i}i[e]=n}})),t?i[e[0]]:i}resolveUrl(e){const t=this.resolve(e);if("string"!=typeof e){const e={};for(const i in t)e[i]=t[i].src;return e}return t.src}resolve(e){const t=(0,o.isSingleItem)(e);e=(0,n.convertToList)(e);const i={};return e.forEach((e=>{if(!this._resolverHash[e])if(this._assetMap[e]){let t=this._assetMap[e];const i=this._getPreferredOrder(t),r=t[0];i?.priority.forEach((e=>{i.params[e].forEach((i=>{const r=t.filter((t=>!!t[e]&&t[e]===i));r.length&&(t=r)}))})),this._resolverHash[e]=t[0]??r}else{let t=e;(this._basePath||this._rootPath)&&(t=r.utils.path.toAbsolute(t,this._basePath,this._rootPath)),t=this._appendDefaultSearchParams(t),this._resolverHash[e]={src:t}}i[e]=this._resolverHash[e]})),t?i[e[0]]:i}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const t=e[0],i=this._preferredOrder.find((e=>e.params.format.includes(t.format)));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;return`${e}${/\?/.test(e)?"&":"?"}${this._defaultSearchParams}`}}},{"@pixi/core":"OszA","../utils/convertToList.mjs":"wwXi","../utils/createStringVariations.mjs":"TS8Y","../utils/isSingleItem.mjs":"fzB4"}],wU0p:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.AssetsClass=i.Assets=void 0;var r=e("@pixi/core"),n=e("./BackgroundLoader.mjs"),s=e("./cache/Cache.mjs"),o=e("./loader/Loader.mjs");e("./loader/parsers/index.mjs");var a=e("./resolver/Resolver.mjs"),l=e("./utils/convertToList.mjs"),u=e("./utils/isSingleItem.mjs"),c=e("./loader/parsers/textures/loadTextures.mjs");class h{constructor(){this._detections=[],this._initialized=!1,this.resolver=new a.Resolver,this.loader=new o.Loader,this.cache=s.Cache,this._backgroundLoader=new n.BackgroundLoader(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){if(this._initialized)return;if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let t=e.manifest;"string"==typeof t&&(t=await this.load(t)),this.resolver.addManifest(t)}const t=e.texturePreference?.resolution??1,i="number"==typeof t?[t]:t;let r=[];if(e.texturePreference?.format){const t=e.texturePreference?.format;r="string"==typeof t?[t]:t;for(const e of this._detections)await e.test()||(r=await e.remove(r))}else for(const e of this._detections)await e.test()&&(r=await e.add(r));this.resolver.prefer({params:{format:r,resolution:i}}),e.preferences&&this.setPreferences(e.preferences)}add(e,t,i){this.resolver.add(e,t,i)}async load(e,t){this._initialized||await this.init();const i=(0,u.isSingleItem)(e),r=(0,l.convertToList)(e).map((e=>"string"!=typeof e?(this.resolver.add(e.src,e),e.src):(this.resolver.hasKey(e)||this.resolver.add(e,e),e))),n=this.resolver.resolve(r),s=await this._mapLoadToResolve(n,t);return i?s[r[0]]:s}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let i=!1;"string"==typeof e&&(i=!0,e=[e]);const r=this.resolver.resolveBundle(e),n={},s=Object.keys(r);let o=0,a=0;const l=()=>{t?.(++o/a)},u=s.map((e=>{const t=r[e];return a+=Object.keys(t).length,this._mapLoadToResolve(t,l).then((t=>{n[e]=t}))}));return await Promise.all(u),i?n[e[0]]:n}async backgroundLoad(e){this._initialized||await this.init(),"string"==typeof e&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),"string"==typeof e&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach((e=>{this._backgroundLoader.add(Object.values(e))}))}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if("string"==typeof e)return s.Cache.get(e);const t={};for(let i=0;i<e.length;i++)t[i]=s.Cache.get(e[i]);return t}async _mapLoadToResolve(e,t){const i=Object.values(e),r=Object.keys(e);this._backgroundLoader.active=!1;const n=await this.loader.load(i,t);this._backgroundLoader.active=!0;const o={};return i.forEach(((e,t)=>{const i=n[e.src],a=[e.src];e.alias&&a.push(...e.alias),o[r[t]]=i,s.Cache.set(a,i)})),o}async unload(e){this._initialized||await this.init();const t=(0,l.convertToList)(e).map((e=>"string"!=typeof e?e.src:e)),i=this.resolver.resolve(t);await this._unloadFromResolved(i)}async unloadBundle(e){this._initialized||await this.init(),e=(0,l.convertToList)(e);const t=this.resolver.resolveBundle(e),i=Object.keys(t).map((e=>this._unloadFromResolved(t[e])));await Promise.all(i)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach((e=>{s.Cache.remove(e.src)})),await this.loader.unload(t)}get detections(){return this._detections}get preferWorkers(){return c.loadTextures.config.preferWorkers}set preferWorkers(e){r.utils.deprecation("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach((t=>{t.config&&Object.keys(t.config).filter((t=>t in e)).forEach((i=>{t.config[i]=e[i]}))}))}}i.AssetsClass=h;const d=new h;i.Assets=d,r.extensions.handleByList(r.ExtensionType.LoadParser,d.loader.parsers).handleByList(r.ExtensionType.ResolveParser,d.resolver.parsers).handleByList(r.ExtensionType.CacheParser,d.cache.parsers).handleByList(r.ExtensionType.DetectionParser,d.detections)},{"@pixi/core":"OszA","./BackgroundLoader.mjs":"QELY","./cache/Cache.mjs":"y1M7","./loader/Loader.mjs":"tS9Z","./loader/parsers/index.mjs":"AmnY","./resolver/Resolver.mjs":"SbyK","./utils/convertToList.mjs":"wwXi","./utils/isSingleItem.mjs":"fzB4","./loader/parsers/textures/loadTextures.mjs":"IXIo"}],D2FT:[function(e,t,i){},{}],DmHr:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.cacheTextureArray=void 0;var r=e("@pixi/core");const n={extension:r.ExtensionType.CacheParser,test:e=>Array.isArray(e)&&e.every((e=>e instanceof r.Texture)),getCacheableAssets:(e,t)=>{const i={};return e.forEach((e=>{t.forEach(((t,r)=>{i[e+(0===r?"":r+1)]=t}))})),i}};i.cacheTextureArray=n,r.extensions.add(n)},{"@pixi/core":"OszA"}],Ijdp:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"cacheTextureArray",{enumerable:!0,get:function(){return r.cacheTextureArray}});var r=e("./cacheTextureArray.mjs")},{"./cacheTextureArray.mjs":"DmHr"}],IBIe:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"Cache",{enumerable:!0,get:function(){return r.Cache}});var r=e("./Cache.mjs");e("./CacheParser.mjs"),e("./parsers/index.mjs")},{"./Cache.mjs":"y1M7","./CacheParser.mjs":"D2FT","./parsers/index.mjs":"Ijdp"}],EjIu:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.detectAvif=void 0;var r=e("@pixi/core");const n={extension:{type:r.ExtensionType.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const e=await r.settings.ADAPTER.fetch("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=").then((e=>e.blob()));return createImageBitmap(e).then((()=>!0),(()=>!1))},add:async e=>[...e,"avif"],remove:async e=>e.filter((e=>"avif"!==e))};i.detectAvif=n,r.extensions.add(n)},{"@pixi/core":"OszA"}],gfHy:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.detectWebp=void 0;var r=e("@pixi/core");const n={extension:{type:r.ExtensionType.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const e=await r.settings.ADAPTER.fetch("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=").then((e=>e.blob()));return createImageBitmap(e).then((()=>!0),(()=>!1))},add:async e=>[...e,"webp"],remove:async e=>e.filter((e=>"webp"!==e))};i.detectWebp=n,r.extensions.add(n)},{"@pixi/core":"OszA"}],f5KQ:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.detectDefaults=void 0;var r=e("@pixi/core");const n=["png","jpg","jpeg"],s={extension:{type:r.ExtensionType.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async e=>[...e,...n],remove:async e=>e.filter((e=>!n.includes(e)))};i.detectDefaults=s,r.extensions.add(s)},{"@pixi/core":"OszA"}],fvdw:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"detectAvif",{enumerable:!0,get:function(){return r.detectAvif}}),Object.defineProperty(i,"detectDefaults",{enumerable:!0,get:function(){return s.detectDefaults}}),Object.defineProperty(i,"detectWebp",{enumerable:!0,get:function(){return n.detectWebp}});var r=e("./detectAvif.mjs"),n=e("./detectWebp.mjs"),s=e("./detectDefaults.mjs")},{"./detectAvif.mjs":"EjIu","./detectWebp.mjs":"gfHy","./detectDefaults.mjs":"f5KQ"}],bV48:[function(e,t,i){"use strict";e("./parsers/index.mjs")},{"./parsers/index.mjs":"fvdw"}],O5jz:[function(e,t,i){},{}],VEja:[function(e,t,i){"use strict";e("./parsers/index.mjs"),e("./types.mjs")},{"./parsers/index.mjs":"AmnY","./types.mjs":"O5jz"}],LS3o:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.resolveTextureUrl=void 0;var r=e("@pixi/core");e("../../loader/index.mjs");var n=e("../../loader/parsers/textures/loadTextures.mjs");const s={extension:r.ExtensionType.ResolveParser,test:n.loadTextures.test,parse:e=>({resolution:parseFloat(r.settings.RETINA_PREFIX.exec(e)?.[1]??"1"),format:e.split(".").pop(),src:e})};i.resolveTextureUrl=s,r.extensions.add(s)},{"@pixi/core":"OszA","../../loader/index.mjs":"VEja","../../loader/parsers/textures/loadTextures.mjs":"IXIo"}],X1pp:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"resolveTextureUrl",{enumerable:!0,get:function(){return r.resolveTextureUrl}});var r=e("./resolveTextureUrl.mjs")},{"./resolveTextureUrl.mjs":"LS3o"}],rIgO:[function(e,t,i){"use strict";e("./parsers/index.mjs"),e("./types.mjs")},{"./parsers/index.mjs":"X1pp","./types.mjs":"O5jz"}],m1Kw:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"Assets",{enumerable:!0,get:function(){return r.Assets}}),Object.defineProperty(i,"AssetsClass",{enumerable:!0,get:function(){return r.AssetsClass}}),Object.defineProperty(i,"Cache",{enumerable:!0,get:function(){return n.Cache}}),Object.defineProperty(i,"LoaderParserPriority",{enumerable:!0,get:function(){return u.LoaderParserPriority}}),Object.defineProperty(i,"cacheTextureArray",{enumerable:!0,get:function(){return s.cacheTextureArray}}),Object.defineProperty(i,"checkDataUrl",{enumerable:!0,get:function(){return y.checkDataUrl}}),Object.defineProperty(i,"checkExtension",{enumerable:!0,get:function(){return v.checkExtension}}),Object.defineProperty(i,"convertToList",{enumerable:!0,get:function(){return x.convertToList}}),Object.defineProperty(i,"copySearchParams",{enumerable:!0,get:function(){return _.copySearchParams}}),Object.defineProperty(i,"createStringVariations",{enumerable:!0,get:function(){return b.createStringVariations}}),Object.defineProperty(i,"createTexture",{enumerable:!0,get:function(){return m.createTexture}}),Object.defineProperty(i,"detectAvif",{enumerable:!0,get:function(){return o.detectAvif}}),Object.defineProperty(i,"detectDefaults",{enumerable:!0,get:function(){return l.detectDefaults}}),Object.defineProperty(i,"detectWebp",{enumerable:!0,get:function(){return a.detectWebp}}),Object.defineProperty(i,"getFontFamilyName",{enumerable:!0,get:function(){return d.getFontFamilyName}}),Object.defineProperty(i,"isSingleItem",{enumerable:!0,get:function(){return S.isSingleItem}}),Object.defineProperty(i,"loadImageBitmap",{enumerable:!0,get:function(){return f.loadImageBitmap}}),Object.defineProperty(i,"loadJson",{enumerable:!0,get:function(){return c.loadJson}}),Object.defineProperty(i,"loadSVG",{enumerable:!0,get:function(){return p.loadSVG}}),Object.defineProperty(i,"loadTextures",{enumerable:!0,get:function(){return f.loadTextures}}),Object.defineProperty(i,"loadTxt",{enumerable:!0,get:function(){return h.loadTxt}}),Object.defineProperty(i,"loadWebFont",{enumerable:!0,get:function(){return d.loadWebFont}}),Object.defineProperty(i,"resolveTextureUrl",{enumerable:!0,get:function(){return g.resolveTextureUrl}}),e("./AssetExtension.mjs");var r=e("./Assets.mjs");e("./cache/index.mjs"),e("./detections/index.mjs"),e("./loader/index.mjs"),e("./resolver/index.mjs"),e("./utils/index.mjs");var n=e("./cache/Cache.mjs"),s=e("./cache/parsers/cacheTextureArray.mjs"),o=e("./detections/parsers/detectAvif.mjs"),a=e("./detections/parsers/detectWebp.mjs"),l=e("./detections/parsers/detectDefaults.mjs"),u=e("./loader/parsers/LoaderParser.mjs"),c=e("./loader/parsers/loadJson.mjs"),h=e("./loader/parsers/loadTxt.mjs"),d=e("./loader/parsers/loadWebFont.mjs"),p=e("./loader/parsers/textures/loadSVG.mjs"),f=e("./loader/parsers/textures/loadTextures.mjs"),m=e("./loader/parsers/textures/utils/createTexture.mjs"),g=e("./resolver/parsers/resolveTextureUrl.mjs"),y=e("./utils/checkDataUrl.mjs"),v=e("./utils/checkExtension.mjs"),x=e("./utils/convertToList.mjs"),_=e("./utils/copySearchParams.mjs"),b=e("./utils/createStringVariations.mjs"),S=e("./utils/isSingleItem.mjs")},{"./AssetExtension.mjs":"djSv","./Assets.mjs":"wU0p","./cache/index.mjs":"IBIe","./detections/index.mjs":"bV48","./loader/index.mjs":"VEja","./resolver/index.mjs":"rIgO","./utils/index.mjs":"LMBz","./cache/Cache.mjs":"y1M7","./cache/parsers/cacheTextureArray.mjs":"DmHr","./detections/parsers/detectAvif.mjs":"EjIu","./detections/parsers/detectWebp.mjs":"gfHy","./detections/parsers/detectDefaults.mjs":"f5KQ","./loader/parsers/LoaderParser.mjs":"ubo4","./loader/parsers/loadJson.mjs":"B1jI","./loader/parsers/loadTxt.mjs":"g7Ic","./loader/parsers/loadWebFont.mjs":"EnHX","./loader/parsers/textures/loadSVG.mjs":"mFmv","./loader/parsers/textures/loadTextures.mjs":"IXIo","./loader/parsers/textures/utils/createTexture.mjs":"S60z","./resolver/parsers/resolveTextureUrl.mjs":"LS3o","./utils/checkDataUrl.mjs":"GKBj","./utils/checkExtension.mjs":"kmUU","./utils/convertToList.mjs":"wwXi","./utils/copySearchParams.mjs":"BqAB","./utils/createStringVariations.mjs":"TS8Y","./utils/isSingleItem.mjs":"fzB4"}],WCvg:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL=i.INTERNAL_FORMATS=void 0;var r=(e=>(e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",e))(r||{});i.INTERNAL_FORMATS=r;const n={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};i.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL=n},{}],sZG1:[function(e,t,i){},{}],ZTQz:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.detectCompressedTextures=void 0;var r=e("@pixi/core");let n,s;function o(){s={s3tc:n.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:n.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:n.getExtension("WEBGL_compressed_texture_etc"),etc1:n.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:n.getExtension("WEBGL_compressed_texture_atc"),astc:n.getExtension("WEBGL_compressed_texture_astc")}}const a={extension:{type:r.ExtensionType.DetectionParser,priority:2},test:async()=>{const e=r.settings.ADAPTER.createCanvas().getContext("webgl");return!!e&&(n=e,!0)},add:async e=>{s||o();const t=[];for(const e in s){s[e]&&t.push(e)}return[...t,...e]},remove:async e=>(s||o(),e.filter((e=>!(e in s))))};i.detectCompressedTextures=a,r.extensions.add(a)},{"@pixi/core":"OszA"}],RZZ6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BlobResource=void 0;var r=e("@pixi/core");class n extends r.BufferResource{constructor(e,t={width:1,height:1,autoLoad:!0}){let i,n;"string"==typeof e?(i=e,n=new Uint8Array):(i=null,n=e),super(n,t),this.origin=i,this.buffer=n?new r.ViewableBuffer(n):null,this._load=null,this.loaded=!1,null!==this.origin&&!1!==t.autoLoad&&this.load(),null===this.origin&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load||(this._load=fetch(this.origin).then((e=>e.blob())).then((e=>e.arrayBuffer())).then((e=>(this.data=new Uint32Array(e),this.buffer=new r.ViewableBuffer(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)))),this._load}}i.BlobResource=n},{"@pixi/core":"OszA"}],lATU:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.CompressedTextureResource=void 0;var r=e("../const.mjs"),n=e("./BlobResource.mjs");class s extends n.BlobResource{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=s._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||s._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,i){const r=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let e=0,t=this.levels;e<t;e++){const{levelID:t,levelWidth:i,levelHeight:n,levelBuffer:s}=this._levelBuffers[e];r.compressedTexImage2D(r.TEXTURE_2D,t,this.format,i,n,0,s)}return!0}onBlobLoaded(){this._levelBuffers=s._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,t,i,n,s,o,a){const l=new Array(i);let u=e.byteOffset,c=o,h=a,d=c+n-1&~(n-1),p=h+s-1&~(s-1),f=d*p*r.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t];for(let o=0;o<i;o++)l[o]={levelID:o,levelWidth:i>1?c:d,levelHeight:i>1?h:p,levelBuffer:new Uint8Array(e.buffer,u,f)},u+=f,c=c>>1||1,h=h>>1||1,d=c+n-1&~(n-1),p=h+s-1&~(s-1),f=d*p*r.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t];return l}}i.CompressedTextureResource=s},{"../const.mjs":"WCvg","./BlobResource.mjs":"RZZ6"}],J5DC:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"BlobResource",{enumerable:!0,get:function(){return r.BlobResource}}),Object.defineProperty(i,"CompressedTextureResource",{enumerable:!0,get:function(){return n.CompressedTextureResource}});var r=e("./BlobResource.mjs"),n=e("./CompressedTextureResource.mjs")},{"./BlobResource.mjs":"RZZ6","./CompressedTextureResource.mjs":"lATU"}],sGl5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.parseDDS=function(e){const t=new Uint32Array(e);if(542327876!==t[0])throw new Error("Invalid DDS file magic word");const i=new Uint32Array(e,0,s/Uint32Array.BYTES_PER_ELEMENT),y=i[o],v=i[a],x=i[l],_=new Uint32Array(e,u*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),b=_[1];if(4&b){const i=_[c];if(808540228!==i){const t=m[i],r=new Uint8Array(e,128);return[new n.CompressedTextureResource(r,{format:t,width:v,height:y,levels:x})]}const s=128,o=new Uint32Array(t.buffer,s,20/Uint32Array.BYTES_PER_ELEMENT),a=o[h],l=o[d],u=o[p],b=o[f],S=g[a];if(void 0===S)throw new Error(`DDSParser cannot parse texture data with DXGI format ${a}`);if(4===u)throw new Error("DDSParser does not support cubemap textures");if(6===l)throw new Error("DDSParser does not supported 3D texture data");const T=new Array,w=148;if(1===b)T.push(new Uint8Array(e,w));else{const t=r.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[S];let i=0,n=v,s=y;for(let e=0;e<x;e++){const e=Math.max(1,n+3&-4),r=Math.max(1,s+3&-4);i+=e*r*t,n>>>=1,s>>>=1}let o=w;for(let t=0;t<b;t++)T.push(new Uint8Array(e,o,i)),o+=i}return T.map((e=>new n.CompressedTextureResource(e,{format:S,width:v,height:y,levels:x})))}if(64&b)throw new Error("DDSParser does not support uncompressed texture data.");if(512&b)throw new Error("DDSParser does not supported YUV uncompressed texture data.");if(131072&b)throw new Error("DDSParser does not support single-channel (lumninance) texture data!");if(2&b)throw new Error("DDSParser does not support single-channel (alpha) texture data!");throw new Error("DDSParser failed to load a texture file due to an unknown reason!")};var r=e("../const.mjs");e("../resources/index.mjs");var n=e("../resources/CompressedTextureResource.mjs");const s=124,o=3,a=4,l=7,u=19,c=2,h=0,d=1,p=2,f=3;const m={827611204:r.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,861165636:r.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,894720068:r.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT},g={70:r.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:r.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:r.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:r.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:r.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:r.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:r.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:r.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:r.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}},{"../const.mjs":"WCvg","../resources/index.mjs":"J5DC","../resources/CompressedTextureResource.mjs":"lATU"}],QRK9:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.TYPES_TO_BYTES_PER_PIXEL=i.TYPES_TO_BYTES_PER_COMPONENT=i.FORMATS_TO_COMPONENTS=void 0,i.parseKTX=function(e,t,i=!1){const S=new DataView(t);if(!function(e,t){for(let e=0;e<o.length;e++)if(t.getUint8(e)!==o[e])return!1;return!0}(0,S))return null;const T=67305985===S.getUint32(a,!0),w=S.getUint32(l,T),E=S.getUint32(u,T),P=S.getUint32(c,T),A=S.getUint32(h,T),M=S.getUint32(d,T)||1,O=S.getUint32(p,T)||1,C=S.getUint32(f,T)||1,j=S.getUint32(m,T),R=S.getUint32(g,T),I=S.getUint32(y,T);if(0===M||1!==O)throw new Error("Only 2D textures are supported");if(1!==j)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==C)throw new Error("WebGL does not support array textures");const B=A+3&-4,D=M+3&-4,k=new Array(C);let F,L=A*M;0===w&&(L=B*D);F=0!==w?v[w]?v[w]*x[E]:_[w]:n.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[P];if(void 0===F)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const N=i?function(e,t,i){const r=new Map;let n=0;for(;n<t;){const s=e.getUint32(64+n,i),o=64+n+4,a=3-(s+3)%4;if(0===s||s>t-n)break;let l=0;for(;l<s&&0!==e.getUint8(o+l);l++);if(-1===l)break;const u=(new TextDecoder).decode(new Uint8Array(e.buffer,o,l)),c=new DataView(e.buffer,o+l+1,s-l-1);r.set(u,c),n+=4+s+a}return r}(S,I,T):null;let U=L*F,G=A,H=M,V=B,W=D,z=64+I;for(let e=0;e<R;e++){const i=S.getUint32(z,T);let r=z+4;for(let i=0;i<C;i++){let n=k[i];n||(n=k[i]=new Array(R)),n[e]={levelID:e,levelWidth:R>1||0!==w?G:V,levelHeight:R>1||0!==w?H:W,levelBuffer:new Uint8Array(t,r,U)},r+=U}z+=i+4,z=z%4!=0?z+4-z%4:z,G=G>>1||1,H=H>>1||1,V=G+4-1&-4,W=H+4-1&-4,U=V*W*F}if(0!==w)return{uncompressed:k.map((e=>{let t=e[0].levelBuffer,i=!1;return w===r.TYPES.FLOAT?t=new Float32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4):w===r.TYPES.UNSIGNED_INT?(i=!0,t=new Uint32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)):w===r.TYPES.INT&&(i=!0,t=new Int32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)),{resource:new r.BufferResource(t,{width:e[0].levelWidth,height:e[0].levelHeight}),type:w,format:i?b(E):E}})),kvData:N};return{compressed:k.map((e=>new s.CompressedTextureResource(null,{format:P,width:A,height:M,levels:R,levelBuffers:e}))),kvData:N}};var r=e("@pixi/core"),n=e("../const.mjs");e("../resources/index.mjs");var s=e("../resources/CompressedTextureResource.mjs");const o=[171,75,84,88,32,49,49,187,13,10,26,10],a=12,l=16,u=24,c=28,h=36,d=40,p=44,f=48,m=52,g=56,y=60,v={[r.TYPES.UNSIGNED_BYTE]:1,[r.TYPES.UNSIGNED_SHORT]:2,[r.TYPES.INT]:4,[r.TYPES.UNSIGNED_INT]:4,[r.TYPES.FLOAT]:4,[r.TYPES.HALF_FLOAT]:8};i.TYPES_TO_BYTES_PER_COMPONENT=v;const x={[r.FORMATS.RGBA]:4,[r.FORMATS.RGB]:3,[r.FORMATS.RG]:2,[r.FORMATS.RED]:1,[r.FORMATS.LUMINANCE]:1,[r.FORMATS.LUMINANCE_ALPHA]:2,[r.FORMATS.ALPHA]:1};i.FORMATS_TO_COMPONENTS=x;const _={[r.TYPES.UNSIGNED_SHORT_4_4_4_4]:2,[r.TYPES.UNSIGNED_SHORT_5_5_5_1]:2,[r.TYPES.UNSIGNED_SHORT_5_6_5]:2};function b(e){switch(e){case r.FORMATS.RGBA:return r.FORMATS.RGBA_INTEGER;case r.FORMATS.RGB:return r.FORMATS.RGB_INTEGER;case r.FORMATS.RG:return r.FORMATS.RG_INTEGER;case r.FORMATS.RED:return r.FORMATS.RED_INTEGER;default:return e}}i.TYPES_TO_BYTES_PER_PIXEL=_},{"@pixi/core":"OszA","../const.mjs":"WCvg","../resources/index.mjs":"J5DC","../resources/CompressedTextureResource.mjs":"lATU"}],E0rN:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"FORMATS_TO_COMPONENTS",{enumerable:!0,get:function(){return n.FORMATS_TO_COMPONENTS}}),Object.defineProperty(i,"TYPES_TO_BYTES_PER_COMPONENT",{enumerable:!0,get:function(){return n.TYPES_TO_BYTES_PER_COMPONENT}}),Object.defineProperty(i,"TYPES_TO_BYTES_PER_PIXEL",{enumerable:!0,get:function(){return n.TYPES_TO_BYTES_PER_PIXEL}}),Object.defineProperty(i,"parseDDS",{enumerable:!0,get:function(){return r.parseDDS}}),Object.defineProperty(i,"parseKTX",{enumerable:!0,get:function(){return n.parseKTX}});var r=e("./parseDDS.mjs"),n=e("./parseKTX.mjs")},{"./parseDDS.mjs":"sGl5","./parseKTX.mjs":"QRK9"}],tgS4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.loadDDS=void 0;var r=e("@pixi/assets"),n=e("@pixi/core");e("../parsers/index.mjs");var s=e("../parsers/parseDDS.mjs");const o={extension:{type:n.ExtensionType.LoadParser,priority:r.LoaderParserPriority.High},name:"loadDDS",test:e=>(0,r.checkExtension)(e,".dds"),async load(e,t,i){const o=await n.settings.ADAPTER.fetch(e),a=await o.arrayBuffer(),l=(0,s.parseDDS)(a).map((s=>{const o=new n.BaseTexture(s,{mipmap:n.MIPMAP_MODES.OFF,alphaMode:n.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,resolution:n.utils.getResolutionOfUrl(e),...t.data});return(0,r.createTexture)(o,i,e)}));return 1===l.length?l[0]:l},unload(e){Array.isArray(e)?e.forEach((e=>e.destroy(!0))):e.destroy(!0)}};i.loadDDS=o,n.extensions.add(o)},{"@pixi/assets":"m1Kw","@pixi/core":"OszA","../parsers/index.mjs":"E0rN","../parsers/parseDDS.mjs":"sGl5"}],lHXf:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.loadKTX=void 0;var r=e("@pixi/assets"),n=e("@pixi/core");e("../parsers/index.mjs");var s=e("../parsers/parseKTX.mjs");const o={extension:{type:n.ExtensionType.LoadParser,priority:r.LoaderParserPriority.High},name:"loadKTX",test:e=>(0,r.checkExtension)(e,".ktx"),async load(e,t,i){const o=await n.settings.ADAPTER.fetch(e),a=await o.arrayBuffer(),{compressed:l,uncompressed:u,kvData:c}=(0,s.parseKTX)(e,a),h=l??u,d={mipmap:n.MIPMAP_MODES.OFF,alphaMode:n.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,resolution:n.utils.getResolutionOfUrl(e),...t.data},p=h.map((t=>{h===u&&Object.assign(d,{type:t.type,format:t.format});const s=new n.BaseTexture(t,d);return s.ktxKeyValueData=c,(0,r.createTexture)(s,i,e)}));return 1===p.length?p[0]:p},unload(e){Array.isArray(e)?e.forEach((e=>e.destroy(!0))):e.destroy(!0)}};i.loadKTX=o,n.extensions.add(o)},{"@pixi/assets":"m1Kw","@pixi/core":"OszA","../parsers/index.mjs":"E0rN","../parsers/parseKTX.mjs":"QRK9"}],BAkv:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.resolveCompressedTextureUrl=void 0;var r=e("@pixi/core");const n={extension:r.ExtensionType.ResolveParser,test:e=>{const t=e.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(t)},parse:e=>{if("ktx"===e.split("?")[0].split(".").pop()){const t=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(t.some((t=>e.endsWith(t))))return{resolution:parseFloat(r.settings.RETINA_PREFIX.exec(e)?.[1]??"1"),format:t.find((t=>e.endsWith(t))),src:e}}return{resolution:parseFloat(r.settings.RETINA_PREFIX.exec(e)?.[1]??"1"),format:e.split(".").pop(),src:e}}};i.resolveCompressedTextureUrl=n,r.extensions.add(n)},{"@pixi/core":"OszA"}],UvZC:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"detectCompressedTextures",{enumerable:!0,get:function(){return r.detectCompressedTextures}}),Object.defineProperty(i,"loadDDS",{enumerable:!0,get:function(){return n.loadDDS}}),Object.defineProperty(i,"loadKTX",{enumerable:!0,get:function(){return s.loadKTX}}),Object.defineProperty(i,"resolveCompressedTextureUrl",{enumerable:!0,get:function(){return o.resolveCompressedTextureUrl}}),e("./compressedTextureExtensions.mjs");var r=e("./detectCompressedTextures.mjs"),n=e("./loadDDS.mjs"),s=e("./loadKTX.mjs"),o=e("./resolveCompressedTextureUrl.mjs")},{"./compressedTextureExtensions.mjs":"sZG1","./detectCompressedTextures.mjs":"ZTQz","./loadDDS.mjs":"tgS4","./loadKTX.mjs":"lHXf","./resolveCompressedTextureUrl.mjs":"BAkv"}],OLES:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"BlobResource",{enumerable:!0,get:function(){return c.BlobResource}}),Object.defineProperty(i,"CompressedTextureResource",{enumerable:!0,get:function(){return h.CompressedTextureResource}}),Object.defineProperty(i,"FORMATS_TO_COMPONENTS",{enumerable:!0,get:function(){return u.FORMATS_TO_COMPONENTS}}),Object.defineProperty(i,"INTERNAL_FORMATS",{enumerable:!0,get:function(){return r.INTERNAL_FORMATS}}),Object.defineProperty(i,"INTERNAL_FORMAT_TO_BYTES_PER_PIXEL",{enumerable:!0,get:function(){return r.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL}}),Object.defineProperty(i,"TYPES_TO_BYTES_PER_COMPONENT",{enumerable:!0,get:function(){return u.TYPES_TO_BYTES_PER_COMPONENT}}),Object.defineProperty(i,"TYPES_TO_BYTES_PER_PIXEL",{enumerable:!0,get:function(){return u.TYPES_TO_BYTES_PER_PIXEL}}),Object.defineProperty(i,"detectCompressedTextures",{enumerable:!0,get:function(){return n.detectCompressedTextures}}),Object.defineProperty(i,"loadDDS",{enumerable:!0,get:function(){return s.loadDDS}}),Object.defineProperty(i,"loadKTX",{enumerable:!0,get:function(){return o.loadKTX}}),Object.defineProperty(i,"parseDDS",{enumerable:!0,get:function(){return l.parseDDS}}),Object.defineProperty(i,"parseKTX",{enumerable:!0,get:function(){return u.parseKTX}}),Object.defineProperty(i,"resolveCompressedTextureUrl",{enumerable:!0,get:function(){return a.resolveCompressedTextureUrl}});var r=e("./const.mjs");e("./loaders/index.mjs"),e("./parsers/index.mjs"),e("./resources/index.mjs");var n=e("./loaders/detectCompressedTextures.mjs"),s=e("./loaders/loadDDS.mjs"),o=e("./loaders/loadKTX.mjs"),a=e("./loaders/resolveCompressedTextureUrl.mjs"),l=e("./parsers/parseDDS.mjs"),u=e("./parsers/parseKTX.mjs"),c=e("./resources/BlobResource.mjs"),h=e("./resources/CompressedTextureResource.mjs")},{"./const.mjs":"WCvg","./loaders/index.mjs":"UvZC","./parsers/index.mjs":"E0rN","./resources/index.mjs":"J5DC","./loaders/detectCompressedTextures.mjs":"ZTQz","./loaders/loadDDS.mjs":"tgS4","./loaders/loadKTX.mjs":"lHXf","./loaders/resolveCompressedTextureUrl.mjs":"BAkv","./parsers/parseDDS.mjs":"sGl5","./parsers/parseKTX.mjs":"QRK9","./resources/BlobResource.mjs":"RZZ6","./resources/CompressedTextureResource.mjs":"lATU"}],xaeO:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Extract=void 0;var r=e("@pixi/core");const n=new r.Rectangle,s=class{constructor(e){this.renderer=e}async image(e,t,i){const r=new Image;return r.src=await this.base64(e,t,i),r}async base64(e,t,i){const r=this.canvas(e);if(void 0!==r.toBlob)return new Promise(((e,n)=>{r.toBlob((t=>{if(!t)return void n(new Error("ICanvas.toBlob failed!"));const i=new FileReader;i.onload=()=>e(i.result),i.onerror=n,i.readAsDataURL(t)}),t,i)}));if(void 0!==r.toDataURL)return r.toDataURL(t,i);if(void 0!==r.convertToBlob){const e=await r.convertToBlob({type:t,quality:i});return new Promise(((t,i)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=i,r.readAsDataURL(e)}))}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,t){const{pixels:i,width:n,height:o,flipY:a}=this._rawPixels(e,t);a&&s._flipY(i,n,o),s._unpremultiplyAlpha(i);const l=new r.utils.CanvasRenderTarget(n,o,1),u=new ImageData(new Uint8ClampedArray(i.buffer),n,o);return l.context.putImageData(u,0,0),l.canvas}pixels(e,t){const{pixels:i,width:r,height:n,flipY:o}=this._rawPixels(e,t);return o&&s._flipY(i,r,n),s._unpremultiplyAlpha(i),i}_rawPixels(e,t){const i=this.renderer;if(!i)throw new Error("The Extract has already been destroyed");let s,o,a=!1,l=!1;if(e&&(e instanceof r.RenderTexture?o=e:(o=i.generateTexture(e,{resolution:i.resolution,multisample:i.multisample}),l=!0)),o){if(s=o.baseTexture.resolution,t=t??o.frame,a=!1,!l){i.renderTexture.bind(o);const e=o.framebuffer.glFramebuffers[i.CONTEXT_UID];e.blitFramebuffer&&i.framebuffer.bind(e.blitFramebuffer)}}else s=i.resolution,t||((t=n).width=i.width/s,t.height=i.height/s),a=!0,i.renderTexture.bind();const u=Math.round(t.width*s),c=Math.round(t.height*s),h=new Uint8Array(4*u*c),d=i.gl;return d.readPixels(Math.round(t.x*s),Math.round(t.y*s),u,c,d.RGBA,d.UNSIGNED_BYTE,h),l&&o?.destroy(!0),{pixels:h,width:u,height:c,flipY:a}}destroy(){this.renderer=null}static _flipY(e,t,i){const r=t<<2,n=i>>1,s=new Uint8Array(r);for(let t=0;t<n;t++){const n=t*r,o=(i-t-1)*r;s.set(e.subarray(n,n+r)),e.copyWithin(n,o,o+r),e.set(s,o)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const t=e.length;for(let i=0;i<t;i+=4){const t=e[i+3];if(0!==t){const r=255.001/t;e[i]=e[i]*r+.5,e[i+1]=e[i+1]*r+.5,e[i+2]=e[i+2]*r+.5}}}};let o=s;i.Extract=o,o.extension={name:"extract",type:r.ExtensionType.RendererSystem},r.extensions.add(o)},{"@pixi/core":"OszA"}],C2jX:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"Extract",{enumerable:!0,get:function(){return r.Extract}});var r=e("./Extract.mjs")},{"./Extract.mjs":"xaeO"}],AwIy:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.buildCircle=void 0;var r=e("@pixi/core");const n={build(e){const t=e.points;let i,n,s,o,a,l;if(e.type===r.SHAPES.CIRC){const t=e.shape;i=t.x,n=t.y,a=l=t.radius,s=o=0}else if(e.type===r.SHAPES.ELIP){const t=e.shape;i=t.x,n=t.y,a=t.width,l=t.height,s=o=0}else{const t=e.shape,r=t.width/2,u=t.height/2;i=t.x+r,n=t.y+u,a=l=Math.max(0,Math.min(t.radius,Math.min(r,u))),s=r-a,o=u-l}if(!(a>=0&&l>=0&&s>=0&&o>=0))return void(t.length=0);const u=Math.ceil(2.3*Math.sqrt(a+l)),c=8*u+(s?4:0)+(o?4:0);if(t.length=c,0===c)return;if(0===u)return t.length=8,t[0]=t[6]=i+s,t[1]=t[3]=n+o,t[2]=t[4]=i-s,void(t[5]=t[7]=n-o);let h=0,d=4*u+(s?2:0)+2,p=d,f=c;{const e=s+a,r=o,l=i+e,u=i-e,c=n+r;if(t[h++]=l,t[h++]=c,t[--d]=c,t[--d]=u,o){const e=n-r;t[p++]=u,t[p++]=e,t[--f]=e,t[--f]=l}}for(let e=1;e<u;e++){const r=Math.PI/2*(e/u),c=s+Math.cos(r)*a,m=o+Math.sin(r)*l,g=i+c,y=i-c,v=n+m,x=n-m;t[h++]=g,t[h++]=v,t[--d]=v,t[--d]=y,t[p++]=y,t[p++]=x,t[--f]=x,t[--f]=g}{const e=o+l,r=i+s,a=i-s,u=n+e,c=n-e;t[h++]=r,t[h++]=u,t[--f]=c,t[--f]=r,s&&(t[h++]=a,t[h++]=u,t[--f]=c,t[--f]=a)}},triangulate(e,t){const i=e.points,n=t.points,s=t.indices;if(0===i.length)return;let o=n.length/2;const a=o;let l,u;if(e.type!==r.SHAPES.RREC){const t=e.shape;l=t.x,u=t.y}else{const t=e.shape;l=t.x+t.width/2,u=t.y+t.height/2}const c=e.matrix;n.push(e.matrix?c.a*l+c.c*u+c.tx:l,e.matrix?c.b*l+c.d*u+c.ty:u),o++,n.push(i[0],i[1]);for(let e=2;e<i.length;e+=2)n.push(i[e],i[e+1]),s.push(o++,a,o);s.push(a+1,a,o)}};i.buildCircle=n},{"@pixi/core":"OszA"}],n2kv:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.buildPoly=void 0;var r=e("@pixi/core");function n(e,t=!1){const i=e.length;if(i<6)return;let r=0;for(let t=0,n=e[i-2],s=e[i-1];t<i;t+=2){const i=e[t],o=e[t+1];r+=(i-n)*(o+s),n=i,s=o}if(!t&&r>0||t&&r<=0){const t=i/2;for(let r=t+t%2;r<i;r+=2){const t=i-r-2,n=i-r-1,s=r,o=r+1;[e[t],e[s]]=[e[s],e[t]],[e[n],e[o]]=[e[o],e[n]]}}}const s={build(e){e.points=e.shape.points.slice()},triangulate(e,t){let i=e.points;const s=e.holes,o=t.points,a=t.indices;if(i.length>=6){n(i,!1);const e=[];for(let t=0;t<s.length;t++){const r=s[t];n(r.points,!0),e.push(i.length/2),i=i.concat(r.points)}const t=r.utils.earcut(i,e,2);if(!t)return;const l=o.length/2;for(let e=0;e<t.length;e+=3)a.push(t[e]+l),a.push(t[e+1]+l),a.push(t[e+2]+l);for(let e=0;e<i.length;e++)o.push(i[e])}}};i.buildPoly=s},{"@pixi/core":"OszA"}],mTOB:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.buildRectangle=void 0;const r={build(e){const t=e.shape,i=t.x,r=t.y,n=t.width,s=t.height,o=e.points;o.length=0,n>=0&&s>=0&&o.push(i,r,i+n,r,i+n,r+s,i,r+s)},triangulate(e,t){const i=e.points,r=t.points;if(0===i.length)return;const n=r.length/2;r.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),t.indices.push(n,n+1,n+2,n+1,n+2,n+3)}};i.buildRectangle=r},{}],C5vc:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.buildRoundedRectangle=void 0;var r=e("./buildCircle.mjs");const n={build(e){r.buildCircle.build(e)},triangulate(e,t){r.buildCircle.triangulate(e,t)}};i.buildRoundedRectangle=n},{"./buildCircle.mjs":"AwIy"}],jR2B:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.curves=i.LINE_JOIN=i.LINE_CAP=i.GRAPHICS_CURVES=void 0;var r=(e=>(e.MITER="miter",e.BEVEL="bevel",e.ROUND="round",e))(r||{});i.LINE_JOIN=r;var n=(e=>(e.BUTT="butt",e.ROUND="round",e.SQUARE="square",e))(n||{});i.LINE_CAP=n;const s={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(e,t=20){if(!this.adaptive||!e||isNaN(e))return t;let i=Math.ceil(e/this.maxLength);return i<this.minSegments?i=this.minSegments:i>this.maxSegments&&(i=this.maxSegments),i}};i.curves=s;const o=s;i.GRAPHICS_CURVES=o},{}],hx9B:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ArcUtils=void 0;var r=e("@pixi/core"),n=e("../const.mjs");i.ArcUtils=class{static curveTo(e,t,i,r,n,s){const o=s[s.length-2],a=s[s.length-1]-t,l=o-e,u=r-t,c=i-e,h=Math.abs(a*c-l*u);if(h<1e-8||0===n)return s[s.length-2]===e&&s[s.length-1]===t||s.push(e,t),null;const d=a*a+l*l,p=u*u+c*c,f=a*u+l*c,m=n*Math.sqrt(d)/h,g=n*Math.sqrt(p)/h,y=m*f/d,v=g*f/p,x=m*c+g*l,_=m*u+g*a,b=l*(g+y),S=a*(g+y),T=c*(m+v),w=u*(m+v);return{cx:x+e,cy:_+t,radius:n,startAngle:Math.atan2(S-_,b-x),endAngle:Math.atan2(w-_,T-x),anticlockwise:l*u>c*a}}static arc(e,t,i,s,o,a,l,u,c){const h=l-a,d=n.curves._segmentsCount(Math.abs(h)*o,40*Math.ceil(Math.abs(h)/r.PI_2)),p=h/(2*d),f=2*p,m=Math.cos(p),g=Math.sin(p),y=d-1,v=y%1/y;for(let e=0;e<=y;++e){const t=p+a+f*(e+v*e),r=Math.cos(t),n=-Math.sin(t);c.push((m*r+g*n)*o+i,(m*-n+g*r)*o+s)}}}},{"@pixi/core":"OszA","../const.mjs":"jR2B"}],AWZf:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BatchPart=void 0;i.BatchPart=class{constructor(){this.reset()}begin(e,t,i){this.reset(),this.style=e,this.start=t,this.attribStart=i}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}},{}],mwWb:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BezierUtils=void 0;var r=e("../const.mjs");class n{static curveLength(e,t,i,r,n,s,o,a){let l=0,u=0,c=0,h=0,d=0,p=0,f=0,m=0,g=0,y=0,v=0,x=e,_=t;for(let b=1;b<=10;++b)u=b/10,c=u*u,h=c*u,d=1-u,p=d*d,f=p*d,m=f*e+3*p*u*i+3*d*c*n+h*o,g=f*t+3*p*u*r+3*d*c*s+h*a,y=x-m,v=_-g,x=m,_=g,l+=Math.sqrt(y*y+v*v);return l}static curveTo(e,t,i,s,o,a,l){const u=l[l.length-2],c=l[l.length-1];l.length-=2;const h=r.curves._segmentsCount(n.curveLength(u,c,e,t,i,s,o,a));let d=0,p=0,f=0,m=0,g=0;l.push(u,c);for(let r=1,n=0;r<=h;++r)n=r/h,d=1-n,p=d*d,f=p*d,m=n*n,g=m*n,l.push(f*u+3*p*n*e+3*d*m*i+g*o,f*c+3*p*n*t+3*d*m*s+g*a)}}i.BezierUtils=n},{"../const.mjs":"jR2B"}],jao9:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.buildLine=function(e,t){e.lineStyle.native?function(e,t){let i=0;const n=e.shape,s=e.points||n.points,o=n.type!==r.SHAPES.POLY||n.closeStroke;if(0===s.length)return;const a=t.points,l=t.indices,u=s.length/2,c=a.length/2;let h=c;for(a.push(s[0],s[1]),i=1;i<u;i++)a.push(s[2*i],s[2*i+1]),l.push(h,h+1),h++;o&&l.push(h,c)}(e,t):function(e,t){const i=e.shape;let a=e.points||i.points.slice();const l=t.closePointEps;if(0===a.length)return;const u=e.lineStyle,c=new r.Point(a[0],a[1]),h=new r.Point(a[a.length-2],a[a.length-1]),d=i.type!==r.SHAPES.POLY||i.closeStroke,p=Math.abs(c.x-h.x)<l&&Math.abs(c.y-h.y)<l;if(d){a=a.slice(),p&&(a.pop(),a.pop(),h.set(a[a.length-2],a[a.length-1]));const e=.5*(c.x+h.x),t=.5*(h.y+c.y);a.unshift(e,t),a.push(e,t)}const f=t.points,m=a.length/2;let g=a.length;const y=f.length/2,v=u.width/2,x=v*v,_=u.miterLimit*u.miterLimit;let b=a[0],S=a[1],T=a[2],w=a[3],E=0,P=0,A=-(S-w),M=b-T,O=0,C=0,j=Math.sqrt(A*A+M*M);A/=j,M/=j,A*=v,M*=v;const R=u.alignment,I=2*(1-R),B=2*R;d||(u.cap===n.LINE_CAP.ROUND?g+=o(b-A*(I-B)*.5,S-M*(I-B)*.5,b-A*I,S-M*I,b+A*B,S+M*B,f,!0)+2:u.cap===n.LINE_CAP.SQUARE&&(g+=s(b,S,A,M,I,B,!0,f)));f.push(b-A*I,S-M*I,b+A*B,S+M*B);for(let e=1;e<m-1;++e){b=a[2*(e-1)],S=a[2*(e-1)+1],T=a[2*e],w=a[2*e+1],E=a[2*(e+1)],P=a[2*(e+1)+1],A=-(S-w),M=b-T,j=Math.sqrt(A*A+M*M),A/=j,M/=j,A*=v,M*=v,O=-(w-P),C=T-E,j=Math.sqrt(O*O+C*C),O/=j,C/=j,O*=v,C*=v;const t=T-b,i=S-w,r=T-E,s=P-w,l=t*r+i*s,c=i*r-s*t,h=c<0;if(Math.abs(c)<.001*Math.abs(l)){f.push(T-A*I,w-M*I,T+A*B,w+M*B),l>=0&&(u.join===n.LINE_JOIN.ROUND?g+=o(T,w,T-A*I,w-M*I,T-O*I,w-C*I,f,!1)+4:g+=2,f.push(T-O*B,w-C*B,T+O*I,w+C*I));continue}const d=(-A+b)*(-M+w)-(-A+T)*(-M+S),p=(-O+E)*(-C+w)-(-O+T)*(-C+P),m=(t*p-r*d)/c,y=(s*d-i*p)/c,R=(m-T)*(m-T)+(y-w)*(y-w),D=T+(m-T)*I,k=w+(y-w)*I,F=T-(m-T)*B,L=w-(y-w)*B,N=h?I:B,U=R<=Math.min(t*t+i*i,r*r+s*s)+N*N*x;let G=u.join;if(G===n.LINE_JOIN.MITER&&R/x>_&&(G=n.LINE_JOIN.BEVEL),U)switch(G){case n.LINE_JOIN.MITER:f.push(D,k,F,L);break;case n.LINE_JOIN.BEVEL:h?f.push(D,k,T+A*B,w+M*B,D,k,T+O*B,w+C*B):f.push(T-A*I,w-M*I,F,L,T-O*I,w-C*I,F,L),g+=2;break;case n.LINE_JOIN.ROUND:h?(f.push(D,k,T+A*B,w+M*B),g+=o(T,w,T+A*B,w+M*B,T+O*B,w+C*B,f,!0)+4,f.push(D,k,T+O*B,w+C*B)):(f.push(T-A*I,w-M*I,F,L),g+=o(T,w,T-A*I,w-M*I,T-O*I,w-C*I,f,!1)+4,f.push(T-O*I,w-C*I,F,L));break}else{switch(f.push(T-A*I,w-M*I,T+A*B,w+M*B),G){case n.LINE_JOIN.MITER:h?f.push(F,L,F,L):f.push(D,k,D,k),g+=2;break;case n.LINE_JOIN.ROUND:g+=h?o(T,w,T+A*B,w+M*B,T+O*B,w+C*B,f,!0)+2:o(T,w,T-A*I,w-M*I,T-O*I,w-C*I,f,!1)+2;break}f.push(T-O*I,w-C*I,T+O*B,w+C*B),g+=2}}b=a[2*(m-2)],S=a[2*(m-2)+1],T=a[2*(m-1)],w=a[2*(m-1)+1],A=-(S-w),M=b-T,j=Math.sqrt(A*A+M*M),A/=j,M/=j,A*=v,M*=v,f.push(T-A*I,w-M*I,T+A*B,w+M*B),d||(u.cap===n.LINE_CAP.ROUND?g+=o(T-A*(I-B)*.5,w-M*(I-B)*.5,T-A*I,w-M*I,T+A*B,w+M*B,f,!1)+2:u.cap===n.LINE_CAP.SQUARE&&(g+=s(T,w,A,M,I,B,!1,f)));const D=t.indices,k=n.curves.epsilon*n.curves.epsilon;for(let e=y;e<g+y-2;++e)b=f[2*e],S=f[2*e+1],T=f[2*(e+1)],w=f[2*(e+1)+1],E=f[2*(e+2)],P=f[2*(e+2)+1],Math.abs(b*(w-P)+T*(P-S)+E*(S-w))<k||D.push(e,e+1,e+2)}(e,t)};var r=e("@pixi/core"),n=e("../const.mjs");function s(e,t,i,r,n,s,o,a){let l,u;o?(l=r,u=-i):(l=-r,u=i);const c=e-i*n+l,h=t-r*n+u,d=e+i*s+l,p=t+r*s+u;return a.push(c,h,d,p),2}function o(e,t,i,r,n,s,o,a){const l=i-e,u=r-t;let c=Math.atan2(l,u),h=Math.atan2(n-e,s-t);a&&c<h?c+=2*Math.PI:!a&&c>h&&(h+=2*Math.PI);let d=c;const p=h-c,f=Math.abs(p),m=Math.sqrt(l*l+u*u),g=1+(15*f*Math.sqrt(m)/Math.PI>>0),y=p/g;if(d+=y,a){o.push(e,t,i,r);for(let i=1,r=d;i<g;i++,r+=y)o.push(e,t,e+Math.sin(r)*m,t+Math.cos(r)*m);o.push(e,t,n,s)}else{o.push(i,r,e,t);for(let i=1,r=d;i<g;i++,r+=y)o.push(e+Math.sin(r)*m,t+Math.cos(r)*m,e,t);o.push(n,s,e,t)}return 2*g}},{"@pixi/core":"OszA","../const.mjs":"jR2B"}],yyiD:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.QuadraticUtils=void 0;var r=e("../const.mjs");class n{static curveLength(e,t,i,r,n,s){const o=e-2*i+n,a=t-2*r+s,l=2*i-2*e,u=2*r-2*t,c=4*(o*o+a*a),h=4*(o*l+a*u),d=l*l+u*u,p=2*Math.sqrt(c+h+d),f=Math.sqrt(c),m=2*c*f,g=2*Math.sqrt(d),y=h/f;return(m*p+f*h*(p-g)+(4*d*c-h*h)*Math.log((2*f+y+p)/(y+g)))/(4*m)}static curveTo(e,t,i,s,o){const a=o[o.length-2],l=o[o.length-1],u=r.curves._segmentsCount(n.curveLength(a,l,e,t,i,s));let c=0,h=0;for(let r=1;r<=u;++r){const n=r/u;c=a+(e-a)*n,h=l+(t-l)*n,o.push(c+(e+(i-e)*n-c)*n,h+(t+(s-t)*n-h)*n)}}}i.QuadraticUtils=n},{"../const.mjs":"jR2B"}],Nyrp:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"ArcUtils",{enumerable:!0,get:function(){return l.ArcUtils}}),i.BATCH_POOL=void 0,Object.defineProperty(i,"BatchPart",{enumerable:!0,get:function(){return u.BatchPart}}),Object.defineProperty(i,"BezierUtils",{enumerable:!0,get:function(){return c.BezierUtils}}),i.FILL_COMMANDS=i.DRAW_CALL_POOL=void 0,Object.defineProperty(i,"QuadraticUtils",{enumerable:!0,get:function(){return d.QuadraticUtils}}),Object.defineProperty(i,"buildCircle",{enumerable:!0,get:function(){return n.buildCircle}}),Object.defineProperty(i,"buildLine",{enumerable:!0,get:function(){return h.buildLine}}),Object.defineProperty(i,"buildPoly",{enumerable:!0,get:function(){return s.buildPoly}}),Object.defineProperty(i,"buildRectangle",{enumerable:!0,get:function(){return o.buildRectangle}}),Object.defineProperty(i,"buildRoundedRectangle",{enumerable:!0,get:function(){return a.buildRoundedRectangle}});var r=e("@pixi/core"),n=e("./buildCircle.mjs"),s=e("./buildPoly.mjs"),o=e("./buildRectangle.mjs"),a=e("./buildRoundedRectangle.mjs"),l=e("./ArcUtils.mjs"),u=e("./BatchPart.mjs"),c=e("./BezierUtils.mjs"),h=e("./buildLine.mjs"),d=e("./QuadraticUtils.mjs");const p={[r.SHAPES.POLY]:s.buildPoly,[r.SHAPES.CIRC]:n.buildCircle,[r.SHAPES.ELIP]:n.buildCircle,[r.SHAPES.RECT]:o.buildRectangle,[r.SHAPES.RREC]:a.buildRoundedRectangle};i.FILL_COMMANDS=p;i.BATCH_POOL=[];i.DRAW_CALL_POOL=[]},{"@pixi/core":"OszA","./buildCircle.mjs":"AwIy","./buildPoly.mjs":"n2kv","./buildRectangle.mjs":"mTOB","./buildRoundedRectangle.mjs":"C5vc","./ArcUtils.mjs":"hx9B","./BatchPart.mjs":"AWZf","./BezierUtils.mjs":"mwWb","./buildLine.mjs":"jao9","./QuadraticUtils.mjs":"yyiD"}],U210:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.GraphicsData=void 0;class r{constructor(e,t=null,i=null,r=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=i,this.fillStyle=t,this.matrix=r,this.type=e.type}clone(){return new r(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}i.GraphicsData=r},{}],HSg8:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.GraphicsGeometry=void 0;var r=e("@pixi/core"),n=e("@pixi/display"),s=e("./GraphicsData.mjs"),o=e("./utils/index.mjs"),a=e("./utils/BatchPart.mjs"),l=e("./utils/buildPoly.mjs"),u=e("./utils/buildLine.mjs");const c=new r.Point,h=class extends r.BatchGeometry{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new n.Bounds,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),o.DRAW_CALL_POOL.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t.reset(),o.BATCH_POOL.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,i=null,r=null){const n=new s.GraphicsData(e,t,i,r);return this.graphicsData.push(n),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;const i=new s.GraphicsData(e,null,null,t),r=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=r.lineStyle,r.holes.push(i),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const t=this.graphicsData;for(let i=0;i<t.length;++i){const r=t[i];if(r.fillStyle.visible&&(r.shape&&(r.matrix?r.matrix.applyInverse(e,c):c.copyFrom(e),r.shape.contains(c.x,c.y)))){let e=!1;if(r.holes)for(let t=0;t<r.holes.length;t++){if(r.holes[t].shape.contains(c.x,c.y)){e=!0;break}}if(!e)return!0}}return!1}updateBatches(){if(!this.graphicsData.length)return void(this.batchable=!0);if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,t=this.graphicsData;let i=null,n=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],n=i.style);for(let s=this.shapeIndex;s<t.length;s++){this.shapeIndex++;const l=t[s],u=l.fillStyle,c=l.lineStyle;o.FILL_COMMANDS[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(u.visible||c.visible)&&this.processHoles(l.holes);for(let t=0;t<2;t++){const s=0===t?u:c;if(!s.visible)continue;const h=s.texture.baseTexture,d=this.indices.length,p=this.points.length/2;h.wrapMode=r.WRAP_MODES.REPEAT,0===t?this.processFill(l):this.processLine(l);const f=this.points.length/2-p;0!==f&&(i&&!this._compareStyles(n,s)&&(i.end(d,p),i=null),i||(i=o.BATCH_POOL.pop()||new a.BatchPart,i.begin(s,d,p),this.batches.push(i),n=s),this.addUvs(this.points,e,s.texture,p,f,s.matrix))}}const s=this.indices.length,l=this.points.length/2;if(i&&i.end(s,l),0===this.batches.length)return void(this.batchable=!0);const u=l>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&u===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=u?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t)&&(e.texture.baseTexture===t.texture.baseTexture&&(e.color+e.alpha===t.color+t.alpha&&!!e.native==!!t.native))}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){const t=this.graphicsData[e],i=t.fillStyle,r=t.lineStyle;if(i&&!i.texture.baseTexture.valid)return!1;if(r&&!r.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let t=0,i=e.length;t<i;t++){const i=e[t];for(let e=0;e<i.size;e++){const t=i.start+e;this.indicesUint16[t]=this.indicesUint16[t]-i.attribStart}}}isBatchable(){if(this.points.length>131070)return!1;const e=this.batches;for(let t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<2*h.BATCHABLE_SIZE}buildDrawCalls(){let e=++r.BaseTexture._globalBatch;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),o.DRAW_CALL_POOL.push(this.drawCalls[e]);this.drawCalls.length=0;const t=this.colors,i=this.textureIds;let n=o.DRAW_CALL_POOL.pop();n||(n=new r.BatchDrawCall,n.texArray=new r.BatchTextureArray),n.texArray.count=0,n.start=0,n.size=0,n.type=r.DRAW_MODES.TRIANGLES;let s=0,a=null,l=0,u=!1,c=r.DRAW_MODES.TRIANGLES,h=0;this.drawCalls.push(n);for(let d=0;d<this.batches.length;d++){const p=this.batches[d],f=8,m=p.style,g=m.texture.baseTexture;u!==!!m.native&&(u=!!m.native,c=u?r.DRAW_MODES.LINES:r.DRAW_MODES.TRIANGLES,a=null,s=f,e++),a!==g&&(a=g,g._batchEnabled!==e&&(s===f&&(e++,s=0,n.size>0&&(n=o.DRAW_CALL_POOL.pop(),n||(n=new r.BatchDrawCall,n.texArray=new r.BatchTextureArray),this.drawCalls.push(n)),n.start=h,n.size=0,n.texArray.count=0,n.type=c),g.touched=1,g._batchEnabled=e,g._batchLocation=s,g.wrapMode=r.WRAP_MODES.REPEAT,n.texArray.elements[n.texArray.count++]=g,s++)),n.size+=p.size,h+=p.size,l=g._batchLocation,this.addColors(t,m.color,m.alpha,p.attribSize,p.attribStart),this.addTextureIds(i,l,p.attribSize,p.attribStart)}r.BaseTexture._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,t=this.uvs,i=this.colors,r=this.textureIds,n=new ArrayBuffer(3*e.length*4),s=new Float32Array(n),o=new Uint32Array(n);let a=0;for(let n=0;n<e.length/2;n++)s[a++]=e[2*n],s[a++]=e[2*n+1],s[a++]=t[2*n],s[a++]=t[2*n+1],o[a++]=i[n],s[a++]=r[n];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)}processFill(e){if(e.holes.length)l.buildPoly.triangulate(e,this);else{o.FILL_COMMANDS[e.type].triangulate(e,this)}}processLine(e){(0,u.buildLine)(e,this);for(let t=0;t<e.holes.length;t++)(0,u.buildLine)(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){const i=e[t];o.FILL_COMMANDS[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let i=0;i<e.length/2;i++){const r=e[2*i],n=e[2*i+1];e[2*i]=t.a*r+t.c*n+t.tx,e[2*i+1]=t.b*r+t.d*n+t.ty}}addColors(e,t,i,n,s=0){const o=r.Color.shared.setValue(t).toLittleEndianNumber(),a=r.Color.shared.setValue(o).toPremultiplied(i);e.length=Math.max(e.length,s+n);for(let t=0;t<n;t++)e[s+t]=a}addTextureIds(e,t,i,r=0){e.length=Math.max(e.length,r+i);for(let n=0;n<i;n++)e[r+n]=t}addUvs(e,t,i,r,n,s=null){let o=0;const a=t.length,l=i.frame;for(;o<n;){let i=e[2*(r+o)],n=e[2*(r+o)+1];if(s){const e=s.a*i+s.c*n+s.tx;n=s.b*i+s.d*n+s.ty,i=e}o++,t.push(i/l.width,n/l.height)}const u=i.baseTexture;(l.width<u.width||l.height<u.height)&&this.adjustUvs(t,i,a,n)}adjustUvs(e,t,i,r){const n=t.baseTexture,s=1e-6,o=i+2*r,a=t.frame,l=a.width/n.width,u=a.height/n.height;let c=a.x/a.width,h=a.y/a.height,d=Math.floor(e[i]+s),p=Math.floor(e[i+1]+s);for(let t=i+2;t<o;t+=2)d=Math.min(d,Math.floor(e[t]+s)),p=Math.min(p,Math.floor(e[t+1]+s));c-=d,h-=p;for(let t=i;t<o;t+=2)e[t]=(e[t]+c)*l,e[t+1]=(e[t+1]+h)*u}};let d=h;i.GraphicsGeometry=d,d.BATCHABLE_SIZE=100},{"@pixi/core":"OszA","@pixi/display":"a2dh","./GraphicsData.mjs":"U210","./utils/index.mjs":"Nyrp","./utils/BatchPart.mjs":"AWZf","./utils/buildPoly.mjs":"n2kv","./utils/buildLine.mjs":"jao9"}],aSbO:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.FillStyle=void 0;var r=e("@pixi/core");class n{constructor(){this.color=16777215,this.alpha=1,this.texture=r.Texture.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new n;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=r.Texture.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}i.FillStyle=n},{"@pixi/core":"OszA"}],DNTH:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.LineStyle=void 0;var r=e("../const.mjs"),n=e("./FillStyle.mjs");class s extends n.FillStyle{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=r.LINE_CAP.BUTT,this.join=r.LINE_JOIN.MITER,this.miterLimit=10}clone(){const e=new s;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}i.LineStyle=s},{"../const.mjs":"jR2B","./FillStyle.mjs":"aSbO"}],Y1LW:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Graphics=void 0;var r=e("@pixi/core"),n=e("@pixi/display"),s=e("./const.mjs"),o=e("./GraphicsGeometry.mjs"),a=e("./styles/FillStyle.mjs"),l=e("./styles/LineStyle.mjs");e("./utils/index.mjs");var u=e("./utils/QuadraticUtils.mjs"),c=e("./utils/BezierUtils.mjs"),h=e("./utils/ArcUtils.mjs");const d={},p=class extends n.Container{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new a.FillStyle,this._lineStyle=new l.LineStyle,this._matrix=null,this._holeMode=!1,this.state=r.State.for2d(),this._geometry=e||new o.GraphicsGeometry,this._geometry.refCount++,this._transformID=-1,this._tintColor=new r.Color(16777215),this.blendMode=r.BLEND_MODES.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new p(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,i,r=.5,n=!1){return"number"==typeof e&&(e={width:e,color:t,alpha:i,alignment:r,native:n}),this.lineTextureStyle(e)}lineTextureStyle(e){const t={width:0,texture:r.Texture.WHITE,color:e?.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:s.LINE_CAP.BUTT,join:s.LINE_JOIN.MITER,miterLimit:10};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const i=e.width>0&&e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:i},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new r.Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new r.Polygon,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);const i=this.currentPath.points,r=i[i.length-2],n=i[i.length-1];return r===e&&n===t||i.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,i,r){this._initCurve();const n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),u.QuadraticUtils.curveTo(e,t,i,r,n),this}bezierCurveTo(e,t,i,r,n,s){return this._initCurve(),c.BezierUtils.curveTo(e,t,i,r,n,s,this.currentPath.points),this}arcTo(e,t,i,r,n){this._initCurve(e,t);const s=this.currentPath.points,o=h.ArcUtils.curveTo(e,t,i,r,n,s);if(o){const{cx:e,cy:t,radius:i,startAngle:r,endAngle:n,anticlockwise:s}=o;this.arc(e,t,i,r,n,s)}return this}arc(e,t,i,n,s,o=!1){if(n===s)return this;!o&&s<=n?s+=r.PI_2:o&&n<=s&&(n+=r.PI_2);if(0===s-n)return this;const a=e+Math.cos(n)*i,l=t+Math.sin(n)*i,u=this._geometry.closePointEps;let c=this.currentPath?this.currentPath.points:null;if(c){const e=Math.abs(c[c.length-2]-a),t=Math.abs(c[c.length-1]-l);e<u&&t<u||c.push(a,l)}else this.moveTo(a,l),c=this.currentPath.points;return h.ArcUtils.arc(a,l,e,t,i,n,s,o,c),this}beginFill(e=0,t){return this.beginTextureFill({texture:r.Texture.WHITE,color:e,alpha:t})}normalizeColor(e){const t=r.Color.shared.setValue(e.color??0);e.color=t.toNumber(),e.alpha??(e.alpha=t.alpha)}beginTextureFill(e){const t={texture:r.Texture.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const i=e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:i},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,i,n){return this.drawShape(new r.Rectangle(e,t,i,n))}drawRoundedRect(e,t,i,n,s){return this.drawShape(new r.RoundedRectangle(e,t,i,n,s))}drawCircle(e,t,i){return this.drawShape(new r.Circle(e,t,i))}drawEllipse(e,t,i,n){return this.drawShape(new r.Ellipse(e,t,i,n))}drawPolygon(...e){let t,i=!0;const n=e[0];n.points?(i=n.closeStroke,t=n.points):t=Array.isArray(e[0])?e[0]:e;const s=new r.Polygon(t);return s.closeStroke=i,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return!(1!==e.length||e[0].shape.type!==r.SHAPES.RECT||e[0].matrix||e[0].holes.length||e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,t=this.blendMode,i=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(e.points);for(let n=0;n<i;n++){const i=e.batches[n],s=i.style.color,o=new Float32Array(this.vertexData.buffer,4*i.attribStart*2,2*i.attribSize),a=new Float32Array(e.uvsFloat32.buffer,4*i.attribStart*2,2*i.attribSize),l={vertexData:o,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*i.start,i.size),uvs:a,_batchRGB:r.Color.shared.setValue(s).toRgbArray(),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=l}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,i=this.batches.length;t<i;t++){const i=this.batches[t];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const t=this._resolveDirectShader(e),i=this._geometry,n=this.worldAlpha,s=t.uniforms,o=i.drawCalls;s.translationMatrix=this.transform.worldTransform,r.Color.shared.setValue(this._tintColor).premultiply(n).toArray(s.tint),e.shader.bind(t),e.geometry.bind(i,t),e.state.set(this.state);for(let t=0,r=o.length;t<r;t++)this._renderDrawCallDirect(e,i.drawCalls[t])}_renderDrawCallDirect(e,t){const{texArray:i,type:r,size:n,start:s}=t,o=i.count;for(let t=0;t<o;t++)e.texture.bind(i.elements[t],t);e.geometry.draw(r,n,s)}_resolveDirectShader(e){let t=this.shader;const i=this.pluginName;if(!t){if(!d[i]){const{maxTextures:t}=e.plugins[i],n=new Int32Array(t);for(let e=0;e<t;e++)n[e]=e;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new r.Matrix,default:r.UniformGroup.from({uSamplers:n},!0)},o=e.plugins[i]._shader.program;d[i]=new r.Shader(o,s)}t=d[i]}return t}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:t,minY:i,maxX:r,maxY:n}=e.bounds;this._bounds.addFrame(this.transform,t,i,r,n)}containsPoint(e){return this.worldTransform.applyInverse(e,p._TEMP_POINT),this._geometry.containsPoint(p._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t._tintRGB=r.Color.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const t=this.transform.worldTransform,i=t.a,r=t.b,n=t.c,s=t.d,o=t.tx,a=t.ty,l=this._geometry.points,u=this.vertexData;let c=0;for(let e=0;e<l.length;e+=2){const t=l[e],h=l[e+1];u[c++]=i*t+n*h+o,u[c++]=s*h+r*t+a}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};let f=p;i.Graphics=f,f.curves=s.curves,f._TEMP_POINT=new r.Point},{"@pixi/core":"OszA","@pixi/display":"a2dh","./const.mjs":"jR2B","./GraphicsGeometry.mjs":"HSg8","./styles/FillStyle.mjs":"aSbO","./styles/LineStyle.mjs":"DNTH","./utils/index.mjs":"Nyrp","./utils/QuadraticUtils.mjs":"yyiD","./utils/BezierUtils.mjs":"mwWb","./utils/ArcUtils.mjs":"hx9B"}],lowo:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"FillStyle",{enumerable:!0,get:function(){return l.FillStyle}}),Object.defineProperty(i,"GRAPHICS_CURVES",{enumerable:!0,get:function(){return n.GRAPHICS_CURVES}}),Object.defineProperty(i,"Graphics",{enumerable:!0,get:function(){return s.Graphics}}),Object.defineProperty(i,"GraphicsData",{enumerable:!0,get:function(){return o.GraphicsData}}),Object.defineProperty(i,"GraphicsGeometry",{enumerable:!0,get:function(){return a.GraphicsGeometry}}),Object.defineProperty(i,"LINE_CAP",{enumerable:!0,get:function(){return n.LINE_CAP}}),Object.defineProperty(i,"LINE_JOIN",{enumerable:!0,get:function(){return n.LINE_JOIN}}),Object.defineProperty(i,"LineStyle",{enumerable:!0,get:function(){return u.LineStyle}}),Object.defineProperty(i,"curves",{enumerable:!0,get:function(){return n.curves}}),i.graphicsUtils=void 0;var r=e("./utils/index.mjs"),n=e("./const.mjs"),s=e("./Graphics.mjs"),o=e("./GraphicsData.mjs"),a=e("./GraphicsGeometry.mjs"),l=e("./styles/FillStyle.mjs"),u=e("./styles/LineStyle.mjs"),c=e("./utils/buildPoly.mjs"),h=e("./utils/buildCircle.mjs"),d=e("./utils/buildRectangle.mjs"),p=e("./utils/buildRoundedRectangle.mjs"),f=e("./utils/buildLine.mjs"),m=e("./utils/ArcUtils.mjs"),g=e("./utils/BezierUtils.mjs"),y=e("./utils/QuadraticUtils.mjs"),v=e("./utils/BatchPart.mjs");const x={buildPoly:c.buildPoly,buildCircle:h.buildCircle,buildRectangle:d.buildRectangle,buildRoundedRectangle:p.buildRoundedRectangle,buildLine:f.buildLine,ArcUtils:m.ArcUtils,BezierUtils:g.BezierUtils,QuadraticUtils:y.QuadraticUtils,BatchPart:v.BatchPart,FILL_COMMANDS:r.FILL_COMMANDS,BATCH_POOL:r.BATCH_POOL,DRAW_CALL_POOL:r.DRAW_CALL_POOL};i.graphicsUtils=x},{"./utils/index.mjs":"Nyrp","./const.mjs":"jR2B","./Graphics.mjs":"Y1LW","./GraphicsData.mjs":"U210","./GraphicsGeometry.mjs":"HSg8","./styles/FillStyle.mjs":"aSbO","./styles/LineStyle.mjs":"DNTH","./utils/buildPoly.mjs":"n2kv","./utils/buildCircle.mjs":"AwIy","./utils/buildRectangle.mjs":"mTOB","./utils/buildRoundedRectangle.mjs":"C5vc","./utils/buildLine.mjs":"jao9","./utils/ArcUtils.mjs":"hx9B","./utils/BezierUtils.mjs":"mwWb","./utils/QuadraticUtils.mjs":"yyiD","./utils/BatchPart.mjs":"AWZf"}],iXL7:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.MeshBatchUvs=void 0;i.MeshBatchUvs=class{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const t=this.uvBuffer.data;this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}},{}],M31S:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Mesh=void 0;var r=e("@pixi/core"),n=e("@pixi/display"),s=e("./MeshBatchUvs.mjs");const o=new r.Point,a=new r.Polygon,l=class extends n.Container{constructor(e,t,i,n=r.DRAW_MODES.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=i||r.State.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=r.settings.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===r.DRAW_MODES.TRIANGLES&&t.length<2*l.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const t=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;const r=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[r]),e.plugins[r].render(this)}calculateVertices(){const e=this.geometry.buffers[0],t=e.data,i=e._updateID;if(i===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));const n=this.transform.worldTransform,s=n.a,o=n.b,a=n.c,l=n.d,u=n.tx,c=n.ty,h=this.vertexData;for(let e=0;e<h.length/2;e++){const i=t[2*e],r=t[2*e+1];h[2*e]=s*i+a*r+u,h[2*e+1]=o*i+l*r+c}if(this._roundPixels){const e=r.settings.RESOLUTION;for(let t=0;t<h.length;++t)h[t]=Math.round(h[t]*e)/e}this.vertexDirty=i}calculateUvs(){const e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new s.MeshBatchUvs(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,o);const t=this.geometry.getBuffer("aVertexPosition").data,i=a.points,r=this.geometry.getIndex().data,n=r.length,s=4===this.drawMode?3:1;for(let e=0;e+2<n;e+=s){const n=2*r[e],s=2*r[e+1],l=2*r[e+2];if(i[0]=t[n],i[1]=t[n+1],i[2]=t[s],i[3]=t[s+1],i[4]=t[l],i[5]=t[l+1],a.contains(o.x,o.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let u=l;i.Mesh=u,u.BATCHABLE_SIZE=100},{"@pixi/core":"OszA","@pixi/display":"a2dh","./MeshBatchUvs.mjs":"iXL7"}],Pwpg:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.MeshGeometry=void 0;var r=e("@pixi/core");class n extends r.Geometry{constructor(e,t,i){super();const n=new r.Buffer(e),s=new r.Buffer(t,!0),o=new r.Buffer(i,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,r.TYPES.FLOAT).addAttribute("aTextureCoord",s,2,!1,r.TYPES.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}i.MeshGeometry=n},{"@pixi/core":"OszA"}],lbq0:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"},{}],isxZ:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n"},{}],jn6q:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.MeshMaterial=void 0;var r=e("@pixi/core"),n=o(e("./shader/mesh.mjs")),s=o(e("./shader/mesh2.mjs"));function o(e){return e&&e.__esModule?e:{default:e}}class a extends r.Shader{constructor(e,t){const i={uSampler:e,alpha:1,uTextureMatrix:r.Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};(t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t)).uniforms&&Object.assign(i,t.uniforms),super(t.program||r.Program.from(s.default,n.default),i),this._colorDirty=!1,this.uvMatrix=new r.TextureMatrix(e),this.batchable=void 0===t.program,this.pluginName=t.pluginName,this._tintColor=new r.Color(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;r.Color.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}i.MeshMaterial=a},{"@pixi/core":"OszA","./shader/mesh.mjs":"lbq0","./shader/mesh2.mjs":"isxZ"}],yp2D:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"Mesh",{enumerable:!0,get:function(){return r.Mesh}}),Object.defineProperty(i,"MeshBatchUvs",{enumerable:!0,get:function(){return n.MeshBatchUvs}}),Object.defineProperty(i,"MeshGeometry",{enumerable:!0,get:function(){return s.MeshGeometry}}),Object.defineProperty(i,"MeshMaterial",{enumerable:!0,get:function(){return o.MeshMaterial}});var r=e("./Mesh.mjs"),n=e("./MeshBatchUvs.mjs"),s=e("./MeshGeometry.mjs"),o=e("./MeshMaterial.mjs")},{"./Mesh.mjs":"M31S","./MeshBatchUvs.mjs":"iXL7","./MeshGeometry.mjs":"Pwpg","./MeshMaterial.mjs":"jn6q"}],G9OD:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.PlaneGeometry=void 0;var r=e("@pixi/mesh");class n extends r.MeshGeometry{constructor(e=100,t=100,i=10,r=10){super(),this.segWidth=i,this.segHeight=r,this.width=e,this.height=t,this.build()}build(){const e=this.segWidth*this.segHeight,t=[],i=[],r=[],n=this.segWidth-1,s=this.segHeight-1,o=this.width/n,a=this.height/s;for(let r=0;r<e;r++){const e=r%this.segWidth,l=r/this.segWidth|0;t.push(e*o,l*a),i.push(e/n,l/s)}const l=n*s;for(let e=0;e<l;e++){const t=e%n,i=e/n|0,s=i*this.segWidth+t,o=i*this.segWidth+t+1,a=(i+1)*this.segWidth+t,l=(i+1)*this.segWidth+t+1;r.push(s,o,a,o,l,a)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}i.PlaneGeometry=n},{"@pixi/mesh":"yp2D"}],aFt5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.RopeGeometry=void 0;var r=e("@pixi/mesh");class n extends r.MeshGeometry{constructor(e=200,t,i=0){super(new Float32Array(4*t.length),new Float32Array(4*t.length),new Uint16Array(6*(t.length-1))),this.points=t,this._width=e,this.textureScale=i,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const t=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),r=this.getIndex();if(e.length<1)return;t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),i.data=new Float32Array(4*e.length),r.data=new Uint16Array(6*(e.length-1)));const n=i.data,s=r.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;let o=0,a=e[0];const l=this._width*this.textureScale,u=e.length;for(let t=0;t<u;t++){const i=4*t;if(this.textureScale>0){const i=a.x-e[t].x,r=a.y-e[t].y,n=Math.sqrt(i*i+r*r);a=e[t],o+=n/l}else o=t/(u-1);n[i]=o,n[i+1]=0,n[i+2]=o,n[i+3]=1}let c=0;for(let e=0;e<u-1;e++){const t=2*e;s[c++]=t,s[c++]=t+1,s[c++]=t+2,s[c++]=t+2,s[c++]=t+1,s[c++]=t+3}i.update(),r.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let t,i=e[0],r=0,n=0;const s=this.buffers[0].data,o=e.length,a=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let l=0;l<o;l++){const u=e[l],c=4*l;t=l<e.length-1?e[l+1]:u,n=-(t.x-i.x),r=t.y-i.y;let h=10*(1-l/(o-1));h>1&&(h=1);const d=Math.sqrt(r*r+n*n);d<1e-6?(r=0,n=0):(r/=d,n/=d,r*=a,n*=a),s[c]=u.x+r,s[c+1]=u.y+n,s[c+2]=u.x-r,s[c+3]=u.y-n,i=u}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}i.RopeGeometry=n},{"@pixi/mesh":"yp2D"}],ef3j:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.SimplePlane=void 0;var r=e("@pixi/core"),n=e("@pixi/mesh"),s=e("./geometry/PlaneGeometry.mjs");class o extends n.Mesh{constructor(e,t,i){super(new s.PlaneGeometry(e.width,e.height,t,i),new n.MeshMaterial(r.Texture.WHITE)),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:t,height:i}=this.shader.texture;!this.autoResize||e.width===t&&e.height===i||(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}i.SimplePlane=o},{"@pixi/core":"OszA","@pixi/mesh":"yp2D","./geometry/PlaneGeometry.mjs":"G9OD"}],l0VB:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.NineSlicePlane=void 0;var r=e("@pixi/core"),n=e("./SimplePlane.mjs");class s extends n.SimplePlane{constructor(e,t,i,n,s){super(r.Texture.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=t??e.defaultBorders?.left??10,this._rightWidth=n??e.defaultBorders?.right??10,this._topHeight=i??e.defaultBorders?.top??10,this._bottomHeight=s??e.defaultBorders?.bottom??10,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,i=this._topHeight+this._bottomHeight,r=this._height>i?1:this._height/i;return Math.min(t,r)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const i=1/this._origWidth,r=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=i*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-i*this._rightWidth,t[9]=t[11]=t[13]=t[15]=r*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}i.NineSlicePlane=s},{"@pixi/core":"OszA","./SimplePlane.mjs":"ef3j"}],tfyq:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.SimpleMesh=void 0;var r=e("@pixi/core"),n=e("@pixi/mesh");class s extends n.Mesh{constructor(e=r.Texture.EMPTY,t,i,s,o){const a=new n.MeshGeometry(t,i,s);a.getBuffer("aVertexPosition").static=!1;super(a,new n.MeshMaterial(e),null,o),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}i.SimpleMesh=s},{"@pixi/core":"OszA","@pixi/mesh":"yp2D"}],j9JH:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.SimpleRope=void 0;var r=e("@pixi/core"),n=e("@pixi/mesh"),s=e("./geometry/RopeGeometry.mjs");class o extends n.Mesh{constructor(e,t,i=0){const o=new s.RopeGeometry(e.height,t,i),a=new n.MeshMaterial(e);i>0&&(e.baseTexture.wrapMode=r.WRAP_MODES.REPEAT),super(o,a),this.autoUpdate=!0}_render(e){const t=this.geometry;(this.autoUpdate||t._width!==this.shader.texture.height)&&(t._width=this.shader.texture.height,t.update()),super._render(e)}}i.SimpleRope=o},{"@pixi/core":"OszA","@pixi/mesh":"yp2D","./geometry/RopeGeometry.mjs":"aFt5"}],EncL:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"NineSlicePlane",{enumerable:!0,get:function(){return s.NineSlicePlane}}),Object.defineProperty(i,"PlaneGeometry",{enumerable:!0,get:function(){return r.PlaneGeometry}}),Object.defineProperty(i,"RopeGeometry",{enumerable:!0,get:function(){return n.RopeGeometry}}),Object.defineProperty(i,"SimpleMesh",{enumerable:!0,get:function(){return o.SimpleMesh}}),Object.defineProperty(i,"SimplePlane",{enumerable:!0,get:function(){return a.SimplePlane}}),Object.defineProperty(i,"SimpleRope",{enumerable:!0,get:function(){return l.SimpleRope}});var r=e("./geometry/PlaneGeometry.mjs"),n=e("./geometry/RopeGeometry.mjs"),s=e("./NineSlicePlane.mjs"),o=e("./SimpleMesh.mjs"),a=e("./SimplePlane.mjs"),l=e("./SimpleRope.mjs")},{"./geometry/PlaneGeometry.mjs":"G9OD","./geometry/RopeGeometry.mjs":"aFt5","./NineSlicePlane.mjs":"l0VB","./SimpleMesh.mjs":"tfyq","./SimplePlane.mjs":"ef3j","./SimpleRope.mjs":"j9JH"}],Z7Xd:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ParticleContainer=void 0;var r=e("@pixi/core"),n=e("@pixi/display");class s extends n.Container{constructor(e=1500,t,i=16384,n=!1){super();i>16384&&(i=16384),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=i,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=r.BLEND_MODES.NORMAL,this.autoResize=n,this.roundPixels=!0,this.baseTexture=null,this.setProperties(t),this._tintColor=new r.Color(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(()=>this.onChildrenChange(0)))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const t=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}i.ParticleContainer=s},{"@pixi/core":"OszA","@pixi/display":"a2dh"}],cnt6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ParticleBuffer=void 0;var r=e("@pixi/core");i.ParticleBuffer=class{constructor(e,t,i){this.geometry=new r.Geometry,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let n=e[i];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||r.TYPES.FLOAT,offset:n.offset},t[i]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let t=0;this.indexBuffer=new r.Buffer(r.utils.createIndicesForQuads(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let e=0;e<this.dynamicProperties.length;++e){const i=this.dynamicProperties[e];i.offset=t,t+=i.size,this.dynamicStride+=i.size}const i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new r.Buffer(this.dynamicData,!1,!1);let n=0;this.staticStride=0;for(let e=0;e<this.staticProperties.length;++e){const t=this.staticProperties[e];t.offset=n,n+=t.size,this.staticStride+=t.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new r.Buffer(this.staticData,!0,!1);for(let t=0;t<this.dynamicProperties.length;++t){const i=this.dynamicProperties[t];e.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===r.TYPES.UNSIGNED_BYTE,i.type,4*this.dynamicStride,4*i.offset)}for(let t=0;t<this.staticProperties.length;++t){const i=this.staticProperties[t];e.addAttribute(i.attributeName,this.staticBuffer,0,i.type===r.TYPES.UNSIGNED_BYTE,i.type,4*this.staticStride,4*i.offset)}}uploadDynamic(e,t,i){for(let n=0;n<this.dynamicProperties.length;n++){const s=this.dynamicProperties[n];s.uploadFunction(e,t,i,s.type===r.TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,i){for(let n=0;n<this.staticProperties.length;n++){const s=this.staticProperties[n];s.uploadFunction(e,t,i,s.type===r.TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}},{"@pixi/core":"OszA"}],M2T6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}"},{}],KV0o:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n"},{}],Kgpt:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ParticleRenderer=void 0;var r=e("@pixi/core"),n=e("./ParticleBuffer.mjs"),s=a(e("./particles.mjs")),o=a(e("./particles2.mjs"));function a(e){return e&&e.__esModule?e:{default:e}}class l extends r.ObjectRenderer{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new r.Matrix,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:r.TYPES.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=r.Shader.from(o.default,s.default,{}),this.state=r.State.for2d()}render(e){const t=e.children,i=e._maxSize,n=e._batchSize,s=this.renderer;let o=t.length;if(0===o)return;o>i&&!e.autoResize&&(o=i);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=t[0]._texture.baseTexture,u=l.alphaMode>0;this.state.blendMode=r.utils.correctBlendMode(e.blendMode,u),s.state.set(this.state);const c=s.gl,h=e.worldTransform.copyTo(this.tempMatrix);h.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=r.Color.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,u).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let d=!1;for(let i=0,r=0;i<o;i+=n,r+=1){let l=o-i;l>n&&(l=n),r>=a.length&&a.push(this._generateOneMoreBuffer(e));const u=a[r];u.uploadDynamic(t,i,l);const h=e._bufferUpdateIDs[r]||0;d=d||u._updateID<h,d&&(u._updateID=e._updateID,u.uploadStatic(t,i,l)),s.geometry.bind(u.geometry),c.drawElements(c.TRIANGLES,6*l,c.UNSIGNED_SHORT,0)}}generateBuffers(e){const t=[],i=e._maxSize,r=e._batchSize,s=e._properties;for(let e=0;e<i;e+=r)t.push(new n.ParticleBuffer(this.properties,s,r));return t}_generateOneMoreBuffer(e){const t=e._batchSize,i=e._properties;return new n.ParticleBuffer(this.properties,i,t)}uploadVertices(e,t,i,r,n,s){let o=0,a=0,l=0,u=0;for(let c=0;c<i;++c){const i=e[t+c],h=i._texture,d=i.scale.x,p=i.scale.y,f=h.trim,m=h.orig;f?(a=f.x-i.anchor.x*m.width,o=a+f.width,u=f.y-i.anchor.y*m.height,l=u+f.height):(o=m.width*(1-i.anchor.x),a=m.width*-i.anchor.x,l=m.height*(1-i.anchor.y),u=m.height*-i.anchor.y),r[s]=a*d,r[s+1]=u*p,r[s+n]=o*d,r[s+n+1]=u*p,r[s+2*n]=o*d,r[s+2*n+1]=l*p,r[s+3*n]=a*d,r[s+3*n+1]=l*p,s+=4*n}}uploadPosition(e,t,i,r,n,s){for(let o=0;o<i;o++){const i=e[t+o].position;r[s]=i.x,r[s+1]=i.y,r[s+n]=i.x,r[s+n+1]=i.y,r[s+2*n]=i.x,r[s+2*n+1]=i.y,r[s+3*n]=i.x,r[s+3*n+1]=i.y,s+=4*n}}uploadRotation(e,t,i,r,n,s){for(let o=0;o<i;o++){const i=e[t+o].rotation;r[s]=i,r[s+n]=i,r[s+2*n]=i,r[s+3*n]=i,s+=4*n}}uploadUvs(e,t,i,r,n,s){for(let o=0;o<i;++o){const i=e[t+o]._texture._uvs;i?(r[s]=i.x0,r[s+1]=i.y0,r[s+n]=i.x1,r[s+n+1]=i.y1,r[s+2*n]=i.x2,r[s+2*n+1]=i.y2,r[s+3*n]=i.x3,r[s+3*n+1]=i.y3,s+=4*n):(r[s]=0,r[s+1]=0,r[s+n]=0,r[s+n+1]=0,r[s+2*n]=0,r[s+2*n+1]=0,r[s+3*n]=0,r[s+3*n+1]=0,s+=4*n)}}uploadTint(e,t,i,n,s,o){for(let a=0;a<i;++a){const i=e[t+a],l=r.Color.shared.setValue(i._tintRGB).toPremultiplied(i.alpha,i.texture.baseTexture.alphaMode>0);n[o]=l,n[o+s]=l,n[o+2*s]=l,n[o+3*s]=l,o+=4*s}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}i.ParticleRenderer=l,l.extension={name:"particle",type:r.ExtensionType.RendererPlugin},r.extensions.add(l)},{"@pixi/core":"OszA","./ParticleBuffer.mjs":"cnt6","./particles.mjs":"M2T6","./particles2.mjs":"KV0o"}],fVDf:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"ParticleContainer",{enumerable:!0,get:function(){return r.ParticleContainer}}),Object.defineProperty(i,"ParticleRenderer",{enumerable:!0,get:function(){return n.ParticleRenderer}});var r=e("./ParticleContainer.mjs"),n=e("./ParticleRenderer.mjs")},{"./ParticleContainer.mjs":"Z7Xd","./ParticleRenderer.mjs":"Kgpt"}],ftUh:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.TEXT_GRADIENT=void 0;var r=(e=>(e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",e))(r||{});i.TEXT_GRADIENT=r},{}],XPXM:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.TextMetrics=void 0;var r=e("@pixi/core");const n={willReadFrequently:!0},s=class{static get experimentalLetterSpacingSupported(){let e=s._experimentalLetterSpacingSupported;if(void 0!==e){const t=r.settings.ADAPTER.getCanvasRenderingContext2D().prototype;e=s._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t}return e}constructor(e,t,i,r,n,s,o,a,l){this.text=e,this.style=t,this.width=i,this.height=r,this.lines=n,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}static measureText(e,t,i,r=s._canvas){i=null==i?t.wordWrap:i;const o=t.toFontString(),a=s.measureFont(o);0===a.fontSize&&(a.fontSize=t.fontSize,a.ascent=t.fontSize);const l=r.getContext("2d",n);l.font=o;const u=(i?s.wordWrap(e,t,r):e).split(/(?:\r\n|\r|\n)/),c=new Array(u.length);let h=0;for(let e=0;e<u.length;e++){const i=s._measureText(u[e],t.letterSpacing,l);c[e]=i,h=Math.max(h,i)}let d=h+t.strokeThickness;t.dropShadow&&(d+=t.dropShadowDistance);const p=t.lineHeight||a.fontSize+t.strokeThickness;let f=Math.max(p,a.fontSize+2*t.strokeThickness)+(u.length-1)*(p+t.leading);return t.dropShadow&&(f+=t.dropShadowDistance),new s(e,t,d,f,u,c,p+t.leading,h,a)}static _measureText(e,t,i){let r=!1;s.experimentalLetterSpacingSupported&&(s.experimentalLetterSpacing?(i.letterSpacing=`${t}px`,i.textLetterSpacing=`${t}px`,r=!0):(i.letterSpacing="0px",i.textLetterSpacing="0px"));let n=i.measureText(e).width;return n>0&&(r?n-=t:n+=(s.graphemeSegmenter(e).length-1)*t),n}static wordWrap(e,t,i=s._canvas){const r=i.getContext("2d",n);let o=0,a="",l="";const u=Object.create(null),{letterSpacing:c,whiteSpace:h}=t,d=s.collapseSpaces(h),p=s.collapseNewlines(h);let f=!d;const m=t.wordWrapWidth+c,g=s.tokenize(e);for(let e=0;e<g.length;e++){let i=g[e];if(s.isNewline(i)){if(!p){l+=s.addLine(a),f=!d,a="",o=0;continue}i=" "}if(d){const e=s.isBreakingSpace(i),t=s.isBreakingSpace(a[a.length-1]);if(e&&t)continue}const n=s.getFromCache(i,c,u,r);if(n>m)if(""!==a&&(l+=s.addLine(a),a="",o=0),s.canBreakWords(i,t.breakWords)){const e=s.wordWrapSplit(i);for(let n=0;n<e.length;n++){let h=e[n],d=h,p=1;for(;e[n+p];){const r=e[n+p];if(s.canBreakChars(d,r,i,n,t.breakWords))break;h+=r,d=r,p++}n+=p-1;const g=s.getFromCache(h,c,u,r);g+o>m&&(l+=s.addLine(a),f=!1,a="",o=0),a+=h,o+=g}}else{a.length>0&&(l+=s.addLine(a),a="",o=0);const t=e===g.length-1;l+=s.addLine(i,!t),f=!1,a="",o=0}else n+o>m&&(f=!1,l+=s.addLine(a),a="",o=0),(a.length>0||!s.isBreakingSpace(i)||f)&&(a+=i,o+=n)}return l+=s.addLine(a,!1),l}static addLine(e,t=!0){return e=s.trimRight(e),e=t?`${e}\n`:e}static getFromCache(e,t,i,r){let n=i[e];return"number"!=typeof n&&(n=s._measureText(e,t,r)+t,i[e]=n),n}static collapseSpaces(e){return"normal"===e||"pre-line"===e}static collapseNewlines(e){return"normal"===e}static trimRight(e){if("string"!=typeof e)return"";for(let t=e.length-1;t>=0;t--){const i=e[t];if(!s.isBreakingSpace(i))break;e=e.slice(0,-1)}return e}static isNewline(e){return"string"==typeof e&&s._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return"string"==typeof e&&s._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const t=[];let i="";if("string"!=typeof e)return t;for(let r=0;r<e.length;r++){const n=e[r],o=e[r+1];s.isBreakingSpace(n,o)||s.isNewline(n)?(""!==i&&(t.push(i),i=""),t.push(n)):i+=n}return""!==i&&t.push(i),t}static canBreakWords(e,t){return t}static canBreakChars(e,t,i,r,n){return!0}static wordWrapSplit(e){return s.graphemeSegmenter(e)}static measureFont(e){if(s._fonts[e])return s._fonts[e];const t={ascent:0,descent:0,fontSize:0},i=s._canvas,r=s._context;r.font=e;const n=s.METRICS_STRING+s.BASELINE_SYMBOL,o=Math.ceil(r.measureText(n).width);let a=Math.ceil(r.measureText(s.BASELINE_SYMBOL).width);const l=Math.ceil(s.HEIGHT_MULTIPLIER*a);if(a=a*s.BASELINE_MULTIPLIER|0,0===o||0===l)return s._fonts[e]=t,t;i.width=o,i.height=l,r.fillStyle="#f00",r.fillRect(0,0,o,l),r.font=e,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(n,0,a);const u=r.getImageData(0,0,o,l).data,c=u.length,h=4*o;let d=0,p=0,f=!1;for(d=0;d<a;++d){for(let e=0;e<h;e+=4)if(255!==u[p+e]){f=!0;break}if(f)break;p+=h}for(t.ascent=a-d,p=c-h,f=!1,d=l;d>a;--d){for(let e=0;e<h;e+=4)if(255!==u[p+e]){f=!0;break}if(f)break;p-=h}return t.descent=d-a,t.fontSize=t.ascent+t.descent,s._fonts[e]=t,t}static clearMetrics(e=""){e?delete s._fonts[e]:s._fonts={}}static get _canvas(){if(!s.__canvas){let e;try{const t=new OffscreenCanvas(0,0);if(t.getContext("2d",n)?.measureText)return s.__canvas=t,t;e=r.settings.ADAPTER.createCanvas()}catch(t){e=r.settings.ADAPTER.createCanvas()}e.width=e.height=10,s.__canvas=e}return s.__canvas}static get _context(){return s.__context||(s.__context=s._canvas.getContext("2d",n)),s.__context}};let o=s;i.TextMetrics=o,o.METRICS_STRING="|ÉqÅ",o.BASELINE_SYMBOL="M",o.BASELINE_MULTIPLIER=1.4,o.HEIGHT_MULTIPLIER=2,o.graphemeSegmenter=(()=>{if("function"==typeof Intl?.Segmenter){const e=new Intl.Segmenter;return t=>[...e.segment(t)].map((e=>e.segment))}return e=>[...e]})(),o.experimentalLetterSpacing=!1,o._fonts={},o._newlines=[10,13],o._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},{"@pixi/core":"OszA"}],PSja:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.TextStyle=void 0;var r=e("./const.mjs"),n=e("@pixi/core");const s=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],o=class{constructor(e){this.styleID=0,this.reset(),u(this,e,e)}clone(){const e={};return u(e,this,o.defaultStyle),new o(e)}reset(){u(this,o.defaultStyle,o.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const t=l(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const t=l(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){(function(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0})(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const t=l(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e="number"==typeof this.fontSize?`${this.fontSize}px`:this.fontSize;let t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let e=t.length-1;e>=0;e--){let i=t[e].trim();/([\"\'])[^\'\"]+\1/.test(i)||s.includes(i)||(i=`"${i}"`),t[e]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${t.join(",")}`}};let a=o;function l(e){const t=n.Color.shared;return Array.isArray(e)?e.map((e=>t.setValue(e).toHex())):t.setValue(e).toHex()}function u(e,t,i){for(const r in i)Array.isArray(t[r])?e[r]=t[r].slice():e[r]=t[r]}i.TextStyle=a,a.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:r.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100}},{"./const.mjs":"ftUh","@pixi/core":"OszA"}],I1L5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Text=void 0;var r=e("@pixi/core"),n=e("@pixi/sprite"),s=e("./const.mjs"),o=e("./TextMetrics.mjs"),a=e("./TextStyle.mjs");const l={texture:!0,children:!1,baseTexture:!0},u=class extends n.Sprite{constructor(e,t,i){let n=!1;i||(i=r.settings.ADAPTER.createCanvas(),n=!0),i.width=3,i.height=3;const s=r.Texture.from(i);s.orig=new r.Rectangle,s.trim=new r.Rectangle,super(s),this._ownCanvas=n,this.canvas=i,this.context=i.getContext("2d",{willReadFrequently:!0}),this._resolution=u.defaultResolution??r.settings.RESOLUTION,this._autoResolution=u.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=t,this.localStyleID=-1}static get experimentalLetterSpacing(){return o.TextMetrics.experimentalLetterSpacing}static set experimentalLetterSpacing(e){r.utils.deprecation("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),o.TextMetrics.experimentalLetterSpacing=e}updateText(e){const t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const i=this.context,n=o.TextMetrics.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=n.width,a=n.height,l=n.lines,u=n.lineHeight,c=n.lineWidths,h=n.maxLineWidth,d=n.fontProperties;let p,f;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+2*t.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,a)+2*t.padding)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=t.strokeThickness,i.textBaseline=t.textBaseline,i.lineJoin=t.lineJoin,i.miterLimit=t.miterLimit;const m=t.dropShadow?2:1;for(let e=0;e<m;++e){const s=t.dropShadow&&0===e,o=s?Math.ceil(Math.max(1,a)+2*t.padding):0,m=o*this._resolution;if(s){i.fillStyle="black",i.strokeStyle="black";const e=t.dropShadowColor,n=t.dropShadowBlur*this._resolution,s=t.dropShadowDistance*this._resolution;i.shadowColor=r.Color.shared.setValue(e).setAlpha(t.dropShadowAlpha).toRgbaString(),i.shadowBlur=n,i.shadowOffsetX=Math.cos(t.dropShadowAngle)*s,i.shadowOffsetY=Math.sin(t.dropShadowAngle)*s+m}else i.fillStyle=this._generateFillStyle(t,l,n),i.strokeStyle=t.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;let g=(u-d.fontSize)/2;u-d.fontSize<0&&(g=0);for(let e=0;e<l.length;e++)p=t.strokeThickness/2,f=t.strokeThickness/2+e*u+d.ascent+g,"right"===t.align?p+=h-c[e]:"center"===t.align&&(p+=(h-c[e])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(l[e],p+t.padding,f+t.padding-o,!0),t.fill&&this.drawLetterSpacing(l[e],p+t.padding,f+t.padding-o)}this.updateTexture()}drawLetterSpacing(e,t,i,r=!1){const n=this._style.letterSpacing;let s=!1;if(o.TextMetrics.experimentalLetterSpacingSupported&&(o.TextMetrics.experimentalLetterSpacing?(this.context.letterSpacing=`${n}px`,this.context.textLetterSpacing=`${n}px`,s=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),0===n||s)return void(r?this.context.strokeText(e,t,i):this.context.fillText(e,t,i));let a=t;const l=o.TextMetrics.graphemeSegmenter(e);let u=this.context.measureText(e).width,c=0;for(let e=0;e<l.length;++e){const t=l[e];r?this.context.strokeText(t,a,i):this.context.fillText(t,a,i);let s="";for(let t=e+1;t<l.length;++t)s+=l[t];c=this.context.measureText(s).width,a+=u-c+n,u=c}}updateTexture(){const e=this.canvas;if(this._style.trim){const t=r.utils.trimCanvas(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}const t=this._texture,i=this._style,n=i.trim?0:i.padding,s=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-n,t.trim.y=-n,t.orig.width=t._frame.width-2*n,t.orig.height=t._frame.height-2*n,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),-1===this._textureID&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,i){const r=e.fill;if(!Array.isArray(r))return r;if(1===r.length)return r[0];let n;const o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,l=this.canvas.width/this._resolution-o-2*a,u=this.canvas.height/this._resolution-o-2*a,c=r.slice(),h=e.fillGradientStops.slice();if(!h.length){const e=c.length+1;for(let t=1;t<e;++t)h.push(t/e)}if(c.unshift(r[0]),h.unshift(0),c.push(r[r.length-1]),h.push(1),e.fillGradientType===s.TEXT_GRADIENT.LINEAR_VERTICAL){n=this.context.createLinearGradient(l/2,a,l/2,u+a);const r=i.fontProperties.fontSize+e.strokeThickness;for(let e=0;e<t.length;e++){const s=i.lineHeight*(e-1)+r,o=i.lineHeight*e;let a=o;e>0&&s>o&&(a=(o+s)/2);const l=o+r,d=i.lineHeight*(e+1);let p=l;e+1<t.length&&d<l&&(p=(l+d)/2);const f=(p-a)/u;for(let e=0;e<c.length;e++){let t=0;t="number"==typeof h[e]?h[e]:e/c.length;let i=Math.min(1,Math.max(0,a/u+t*f));i=Number(i.toFixed(5)),n.addColorStop(i,c[e])}}}else{n=this.context.createLinearGradient(a,u/2,l+a,u/2);const e=c.length+1;let t=1;for(let i=0;i<c.length;i++){let r;r="number"==typeof h[i]?h[i]:t/e,n.addColorStop(r,c[i]),t++}}return n}destroy(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},l,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const t=r.utils.sign(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const t=r.utils.sign(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){(e=e||{})instanceof a.TextStyle?this._style=e:this._style=new a.TextStyle(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};let c=u;i.Text=c,c.defaultAutoResolution=!0},{"@pixi/core":"OszA","@pixi/sprite":"f4b7","./const.mjs":"ftUh","./TextMetrics.mjs":"XPXM","./TextStyle.mjs":"PSja"}],obxd:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"TEXT_GRADIENT",{enumerable:!0,get:function(){return r.TEXT_GRADIENT}}),Object.defineProperty(i,"Text",{enumerable:!0,get:function(){return n.Text}}),Object.defineProperty(i,"TextMetrics",{enumerable:!0,get:function(){return s.TextMetrics}}),Object.defineProperty(i,"TextStyle",{enumerable:!0,get:function(){return o.TextStyle}});var r=e("./const.mjs"),n=e("./Text.mjs"),s=e("./TextMetrics.mjs"),o=e("./TextStyle.mjs")},{"./const.mjs":"ftUh","./Text.mjs":"I1L5","./TextMetrics.mjs":"XPXM","./TextStyle.mjs":"PSja"}],HH6f:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.CountLimiter=void 0;i.CountLimiter=class{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}},{}],avn5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BasePrepare=void 0;var r=e("@pixi/core"),n=e("@pixi/display"),s=e("@pixi/text"),o=e("./CountLimiter.mjs");function a(e,t){let i=!1;if(e?._textures?.length)for(let n=0;n<e._textures.length;n++)if(e._textures[n]instanceof r.Texture){const r=e._textures[n].baseTexture;t.includes(r)||(t.push(r),i=!0)}return i}function l(e,t){if(e.baseTexture instanceof r.BaseTexture){const i=e.baseTexture;return t.includes(i)||t.push(i),!0}return!1}function u(e,t){if(e._texture&&e._texture instanceof r.Texture){const i=e._texture.baseTexture;return t.includes(i)||t.push(i),!0}return!1}function c(e,t){return t instanceof s.Text&&(t.updateText(!0),!0)}function h(e,t){if(t instanceof s.TextStyle){const e=t.toFontString();return s.TextMetrics.measureFont(e),!0}return!1}function d(e,t){if(e instanceof s.Text){t.includes(e.style)||t.push(e.style),t.includes(e)||t.push(e);const i=e._texture.baseTexture;return t.includes(i)||t.push(i),!0}return!1}function p(e,t){return e instanceof s.TextStyle&&(t.includes(e)||t.push(e),!0)}const f=class{constructor(e){this.limiter=new o.CountLimiter(f.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(d),this.registerFindHook(p),this.registerFindHook(a),this.registerFindHook(l),this.registerFindHook(u),this.registerUploadHook(c),this.registerUploadHook(h)}upload(e){return new Promise((t=>{e&&this.add(e),this.queue.length?(this.completes.push(t),this.ticking||(this.ticking=!0,r.Ticker.system.addOnce(this.tick,this,r.UPDATE_PRIORITY.UTILITY))):t()}))}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let t=!1;if(e&&!e._destroyed)for(let i=0,r=this.uploadHooks.length;i<r;i++)if(this.uploadHooks[i](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)r.Ticker.system.addOnce(this.tick,this,r.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let t=0,i=e.length;t<i;t++)e[t]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let t=0,i=this.addHooks.length;t<i&&!this.addHooks[t](e,this.queue);t++);if(e instanceof n.Container)for(let t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this}destroy(){this.ticking&&r.Ticker.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let m=f;i.BasePrepare=m,m.uploadsPerFrame=4},{"@pixi/core":"OszA","@pixi/display":"a2dh","@pixi/text":"obxd","./CountLimiter.mjs":"HH6f"}],jaGj:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"settings",{enumerable:!0,get:function(){return r.settings}});var r=e("@pixi/core"),n=e("./BasePrepare.mjs");Object.defineProperties(r.settings,{UPLOADS_PER_FRAME:{get:()=>n.BasePrepare.uploadsPerFrame,set(e){r.utils.deprecation("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),n.BasePrepare.uploadsPerFrame=e}}})},{"@pixi/core":"OszA","./BasePrepare.mjs":"avn5"}],qKe6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Prepare=void 0;var r=e("@pixi/core"),n=e("@pixi/graphics"),s=e("./BasePrepare.mjs");function o(e,t){return t instanceof r.BaseTexture&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function a(e,t){if(!(t instanceof n.Graphics))return!1;const{geometry:i}=t;t.finishPoly(),i.updateBatches();const{batches:r}=i;for(let t=0;t<r.length;t++){const{texture:i}=r[t].style;i&&o(e,i.baseTexture)}return i.batchable||e.geometry.bind(i,t._resolveDirectShader(e)),!0}function l(e,t){return e instanceof n.Graphics&&(t.push(e),!0)}class u extends s.BasePrepare{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(l),this.registerUploadHook(o),this.registerUploadHook(a)}}i.Prepare=u,u.extension={name:"prepare",type:r.ExtensionType.RendererSystem},r.extensions.add(u)},{"@pixi/core":"OszA","@pixi/graphics":"lowo","./BasePrepare.mjs":"avn5"}],jSbP:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.TimeLimiter=void 0;i.TimeLimiter=class{constructor(e){this.maxMilliseconds=e,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}},{}],ZV2k:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"BasePrepare",{enumerable:!0,get:function(){return r.BasePrepare}}),Object.defineProperty(i,"CountLimiter",{enumerable:!0,get:function(){return n.CountLimiter}}),Object.defineProperty(i,"Prepare",{enumerable:!0,get:function(){return s.Prepare}}),Object.defineProperty(i,"TimeLimiter",{enumerable:!0,get:function(){return o.TimeLimiter}}),e("./settings.mjs");var r=e("./BasePrepare.mjs"),n=e("./CountLimiter.mjs"),s=e("./Prepare.mjs"),o=e("./TimeLimiter.mjs")},{"./settings.mjs":"jaGj","./BasePrepare.mjs":"avn5","./CountLimiter.mjs":"HH6f","./Prepare.mjs":"qKe6","./TimeLimiter.mjs":"jSbP"}],X8tf:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.AnimatedSprite=void 0;var r=e("@pixi/core"),n=e("@pixi/sprite");class s extends n.Sprite{constructor(e,t=!0){super(e[0]instanceof r.Texture?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=t,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(r.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(r.Ticker.shared.add(this.update,this,r.UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const t=this.animationSpeed*e,i=this.currentFrame;if(null!==this._durations){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=t/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const r=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*r,this._currentTime+=r;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const t=[];for(let i=0;i<e.length;++i)t.push(r.Texture.from(e[i]));return new s(t)}static fromImages(e){const t=[];for(let i=0;i<e.length;++i)t.push(r.Texture.from(e[i]));return new s(t)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof r.Texture)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(r.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(r.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))}}i.AnimatedSprite=s},{"@pixi/core":"OszA","@pixi/sprite":"f4b7"}],R5Yc:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"AnimatedSprite",{enumerable:!0,get:function(){return r.AnimatedSprite}});var r=e("./AnimatedSprite.mjs")},{"./AnimatedSprite.mjs":"X8tf"}],XetM:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.TilingSprite=void 0;var r=e("@pixi/core"),n=e("@pixi/sprite");const s=new r.Point;class o extends n.Sprite{constructor(e,t=100,i=100){super(e),this.tileTransform=new r.Transform,this._width=t,this._height=i,this.uvMatrix=this.texture.uvMatrix||new r.TextureMatrix(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,i,r)}getLocalBounds(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new r.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,s);const t=this._width,i=this._height,r=-t*this.anchor._x;if(s.x>=r&&s.x<r+t){const e=-i*this.anchor._y;if(s.y>=e&&s.y<e+i)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,t){const i=e instanceof r.Texture?e:r.Texture.from(e,t);return new o(i,t.width,t.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}i.TilingSprite=o},{"@pixi/core":"OszA","@pixi/sprite":"f4b7"}],KBcZ:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n"},{}],r99Q:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"},{}],xF6x:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n"},{}],w8by:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"},{}],vT4A:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n"},{}],giiq:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.TilingSpriteRenderer=void 0;var r=e("@pixi/core"),n=u(e("./sprite-tiling.mjs")),s=u(e("./sprite-tiling2.mjs")),o=u(e("./sprite-tiling-fallback.mjs")),a=u(e("./sprite-tiling-fallback2.mjs")),l=u(e("./sprite-tiling-simple.mjs"));function u(e){return e&&e.__esModule?e:{default:e}}const c=new r.Matrix;class h extends r.ObjectRenderer{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new r.QuadUv,this.state=r.State.for2d()}contextChange(){const e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=r.Shader.from(a.default,l.default,t),this.shader=e.context.webGLVersion>1?r.Shader.from(s.default,n.default,t):r.Shader.from(a.default,o.default,t)}render(e){const t=this.renderer,i=this.quad;let n=i.vertices;n[0]=n[6]=e._width*-e.anchor.x,n[1]=n[3]=e._height*-e.anchor.y,n[2]=n[4]=e._width*(1-e.anchor.x),n[5]=n[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;n=i.uvs,n[0]=n[6]=-s,n[1]=n[3]=-o,n[2]=n[4]=1-s,n[5]=n[7]=1-o,i.invalidate();const a=e._texture,l=a.baseTexture,u=l.alphaMode>0,h=e.tileTransform.localTransform,d=e.uvMatrix;let p=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;p&&(l._glTextures[t.CONTEXT_UID]?p=l.wrapMode!==r.WRAP_MODES.CLAMP:l.wrapMode===r.WRAP_MODES.CLAMP&&(l.wrapMode=r.WRAP_MODES.REPEAT));const f=p?this.simpleShader:this.shader,m=a.width,g=a.height,y=e._width,v=e._height;c.set(h.a*m/y,h.b*m/v,h.c*g/y,h.d*g/v,h.tx/y,h.ty/v),c.invert(),p?c.prepend(d.mapCoord):(f.uniforms.uMapCoord=d.mapCoord.toArray(!0),f.uniforms.uClampFrame=d.uClampFrame,f.uniforms.uClampOffset=d.uClampOffset),f.uniforms.uTransform=c.toArray(!0),f.uniforms.uColor=r.Color.shared.setValue(e.tint).premultiply(e.worldAlpha,u).toArray(f.uniforms.uColor),f.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),f.uniforms.uSampler=a,t.shader.bind(f),t.geometry.bind(i),this.state.blendMode=r.utils.correctBlendMode(e.blendMode,u),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}i.TilingSpriteRenderer=h,h.extension={name:"tilingSprite",type:r.ExtensionType.RendererPlugin},r.extensions.add(h)},{"@pixi/core":"OszA","./sprite-tiling.mjs":"KBcZ","./sprite-tiling2.mjs":"r99Q","./sprite-tiling-fallback.mjs":"xF6x","./sprite-tiling-fallback2.mjs":"w8by","./sprite-tiling-simple.mjs":"vT4A"}],fh8m:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"TilingSprite",{enumerable:!0,get:function(){return r.TilingSprite}}),Object.defineProperty(i,"TilingSpriteRenderer",{enumerable:!0,get:function(){return n.TilingSpriteRenderer}});var r=e("./TilingSprite.mjs"),n=e("./TilingSpriteRenderer.mjs")},{"./TilingSprite.mjs":"XetM","./TilingSpriteRenderer.mjs":"giiq"}],egd2:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Spritesheet=void 0;var r=e("@pixi/core");const n=class{constructor(e,t,i=null){this.linkedSheets=[],this._texture=e instanceof r.Texture?e:null,this.baseTexture=e instanceof r.BaseTexture?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=t;const n=this.baseTexture.resource;this.resolution=this._updateResolution(i||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:t}=this.data.meta;let i=r.utils.getResolutionOfUrl(e,null);return null===i&&(i=parseFloat(t??"1")),1!==i&&this.baseTexture.setResolution(i),i}parse(){return new Promise((e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=n.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()}))}_processFrames(e){let t=e;const i=n.BATCH_SIZE;for(;t-e<i&&t<this._frameKeys.length;){const e=this._frameKeys[t],i=this._frames[e],n=i.frame;if(n){let t=null,s=null;const o=!1!==i.trimmed&&i.sourceSize?i.sourceSize:i.frame,a=new r.Rectangle(0,0,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution);t=i.rotated?new r.Rectangle(Math.floor(n.x)/this.resolution,Math.floor(n.y)/this.resolution,Math.floor(n.h)/this.resolution,Math.floor(n.w)/this.resolution):new r.Rectangle(Math.floor(n.x)/this.resolution,Math.floor(n.y)/this.resolution,Math.floor(n.w)/this.resolution,Math.floor(n.h)/this.resolution),!1!==i.trimmed&&i.spriteSourceSize&&(s=new r.Rectangle(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(n.w)/this.resolution,Math.floor(n.h)/this.resolution)),this.textures[e]=new r.Texture(this.baseTexture,t,a,s,i.rotated?2:0,i.anchor,i.borders),r.Texture.addToCache(this.textures[e],e)}t++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let i=0;i<e[t].length;i++){const r=e[t][i];this.animations[t].push(this.textures[r])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*n.BATCH_SIZE),this._batchIndex++,setTimeout((()=>{this._batchIndex*n.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())}),0)}destroy(e=!1){for(const e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(this._texture?.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let s=n;i.Spritesheet=s,s.BATCH_SIZE=1e3},{"@pixi/core":"OszA"}],i6et:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.spritesheetAsset=void 0;var r=e("@pixi/assets"),n=e("@pixi/core"),s=e("./Spritesheet.mjs");const o=["jpg","png","jpeg","avif","webp"];function a(e,t,i){const r={};if(e.forEach((e=>{r[e]=t})),Object.keys(t.textures).forEach((e=>{r[e]=t.textures[e]})),!i){const i=n.utils.path.dirname(e[0]);t.linkedSheets.forEach(((e,n)=>{const s=a([`${i}/${t.data.meta.related_multi_packs[n]}`],e,!0);Object.assign(r,s)}))}return r}const l={extension:n.ExtensionType.Asset,cache:{test:e=>e instanceof s.Spritesheet,getCacheableAssets:(e,t)=>a(e,t,!1)},resolver:{test:e=>{const t=e.split("?")[0].split("."),i=t.pop(),r=t.pop();return"json"===i&&o.includes(r)},parse:e=>{const t=e.split(".");return{resolution:parseFloat(n.settings.RETINA_PREFIX.exec(e)?.[1]??"1"),format:t[t.length-2],src:e}}},loader:{name:"spritesheetLoader",extension:{type:n.ExtensionType.LoadParser,priority:r.LoaderParserPriority.Normal},testParse:async(e,t)=>".json"===n.utils.path.extname(t.src).toLowerCase()&&!!e.frames,async parse(e,t,i){let o=n.utils.path.dirname(t.src);o&&o.lastIndexOf("/")!==o.length-1&&(o+="/");let a=o+e.meta.image;a=(0,r.copySearchParams)(a,t.src);const l=(await i.load([a]))[a],u=new s.Spritesheet(l.baseTexture,e,t.src);await u.parse();const c=e?.meta?.related_multi_packs;if(Array.isArray(c)){const e=[];for(const n of c){if("string"!=typeof n)continue;let s=o+n;t.data?.ignoreMultiPack||(s=(0,r.copySearchParams)(s,t.src),e.push(i.load({src:s,data:{ignoreMultiPack:!0}})))}const n=await Promise.all(e);u.linkedSheets=n,n.forEach((e=>{e.linkedSheets=[u].concat(u.linkedSheets.filter((t=>t!==e)))}))}return u},unload(e){e.destroy(!0)}}};i.spritesheetAsset=l,n.extensions.add(l)},{"@pixi/assets":"m1Kw","@pixi/core":"OszA","./Spritesheet.mjs":"egd2"}],IZaw:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"Spritesheet",{enumerable:!0,get:function(){return r.Spritesheet}}),Object.defineProperty(i,"spritesheetAsset",{enumerable:!0,get:function(){return n.spritesheetAsset}});var r=e("./Spritesheet.mjs"),n=e("./spritesheetAsset.mjs")},{"./Spritesheet.mjs":"egd2","./spritesheetAsset.mjs":"i6et"}],G3Ts:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BitmapFontData=void 0;i.BitmapFontData=class{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}},{}],QZ6V:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.TextFormat=void 0;var r=e("../BitmapFontData.mjs");i.TextFormat=class{static test(e){return"string"==typeof e&&e.startsWith("info face=")}static parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const e in t){const r=t[e].match(/^[a-z]+/gm)[0],n=t[e].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(const e in n){const t=n[e].split("="),i=t[0],r=t[1].replace(/"/gm,""),o=parseFloat(r),a=isNaN(o)?r:o;s[i]=a}i[r].push(s)}const n=new r.BitmapFontData;return i.info.forEach((e=>n.info.push({face:e.face,size:parseInt(e.size,10)}))),i.common.forEach((e=>n.common.push({lineHeight:parseInt(e.lineHeight,10)}))),i.page.forEach((e=>n.page.push({id:parseInt(e.id,10),file:e.file}))),i.char.forEach((e=>n.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)}))),i.kerning.forEach((e=>n.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)}))),i.distanceField.forEach((e=>n.distanceField.push({distanceRange:parseInt(e.distanceRange,10),fieldType:e.fieldType}))),n}}},{"../BitmapFontData.mjs":"G3Ts"}],svSw:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.XMLFormat=void 0;var r=e("../BitmapFontData.mjs");i.XMLFormat=class{static test(e){const t=e;return"getElementsByTagName"in t&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")}static parse(e){const t=new r.BitmapFontData,i=e.getElementsByTagName("info"),n=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let e=0;e<i.length;e++)t.info.push({face:i[e].getAttribute("face"),size:parseInt(i[e].getAttribute("size"),10)});for(let e=0;e<n.length;e++)t.common.push({lineHeight:parseInt(n[e].getAttribute("lineHeight"),10)});for(let e=0;e<s.length;e++)t.page.push({id:parseInt(s[e].getAttribute("id"),10)||0,file:s[e].getAttribute("file")});for(let e=0;e<o.length;e++){const i=o[e];t.char.push({id:parseInt(i.getAttribute("id"),10),page:parseInt(i.getAttribute("page"),10)||0,x:parseInt(i.getAttribute("x"),10),y:parseInt(i.getAttribute("y"),10),width:parseInt(i.getAttribute("width"),10),height:parseInt(i.getAttribute("height"),10),xoffset:parseInt(i.getAttribute("xoffset"),10),yoffset:parseInt(i.getAttribute("yoffset"),10),xadvance:parseInt(i.getAttribute("xadvance"),10)})}for(let e=0;e<a.length;e++)t.kerning.push({first:parseInt(a[e].getAttribute("first"),10),second:parseInt(a[e].getAttribute("second"),10),amount:parseInt(a[e].getAttribute("amount"),10)});for(let e=0;e<l.length;e++)t.distanceField.push({fieldType:l[e].getAttribute("fieldType"),distanceRange:parseInt(l[e].getAttribute("distanceRange"),10)});return t}}},{"../BitmapFontData.mjs":"G3Ts"}],HS0H:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.XMLStringFormat=void 0;var r=e("@pixi/core"),n=e("./XMLFormat.mjs");i.XMLStringFormat=class{static test(e){return!("string"!=typeof e||!e.includes("<font>"))&&n.XMLFormat.test(r.settings.ADAPTER.parseXML(e))}static parse(e){return n.XMLFormat.parse(r.settings.ADAPTER.parseXML(e))}}},{"@pixi/core":"OszA","./XMLFormat.mjs":"svSw"}],kXfT:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"TextFormat",{enumerable:!0,get:function(){return r.TextFormat}}),Object.defineProperty(i,"XMLFormat",{enumerable:!0,get:function(){return n.XMLFormat}}),Object.defineProperty(i,"XMLStringFormat",{enumerable:!0,get:function(){return s.XMLStringFormat}}),i.autoDetectFormat=function(e){for(let t=0;t<o.length;t++)if(o[t].test(e))return o[t];return null};var r=e("./TextFormat.mjs"),n=e("./XMLFormat.mjs"),s=e("./XMLStringFormat.mjs");const o=[r.TextFormat,n.XMLFormat,s.XMLStringFormat]},{"./TextFormat.mjs":"QZ6V","./XMLFormat.mjs":"svSw","./XMLStringFormat.mjs":"HS0H"}],OO01:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.generateFillStyle=function(e,t,i,n,s,o){const a=i.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];let l;const u=i.dropShadow?i.dropShadowDistance:0,c=i.padding||0,h=e.width/n-u-2*c,d=e.height/n-u-2*c,p=a.slice(),f=i.fillGradientStops.slice();if(!f.length){const e=p.length+1;for(let t=1;t<e;++t)f.push(t/e)}if(p.unshift(a[0]),f.unshift(0),p.push(a[a.length-1]),f.push(1),i.fillGradientType===r.TEXT_GRADIENT.LINEAR_VERTICAL){l=t.createLinearGradient(h/2,c,h/2,d+c);let e=0;const r=(o.fontProperties.fontSize+i.strokeThickness)/d;for(let t=0;t<s.length;t++){const i=o.lineHeight*t;for(let t=0;t<p.length;t++){let n=0;n="number"==typeof f[t]?f[t]:t/p.length;const s=i/d+n*r;let o=Math.max(e,s);o=Math.min(o,1),l.addColorStop(o,p[t]),e=o}}}else{l=t.createLinearGradient(c,d/2,h+c,d/2);const e=p.length+1;let i=1;for(let t=0;t<p.length;t++){let r;r="number"==typeof f[t]?f[t]:i/e,l.addColorStop(r,p[t]),i++}}return l};var r=e("@pixi/text")},{"@pixi/text":"obxd"}],CAl0:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.drawGlyph=function(e,t,i,s,o,a,l){const u=i.text,c=i.fontProperties;t.translate(s,o),t.scale(a,a);const h=l.strokeThickness/2,d=-l.strokeThickness/2;if(t.font=l.toFontString(),t.lineWidth=l.strokeThickness,t.textBaseline=l.textBaseline,t.lineJoin=l.lineJoin,t.miterLimit=l.miterLimit,t.fillStyle=(0,n.generateFillStyle)(e,t,l,a,[u],i),t.strokeStyle=l.stroke,l.dropShadow){const e=l.dropShadowColor,i=l.dropShadowBlur*a,n=l.dropShadowDistance*a;t.shadowColor=r.Color.shared.setValue(e).setAlpha(l.dropShadowAlpha).toRgbaString(),t.shadowBlur=i,t.shadowOffsetX=Math.cos(l.dropShadowAngle)*n,t.shadowOffsetY=Math.sin(l.dropShadowAngle)*n}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;l.stroke&&l.strokeThickness&&t.strokeText(u,h,d+i.lineHeight-c.descent);l.fill&&t.fillText(u,h,d+i.lineHeight-c.descent);t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"};var r=e("@pixi/core"),n=e("./generateFillStyle.mjs")},{"@pixi/core":"OszA","./generateFillStyle.mjs":"OO01"}],PKrW:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.extractCharCode=function(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}},{}],mfOp:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.splitTextToCharacters=function(e){return Array.from?Array.from(e):e.split("")}},{}],hHBd:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.resolveCharacters=function(e){"string"==typeof e&&(e=[e]);const t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];if(Array.isArray(n)){if(2!==n.length)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${n.length}.`);const e=n[0].charCodeAt(0),i=n[1].charCodeAt(0);if(i<e)throw new Error("[BitmapFont]: Invalid character range.");for(let r=e,n=i;r<=n;r++)t.push(String.fromCharCode(r))}else t.push(...(0,r.splitTextToCharacters)(n))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t};var r=e("./splitTextToCharacters.mjs")},{"./splitTextToCharacters.mjs":"mfOp"}],IrLH:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"drawGlyph",{enumerable:!0,get:function(){return r.drawGlyph}}),Object.defineProperty(i,"extractCharCode",{enumerable:!0,get:function(){return n.extractCharCode}}),Object.defineProperty(i,"generateFillStyle",{enumerable:!0,get:function(){return s.generateFillStyle}}),Object.defineProperty(i,"resolveCharacters",{enumerable:!0,get:function(){return o.resolveCharacters}}),Object.defineProperty(i,"splitTextToCharacters",{enumerable:!0,get:function(){return a.splitTextToCharacters}});var r=e("./drawGlyph.mjs"),n=e("./extractCharCode.mjs"),s=e("./generateFillStyle.mjs"),o=e("./resolveCharacters.mjs"),a=e("./splitTextToCharacters.mjs")},{"./drawGlyph.mjs":"CAl0","./extractCharCode.mjs":"PKrW","./generateFillStyle.mjs":"OO01","./resolveCharacters.mjs":"hHBd","./splitTextToCharacters.mjs":"mfOp"}],FVJ5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BitmapFont=void 0;var r=e("@pixi/core"),n=e("@pixi/text"),s=e("./BitmapFontData.mjs"),o=e("./formats/index.mjs");e("./utils/index.mjs");var a=e("./utils/resolveCharacters.mjs"),l=e("./utils/drawGlyph.mjs"),u=e("./utils/extractCharCode.mjs");const c=class{constructor(e,t,i){const[n]=e.info,[s]=e.common,[o]=e.page,[a]=e.distanceField,l=r.utils.getResolutionOfUrl(o.file),u={};this._ownsTextures=i,this.font=n.face,this.size=n.size,this.lineHeight=s.lineHeight/l,this.chars={},this.pageTextures=u;for(let i=0;i<e.page.length;i++){const{id:n,file:s}=e.page[i];u[n]=t instanceof Array?t[i]:t[s],a?.fieldType&&"none"!==a.fieldType&&(u[n].baseTexture.alphaMode=r.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,u[n].baseTexture.mipmap=r.MIPMAP_MODES.OFF)}for(let t=0;t<e.char.length;t++){const{id:i,page:n}=e.char[t];let{x:s,y:o,width:a,height:c,xoffset:h,yoffset:d,xadvance:p}=e.char[t];s/=l,o/=l,a/=l,c/=l,h/=l,d/=l,p/=l;const f=new r.Rectangle(s+u[n].frame.x/l,o+u[n].frame.y/l,a,c);this.chars[i]={xOffset:h,yOffset:d,xAdvance:p,kerning:{},texture:new r.Texture(u[n].baseTexture,f),page:n}}for(let t=0;t<e.kerning.length;t++){let{first:i,second:r,amount:n}=e.kerning[t];i/=l,r/=l,n/=l,this.chars[r]&&(this.chars[r].kerning[i]=n)}this.distanceFieldRange=a?.distanceRange,this.distanceFieldType=a?.fieldType?.toLowerCase()??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,t,i){let n;if(e instanceof s.BitmapFontData)n=e;else{const t=(0,o.autoDetectFormat)(e);if(!t)throw new Error("Unrecognized data format for font.");n=t.parse(e)}t instanceof r.Texture&&(t=[t]);const a=new c(n,t,i);return c.available[a.font]=a,a}static uninstall(e){const t=c.available[e];if(!t)throw new Error(`No font found named '${e}'`);t.destroy(),delete c.available[e]}static from(e,t,i){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:o,padding:h,resolution:d,textureWidth:p,textureHeight:f,...m}=Object.assign({},c.defaultOptions,i),g=(0,a.resolveCharacters)(o),y=t instanceof n.TextStyle?t:new n.TextStyle(t),v=p,x=new s.BitmapFontData;x.info[0]={face:y.fontFamily,size:y.fontSize},x.common[0]={lineHeight:y.fontSize};let _,b,S,T=0,w=0,E=0;const P=[],A=[];for(let e=0;e<g.length;e++){_||(_=r.settings.ADAPTER.createCanvas(),_.width=p,_.height=f,b=_.getContext("2d"),S=new r.BaseTexture(_,{resolution:d,...m}),P.push(S),A.push(new r.Texture(S)),x.page.push({id:A.length-1,file:""}));const t=g[e],i=n.TextMetrics.measureText(t,y,!1,_),s=i.width,o=Math.ceil(i.height),a=Math.ceil(("italic"===y.fontStyle?2:1)*s);if(w>=f-o*d){if(0===w)throw new Error(`[BitmapFont] textureHeight ${f}px is too small (fontFamily: '${y.fontFamily}', fontSize: ${y.fontSize}px, char: '${t}')`);--e,_=null,b=null,S=null,w=0,T=0,E=0;continue}if(E=Math.max(o+i.fontProperties.descent,E),a*d+T>=v){if(0===T)throw new Error(`[BitmapFont] textureWidth ${p}px is too small (fontFamily: '${y.fontFamily}', fontSize: ${y.fontSize}px, char: '${t}')`);--e,w+=E*d,w=Math.ceil(w),T=0,E=0;continue}(0,l.drawGlyph)(_,b,i,T,w,d,y);const c=(0,u.extractCharCode)(i.text);x.char.push({id:c,page:A.length-1,x:T/d,y:w/d,width:a,height:o,xoffset:0,yoffset:0,xadvance:s-(y.dropShadow?y.dropShadowDistance:0)-(y.stroke?y.strokeThickness:0)}),T+=(a+2*h)*d,T=Math.ceil(T)}for(let e=0,t=g.length;e<t;e++){const i=g[e];for(let e=0;e<t;e++){const t=g[e],r=b.measureText(i).width,n=b.measureText(t).width,s=b.measureText(i+t).width-(r+n);s&&x.kerning.push({first:(0,u.extractCharCode)(i),second:(0,u.extractCharCode)(t),amount:s})}}const M=new c(x,A,!0);return void 0!==c.available[e]&&c.uninstall(e),c.available[e]=M,M}};let h=c;i.BitmapFont=h,h.ALPHA=[["a","z"],["A","Z"]," "],h.NUMERIC=[["0","9"]],h.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],h.ASCII=[[" ","~"]],h.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:c.ALPHANUMERIC},h.available={}},{"@pixi/core":"OszA","@pixi/text":"obxd","./BitmapFontData.mjs":"G3Ts","./formats/index.mjs":"kXfT","./utils/index.mjs":"IrLH","./utils/resolveCharacters.mjs":"hHBd","./utils/drawGlyph.mjs":"CAl0","./utils/extractCharCode.mjs":"PKrW"}],YY0h:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n"},{}],B0Mt:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n"},{}],YZGz:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BitmapText=void 0;var r=e("@pixi/core"),n=e("@pixi/display"),s=e("@pixi/mesh"),o=e("./BitmapFont.mjs"),a=h(e("./shader/msdf.mjs")),l=h(e("./shader/msdf2.mjs"));e("./utils/index.mjs");var u=e("./utils/splitTextToCharacters.mjs"),c=e("./utils/extractCharCode.mjs");function h(e){return e&&e.__esModule?e:{default:e}}const d=[],p=[],f=[],m=class extends n.Container{constructor(e,t={}){super();const{align:i,tint:n,maxWidth:s,letterSpacing:a,fontName:l,fontSize:u}=Object.assign({},m.styleDefaults,t);if(!o.BitmapFont.available[l])throw new Error(`Missing BitmapFont "${l}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=i,this._tintColor=new r.Color(n),this._font=void 0,this._fontName=l,this._fontSize=u,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=a,this._anchor=new r.ObservablePoint((()=>{this.dirty=!0}),this,0,0),this._roundPixels=r.settings.ROUND_PIXELS,this.dirty=!0,this._resolution=r.settings.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){const e=o.BitmapFont.available[this._fontName],t=this.fontSize,i=t/e.size,n=new r.Point,h=[],m=[],g=[],y=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",v=(0,u.splitTextToCharacters)(y),x=this._maxWidth*e.size/t,_="none"===e.distanceFieldType?d:p;let b=null,S=0,T=0,w=0,E=-1,P=0,A=0,M=0,O=0;for(let t=0;t<v.length;t++){const i=v[t],s=(0,c.extractCharCode)(i);if(/(?:\s)/.test(i)&&(E=t,P=S,O++),"\r"===i||"\n"===i){m.push(S),g.push(-1),T=Math.max(T,S),++w,++A,n.x=0,n.y+=e.lineHeight,b=null,O=0;continue}const o=e.chars[s];if(!o)continue;b&&o.kerning[b]&&(n.x+=o.kerning[b]);const a=f.pop()||{texture:r.Texture.EMPTY,line:0,charCode:0,prevSpaces:0,position:new r.Point};a.texture=o.texture,a.line=w,a.charCode=s,a.position.x=Math.round(n.x+o.xOffset+this._letterSpacing/2),a.position.y=Math.round(n.y+o.yOffset),a.prevSpaces=O,h.push(a),S=a.position.x+Math.max(o.xAdvance-o.xOffset,o.texture.orig.width),n.x+=o.xAdvance+this._letterSpacing,M=Math.max(M,o.yOffset+o.texture.height),b=s,-1!==E&&x>0&&n.x>x&&(++A,r.utils.removeItems(h,1+E-A,1+t-E),t=E,E=-1,m.push(P),g.push(h.length>0?h[h.length-1].prevSpaces:0),T=Math.max(T,P),w++,n.x=0,n.y+=e.lineHeight,b=null,O=0)}const C=v[v.length-1];"\r"!==C&&"\n"!==C&&(/(?:\s)/.test(C)&&(S=P),m.push(S),T=Math.max(T,S),g.push(-1));const j=[];for(let e=0;e<=w;e++){let t=0;"right"===this._align?t=T-m[e]:"center"===this._align?t=(T-m[e])/2:"justify"===this._align&&(t=g[e]<0?0:(T-m[e])/g[e]),j.push(t)}const R=h.length,I={},B=[],D=this._activePagesMeshData;_.push(...D);for(let t=0;t<R;t++){const i=h[t].texture,n=i.baseTexture.uid;if(!I[n]){let t=_.pop();if(!t){const i=new s.MeshGeometry;let n,o;"none"===e.distanceFieldType?(n=new s.MeshMaterial(r.Texture.EMPTY),o=r.BLEND_MODES.NORMAL):(n=new s.MeshMaterial(r.Texture.EMPTY,{program:r.Program.from(l.default,a.default),uniforms:{uFWidth:0}}),o=r.BLEND_MODES.NORMAL_NPM);const u=new s.Mesh(i,n);u.blendMode=o,t={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:u,vertices:null,uvs:null,indices:null}}t.index=0,t.indexCount=0,t.vertexCount=0,t.uvsCount=0,t.total=0;const{_textureCache:o}=this;o[n]=o[n]||new r.Texture(i.baseTexture),t.mesh.texture=o[n],t.mesh.tint=this._tintColor.value,B.push(t),I[n]=t}I[n].total++}for(let e=0;e<D.length;e++)B.includes(D[e])||this.removeChild(D[e].mesh);for(let e=0;e<B.length;e++)B[e].mesh.parent!==this&&this.addChild(B[e].mesh);this._activePagesMeshData=B;for(const e in I){const t=I[e],i=t.total;if(!(t.indices?.length>6*i)||t.vertices.length<2*s.Mesh.BATCHABLE_SIZE)t.vertices=new Float32Array(8*i),t.uvs=new Float32Array(8*i),t.indices=new Uint16Array(6*i);else{const e=t.total,i=t.vertices;for(let t=4*e*2;t<i.length;t++)i[t]=0}t.mesh.size=6*i}for(let e=0;e<R;e++){const t=h[e];let r=t.position.x+j[t.line]*("justify"===this._align?t.prevSpaces:1);this._roundPixels&&(r=Math.round(r));const n=r*i,s=t.position.y*i,o=t.texture,a=I[o.baseTexture.uid],l=o.frame,u=o._uvs,c=a.index++;a.indices[6*c+0]=0+4*c,a.indices[6*c+1]=1+4*c,a.indices[6*c+2]=2+4*c,a.indices[6*c+3]=0+4*c,a.indices[6*c+4]=2+4*c,a.indices[6*c+5]=3+4*c,a.vertices[8*c+0]=n,a.vertices[8*c+1]=s,a.vertices[8*c+2]=n+l.width*i,a.vertices[8*c+3]=s,a.vertices[8*c+4]=n+l.width*i,a.vertices[8*c+5]=s+l.height*i,a.vertices[8*c+6]=n,a.vertices[8*c+7]=s+l.height*i,a.uvs[8*c+0]=u.x0,a.uvs[8*c+1]=u.y0,a.uvs[8*c+2]=u.x1,a.uvs[8*c+3]=u.y1,a.uvs[8*c+4]=u.x2,a.uvs[8*c+5]=u.y2,a.uvs[8*c+6]=u.x3,a.uvs[8*c+7]=u.y3}this._textWidth=T*i,this._textHeight=(n.y+e.lineHeight)*i;for(const e in I){const t=I[e];if(0!==this.anchor.x||0!==this.anchor.y){let e=0;const i=this._textWidth*this.anchor.x,r=this._textHeight*this.anchor.y;for(let n=0;n<t.total;n++)t.vertices[e++]-=i,t.vertices[e++]-=r,t.vertices[e++]-=i,t.vertices[e++]-=r,t.vertices[e++]-=i,t.vertices[e++]-=r,t.vertices[e++]-=i,t.vertices[e++]-=r}this._maxLineHeight=M*i;const r=t.mesh.geometry.getBuffer("aVertexPosition"),n=t.mesh.geometry.getBuffer("aTextureCoord"),s=t.mesh.geometry.getIndex();r.data=t.vertices,n.data=t.uvs,s.data=t.indices,r.update(),n.update(),s.update()}for(let e=0;e<h.length;e++)f.push(h[e]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:t,distanceFieldType:i,size:r}=o.BitmapFont.available[this._fontName];if("none"!==i){const{a:i,b:n,c:s,d:o}=this.worldTransform,a=Math.sqrt(i*i+n*n),l=Math.sqrt(s*s+o*o),u=(Math.abs(a)+Math.abs(l))/2,c=this.fontSize/r,h=e._view.resolution;for(const e of this._activePagesMeshData)e.mesh.shader.uniforms.uFWidth=u*t*c*h}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=o.BitmapFont.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!o.BitmapFont.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??o.BitmapFont.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:t}=this,i="none"===o.BitmapFont.available[this._fontName].distanceFieldType?d:p;i.push(...this._activePagesMeshData);for(const e of this._activePagesMeshData)this.removeChild(e.mesh);this._activePagesMeshData=[],i.filter((e=>t[e.mesh.texture.baseTexture.uid])).forEach((e=>{e.mesh.texture=r.Texture.EMPTY}));for(const e in t){t[e].destroy(),delete t[e]}this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};let g=m;i.BitmapText=g,g.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0}},{"@pixi/core":"OszA","@pixi/display":"a2dh","@pixi/mesh":"yp2D","./BitmapFont.mjs":"FVJ5","./shader/msdf.mjs":"YY0h","./shader/msdf2.mjs":"B0Mt","./utils/index.mjs":"IrLH","./utils/splitTextToCharacters.mjs":"mfOp","./utils/extractCharCode.mjs":"PKrW"}],sLZw:[function(e,t,i){},{}],SIA6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.loadBitmapFont=void 0;var r=e("@pixi/assets"),n=e("@pixi/core"),s=e("./BitmapFont.mjs");e("./formats/index.mjs");var o=e("./formats/TextFormat.mjs"),a=e("./formats/XMLStringFormat.mjs");const l=[".xml",".fnt"],u={extension:{type:n.ExtensionType.LoadParser,priority:r.LoaderParserPriority.Normal},name:"loadBitmapFont",test:e=>l.includes(n.utils.path.extname(e).toLowerCase()),testParse:async e=>o.TextFormat.test(e)||a.XMLStringFormat.test(e),async parse(e,t,i){const l=o.TextFormat.test(e)?o.TextFormat.parse(e):a.XMLStringFormat.parse(e),{src:u}=t,{page:c}=l,h=[];for(let e=0;e<c.length;++e){const t=c[e].file;let i=n.utils.path.join(n.utils.path.dirname(u),t);i=(0,r.copySearchParams)(i,u),h.push(i)}const d=await i.load(h),p=h.map((e=>d[e]));return s.BitmapFont.install(l,p,!0)},load:async(e,t)=>(await n.settings.ADAPTER.fetch(e)).text(),unload(e){e.destroy()}};i.loadBitmapFont=u,n.extensions.add(u)},{"@pixi/assets":"m1Kw","@pixi/core":"OszA","./BitmapFont.mjs":"FVJ5","./formats/index.mjs":"kXfT","./formats/TextFormat.mjs":"QZ6V","./formats/XMLStringFormat.mjs":"HS0H"}],LLlu:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"BitmapFont",{enumerable:!0,get:function(){return r.BitmapFont}}),Object.defineProperty(i,"BitmapFontData",{enumerable:!0,get:function(){return n.BitmapFontData}}),Object.defineProperty(i,"BitmapText",{enumerable:!0,get:function(){return s.BitmapText}}),Object.defineProperty(i,"TextFormat",{enumerable:!0,get:function(){return l.TextFormat}}),Object.defineProperty(i,"XMLFormat",{enumerable:!0,get:function(){return u.XMLFormat}}),Object.defineProperty(i,"XMLStringFormat",{enumerable:!0,get:function(){return c.XMLStringFormat}}),Object.defineProperty(i,"autoDetectFormat",{enumerable:!0,get:function(){return o.autoDetectFormat}}),Object.defineProperty(i,"loadBitmapFont",{enumerable:!0,get:function(){return a.loadBitmapFont}});var r=e("./BitmapFont.mjs"),n=e("./BitmapFontData.mjs"),s=e("./BitmapText.mjs");e("./BitmapTextStyle.mjs");var o=e("./formats/index.mjs"),a=e("./loadBitmapFont.mjs"),l=e("./formats/TextFormat.mjs"),u=e("./formats/XMLFormat.mjs"),c=e("./formats/XMLStringFormat.mjs")},{"./BitmapFont.mjs":"FVJ5","./BitmapFontData.mjs":"G3Ts","./BitmapText.mjs":"YZGz","./BitmapTextStyle.mjs":"sLZw","./formats/index.mjs":"kXfT","./loadBitmapFont.mjs":"SIA6","./formats/TextFormat.mjs":"QZ6V","./formats/XMLFormat.mjs":"svSw","./formats/XMLStringFormat.mjs":"HS0H"}],jPJL:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.HTMLTextStyle=void 0;var r=e("@pixi/core"),n=e("@pixi/text");const s=class extends n.TextStyle{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new s(Object.keys(s.defaultOptions).reduce(((t,i)=>({...t,[i]:e[i]})),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach((e=>{URL.revokeObjectURL(e.src),e.refs--,0===e.refs&&(e.fontFace&&document.fonts.delete(e.fontFace),delete s.availableFonts[e.originalUrl])})),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,t={}){const{availableFonts:i}=s;if(i[e]){const t=i[e];return this._fonts.push(t),t.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return r.settings.ADAPTER.fetch(e).then((e=>e.blob())).then((async e=>new Promise(((t,i)=>{const r=URL.createObjectURL(e),n=new FileReader;n.onload=()=>t([r,n.result]),n.onerror=i,n.readAsDataURL(e)})))).then((async([n,s])=>{const o=Object.assign({family:r.utils.path.basename(e,r.utils.path.extname(e)),weight:"normal",style:"normal",src:n,dataSrc:s,refs:1,originalUrl:e,fontFace:null},t);i[e]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0}))}addOverride(...e){const t=e.filter((e=>!this._overrides.includes(e)));t.length>0&&(this._overrides.push(...t),this.styleID++)}removeOverride(...e){const t=e.filter((e=>this._overrides.includes(e)));t.length>0&&(this._overrides=this._overrides.filter((e=>!t.includes(e))),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?["word-wrap: "+(this.breakWords?"break-all":"break-word"),`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce(((e,t)=>`${e}\n            @font-face {\n                font-family: "${t.family}";\n                src: url('${t.dataSrc}');\n                font-weight: ${t.weight};\n                font-style: ${t.style}; \n            }`),this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=r.utils.rgb2hex(e)),"number"==typeof e?r.utils.hex2string(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const t=this.dropShadowAlpha,i=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),r=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(255*t|0).toString(16).padStart(2,"0"));const n=`${i}px ${r}px`;return this.dropShadowBlur>0?`text-shadow: ${n} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${n} ${e}`}reset(){Object.assign(this,s.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise((e=>setTimeout(e,100))):Promise.resolve()}get isSafari(){const{userAgent:e}=r.settings.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){}get fillGradientType(){return super.fillGradientType}set miterLimit(e){}get miterLimit(){return super.miterLimit}set trim(e){}get trim(){return super.trim}set textBaseline(e){}get textBaseline(){return super.textBaseline}set leading(e){}get leading(){return super.leading}set lineJoin(e){}get lineJoin(){return super.lineJoin}};let o=s;i.HTMLTextStyle=o,o.availableFonts={},o.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100}},{"@pixi/core":"OszA","@pixi/text":"obxd"}],TrOq:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.HTMLText=void 0;var r=e("@pixi/core"),n=e("@pixi/sprite"),s=e("@pixi/text"),o=e("./HTMLTextStyle.mjs");const a=class extends n.Sprite{constructor(e="",t={}){super(r.Texture.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this._loading=!1,this.localStyleID=-1,this.dirty=!1,this.ownsStyle=!1;const i=new Image,n=r.Texture.from(i,{scaleMode:r.settings.SCALE_MODE,resourceOptions:{autoLoad:!1}});n.orig=new r.Rectangle,n.trim=new r.Rectangle,this.texture=n;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",l=document.createElementNS(s,"svg"),u=document.createElementNS(s,"foreignObject"),c=document.createElementNS(o,"div"),h=document.createElementNS(o,"style");u.setAttribute("width","10000"),u.setAttribute("height","10000"),u.style.overflow="hidden",l.appendChild(u),this.maxWidth=a.defaultMaxWidth,this.maxHeight=a.defaultMaxHeight,this._domElement=c,this._styleElement=h,this._svgRoot=l,this._foreignObject=u,this._foreignObject.appendChild(h),this._foreignObject.appendChild(c),this._image=i,this._loadImage=new Image,this._autoResolution=a.defaultAutoResolution,this._resolution=a.defaultResolution??r.settings.RESOLUTION,this.text=e,this.style=t}measureText(e){const{text:t,style:i,resolution:r}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:t,style:i.toCSS(r)}),this._styleElement.textContent=i.toGlobalCSS(),document.body.appendChild(this._svgRoot);const n=this._domElement.getBoundingClientRect();this._svgRoot.remove();const s=Math.min(this.maxWidth,Math.ceil(n.width)),o=Math.min(this.maxHeight,Math.ceil(n.height));return this._svgRoot.setAttribute("width",s.toString()),this._svgRoot.setAttribute("height",o.toString()),t!==this._text&&(this._domElement.innerHTML=this._text),i!==this._style&&(Object.assign(this._domElement,{style:this._style?.toCSS(r)}),this._styleElement.textContent=this._style?.toGlobalCSS()),{width:s+2*i.padding,height:o+2*i.padding}}async updateText(e=!0){const{style:t,_image:i,_loadImage:r}=this;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;const{width:n,height:s}=this.measureText();i.width=r.width=Math.ceil(Math.max(1,n)),i.height=r.height=Math.ceil(Math.max(1,s)),this._loading||(this._loading=!0,await new Promise((e=>{r.onload=async()=>{await t.onBeforeDraw(),this._loading=!1,i.src=r.src,r.onload=null,r.src="",this.updateTexture(),e()};const n=(new XMLSerializer).serializeToString(this._svgRoot);r.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(n)}`})))}get source(){return this._image}updateTexture(){const{style:e,texture:t,_image:i,resolution:r}=this,{padding:n}=e,{baseTexture:s}=t;t.trim.width=t._frame.width=i.width/r,t.trim.height=t._frame.height=i.height/r,t.trim.x=-n,t.trim.y=-n,t.orig.width=t._frame.width-2*n,t.orig.height=t._frame.height-2*n,this._onTextureUpdate(),s.setRealSize(i.width,i.height,r),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},a.defaultDestroyOptions,e),super.destroy(e);const t=null;this.ownsStyle&&this._style?.cleanFonts(),this._style=t,this._svgRoot?.remove(),this._svgRoot=t,this._domElement?.remove(),this._domElement=t,this._foreignObject?.remove(),this._foreignObject=t,this._styleElement?.remove(),this._styleElement=t,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=t,this._image.src="",this._image=t}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const t=r.utils.sign(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const t=r.utils.sign(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&((e=e||{})instanceof o.HTMLTextStyle?(this.ownsStyle=!1,this._style=e):e instanceof s.TextStyle?(this.ownsStyle=!0,this._style=o.HTMLTextStyle.from(e)):(this.ownsStyle=!0,this._style=new o.HTMLTextStyle(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(""===e||null==e?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};let l=a;i.HTMLText=l,l.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},l.defaultMaxWidth=2024,l.defaultMaxHeight=2024,l.defaultAutoResolution=!0},{"@pixi/core":"OszA","@pixi/sprite":"f4b7","@pixi/text":"obxd","./HTMLTextStyle.mjs":"jPJL"}],jsLK:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"HTMLText",{enumerable:!0,get:function(){return r.HTMLText}}),Object.defineProperty(i,"HTMLTextStyle",{enumerable:!0,get:function(){return n.HTMLTextStyle}});var r=e("./HTMLText.mjs"),n=e("./HTMLTextStyle.mjs")},{"./HTMLText.mjs":"TrOq","./HTMLTextStyle.mjs":"jPJL"}],DFIJ:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={filters:!0};Object.defineProperty(i,"filters",{enumerable:!0,get:function(){return n.filters}}),e("@pixi/mixin-cache-as-bitmap"),e("@pixi/mixin-get-child-by-name"),e("@pixi/mixin-get-global-position");var n=e("./filters.mjs"),s=e("@pixi/accessibility");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===s[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return s[e]}}))}));var o=e("@pixi/app");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===o[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=e("@pixi/assets");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===a[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return a[e]}}))}));var l=e("@pixi/compressed-textures");Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===l[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return l[e]}}))}));var u=e("@pixi/core");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===u[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return u[e]}}))}));var c=e("@pixi/display");Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===c[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return c[e]}}))}));var h=e("@pixi/events");Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===h[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return h[e]}}))}));var d=e("@pixi/extract");Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===d[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return d[e]}}))}));var p=e("@pixi/filter-alpha");Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===p[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return p[e]}}))}));var f=e("@pixi/filter-blur");Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===f[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return f[e]}}))}));var m=e("@pixi/filter-color-matrix");Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===m[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return m[e]}}))}));var g=e("@pixi/filter-displacement");Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===g[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return g[e]}}))}));var y=e("@pixi/filter-fxaa");Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===y[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return y[e]}}))}));var v=e("@pixi/filter-noise");Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===v[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return v[e]}}))}));var x=e("@pixi/graphics");Object.keys(x).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===x[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return x[e]}}))}));var _=e("@pixi/mesh");Object.keys(_).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===_[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return _[e]}}))}));var b=e("@pixi/mesh-extras");Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===b[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return b[e]}}))}));var S=e("@pixi/particle-container");Object.keys(S).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===S[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return S[e]}}))}));var T=e("@pixi/prepare");Object.keys(T).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===T[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return T[e]}}))}));var w=e("@pixi/sprite");Object.keys(w).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===w[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return w[e]}}))}));var E=e("@pixi/sprite-animated");Object.keys(E).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===E[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return E[e]}}))}));var P=e("@pixi/sprite-tiling");Object.keys(P).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===P[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return P[e]}}))}));var A=e("@pixi/spritesheet");Object.keys(A).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===A[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return A[e]}}))}));var M=e("@pixi/text");Object.keys(M).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===M[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return M[e]}}))}));var O=e("@pixi/text-bitmap");Object.keys(O).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===O[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return O[e]}}))}));var C=e("@pixi/text-html");Object.keys(C).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in i&&i[e]===C[e]||Object.defineProperty(i,e,{enumerable:!0,get:function(){return C[e]}}))}))},{"@pixi/mixin-cache-as-bitmap":"Loug","@pixi/mixin-get-child-by-name":"w9iJ","@pixi/mixin-get-global-position":"LmZb","./filters.mjs":"DDE6","@pixi/accessibility":"LD4a","@pixi/app":"ei0R","@pixi/assets":"m1Kw","@pixi/compressed-textures":"OLES","@pixi/core":"OszA","@pixi/display":"a2dh","@pixi/events":"OMfv","@pixi/extract":"C2jX","@pixi/filter-alpha":"XRy5","@pixi/filter-blur":"gqY0","@pixi/filter-color-matrix":"PWa2","@pixi/filter-displacement":"nTub","@pixi/filter-fxaa":"yJ14","@pixi/filter-noise":"ErwM","@pixi/graphics":"lowo","@pixi/mesh":"yp2D","@pixi/mesh-extras":"EncL","@pixi/particle-container":"fVDf","@pixi/prepare":"ZV2k","@pixi/sprite":"f4b7","@pixi/sprite-animated":"R5Yc","@pixi/sprite-tiling":"fh8m","@pixi/spritesheet":"IZaw","@pixi/text":"obxd","@pixi/text-bitmap":"LLlu","@pixi/text-html":"jsLK"}],qlJw:[function(e,t,i){var r;!function(e,n){"object"==typeof i&&void 0!==t?n(i):"function"==typeof r&&r.amd?r(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).easytimer={})}(this,(function(e){"use strict";function t(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function i(e){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?t(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t,i){var r,n="";if((e="number"==typeof e?String(e):e).length>t)return e;for(r=0;r<t;r+=1)n+=String(i);return(n+e).slice(-n.length)}function o(){this.reset()}function a(){this.events={}}o.prototype.toString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["hours","minutes","seconds"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;e=e||["hours","minutes","seconds"],t=t||":",i=i||2;var r,n=[];for(r=0;r<e.length;r+=1)void 0!==this[e[r]]&&("secondTenths"===e[r]?n.push(this[e[r]]):n.push(s(this[e[r]],i,"0")));return n.join(t)},o.prototype.reset=function(){this.secondTenths=0,this.seconds=0,this.minutes=0,this.hours=0,this.days=0},a.prototype.on=function(e,t){var i=this;return Array.isArray(this.events[e])||(this.events[e]=[]),this.events[e].push(t),function(){return i.removeListener(e,t)}},a.prototype.removeListener=function(e,t){if(Array.isArray(this.events[e])){var i=this.events[e].indexOf(t);i>-1&&this.events[e].splice(i,1)}},a.prototype.removeAllListeners=function(e){e?Array.isArray(this.events[e])&&(this.events[e]=[]):this.events={}},a.prototype.emit=function(e){for(var t=this,i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];Array.isArray(this.events[e])&&this.events[e].forEach((function(e){return e.apply(t,r)}))};var l=10,u=60,c=60,h=24,d="secondTenths",p="seconds",f="minutes",m="hours",g="days",y=[d,p,f,m,g],v={secondTenths:100,seconds:1e3,minutes:6e4,hours:36e5,days:864e5},x={secondTenths:l,seconds:u,minutes:c,hours:h};function _(e,t){return(e%t+t)%t}function b(){var e,t,n,s,b,S,T,w,E,P,A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},M=new o,O=new o,C=new a,j=!1,R=!1,I={},B={detail:{timer:this}};function D(e,t){var i=x[e];O[e]=t,M[e]=e===g?Math.abs(t):_(t>=0?t:i-_(t,i),i)}function k(e){return G(e,g)}function F(e){return G(e,m)}function L(e){return G(e,f)}function N(e){return G(e,p)}function U(e){return G(e,d)}function G(e,t){var i=O[t];return D(t,re(e,v[t])),O[t]!==i}function H(){V(),Z()}function V(){clearInterval(e),e=void 0,j=!1,R=!1}function W(e){ge()?(E=Y(),S=ne(b.target)):J(e),z()}function z(){var i=v[t];Q($(Date.now()))||(e=setInterval(X,i),j=!0,R=!1)}function Y(){return $(Date.now())-O.secondTenths*v.secondTenths*n}function X(){var e=$(Date.now());K(q()),s(B.detail.timer),Q(e)&&(ae(),fe("targetAchieved",B))}function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$(Date.now()),t=n>0?e-E:E-e,i={};return i.secondTenths=U(t),i.seconds=N(t),i.minutes=L(t),i.hours=F(t),i.days=k(t),i}function $(e){return Math.floor(e/v[t])*v[t]}function K(e){e.secondTenths&&fe("secondTenthsUpdated",B),e.seconds&&fe("secondsUpdated",B),e.minutes&&fe("minutesUpdated",B),e.hours&&fe("hoursUpdated",B),e.days&&fe("daysUpdated",B)}function Q(e){return S instanceof Array&&e>=P}function Z(){M.reset(),O.reset()}function J(e){t=ee((e=e||{}).precision),s="function"==typeof e.callback?e.callback:function(){},w=!0===e.countdown,n=!0===w?-1:1,"object"===r(e.startValues)?se(e.startValues):T=null,E=Y(),q(),"object"===r(e.target)?S=ne(e.target):w?(e.target={seconds:0},S=ne(e.target)):S=null,I={precision:t,callback:s,countdown:"object"===r(e)&&!0===e.countdown,target:S,startValues:T},b=e}function ee(e){if(!te(e="string"==typeof e?e:p))throw new Error("Error in precision parameter: ".concat(e," is not a valid value"));return e}function te(e){return y.indexOf(e)>=0}function ie(e){var t;if("object"===r(e))if(e instanceof Array){if(5!==e.length)throw new Error("Array size not valid");t=e}else{for(var i in e)if(y.indexOf(i)<0)throw new Error("Error in startValues or target parameter: ".concat(i," is not a valid input value"));t=[e.secondTenths||0,e.seconds||0,e.minutes||0,e.hours||0,e.days||0]}t=t.map((function(e){return parseInt(e,10)}));var n=t[0],s=t[1]+re(n,l),o=t[2]+re(s,u),a=t[3]+re(o,c),d=t[4]+re(a,h);return t[0]=n%l,t[1]=s%u,t[2]=o%c,t[3]=a%h,t[4]=d,t}function re(e,t){var i=e/t;return i<0?Math.ceil(i):Math.floor(i)}function ne(e){if(e){var t=oe(S=ie(e));return P=E+t.secondTenths*v.secondTenths*n,S}}function se(e){T=ie(e),M.secondTenths=T[0],M.seconds=T[1],M.minutes=T[2],M.hours=T[3],M.days=T[4],O=oe(T,O)}function oe(e,t){var i=t||{};return i.days=e[4],i.hours=i.days*h+e[3],i.minutes=i.hours*c+e[2],i.seconds=i.minutes*u+e[1],i.secondTenths=i.seconds*l+e[[0]],i}function ae(){H(),fe("stopped",B)}function le(){H(),W(b),fe("reset",B)}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=i(i({},A),e),me()||(W(e),fe("started",B))}function ce(){V(),R=!0,fe("paused",B)}function he(e,t){C.on(e,t)}function de(e,t){C.removeListener(e,t)}function pe(e){C.removeAllListeners(e)}function fe(e,t){C.emit(e,t)}function me(){return j}function ge(){return R}function ye(){return M}function ve(){return O}function xe(){return I}J(A),void 0!==this&&(this.start=ue,this.pause=ce,this.stop=ae,this.reset=le,this.isRunning=me,this.isPaused=ge,this.getTimeValues=ye,this.getTotalTimeValues=ve,this.getConfig=xe,this.addEventListener=he,this.on=he,this.removeEventListener=de,this.removeAllEventListeners=pe,this.off=de)}e.Timer=b,e.default=b,Object.defineProperty(e,"__esModule",{value:!0})}))},{}],ucSG:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.TAU=i.LEVEL_WIDTH=i.LEVEL_HEIGHT=i.KEYCODES_ARROWS=i.KEYCODES=i.FONT=i.CANVAS_SIZE=void 0;i.FONT={REGULAR:"Cervo Regular",MEDIUM:"Cervo Medium",LIGHT:"Cervo Light"};i.KEYCODES={W:"KeyW",S:"KeyS",A:"KeyA",D:"KeyD"};i.KEYCODES_ARROWS={W:"ArrowUp",S:"ArrowDown",A:"ArrowLeft",D:"ArrowRight"};var r=2*Math.PI;i.TAU=r;i.LEVEL_HEIGHT=13e3;i.LEVEL_WIDTH=1440;var n={WIDTH:Math.min(window.innerWidth,1440)};i.CANVAS_SIZE=n},{}],iReV:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.mainScene=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=s(t);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,i&&i.set(e,r);return r}(e("pixi.js")),n=e("./constants");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(s=function(e){return e?i:t})(e)}var o=new(function(){function e(){this.init()}return e.prototype.init=function(){var e=new r.Application({height:window.innerHeight,width:n.CANVAS_SIZE.WIDTH,antialias:!0});this.app=e},e}());i.mainScene=o},{"pixi.js":"DFIJ","./constants":"ucSG"}],WwR8:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=e("easytimer.js"),n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=a(t);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}r.default=e,i&&i.set(e,r);return r}(e("pixi.js")),s=e("./constants"),o=e("./scene");function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(a=function(e){return e?i:t})(e)}var l=function(){function e(e){var t=this;this.app=o.mainScene.app,this.timer=new r.Timer({countdown:!0,startValues:{minutes:1}}),this.initView(),this.timer.addEventListener("secondsUpdated",(function(e){var i=t.timer.getTimeValues().toString().split(":");i.shift(),t.timer.getTimeValues().seconds<=10&&(t.digits.style.fill="#E4002B"),t.digits.text=i.join(" : ")})),this.timer.addEventListener("targetAchieved",(function(t){e&&e()}))}return e.prototype.initView=function(){var e=new n.TextStyle({fill:"#84BD00",fontFamily:s.FONT.MEDIUM,fontSize:64});this.digits=new n.Text("01 : 00",e);var t=new n.Container;this.element=t;var i=new n.Graphics;i.beginFill(16777215),i.drawRoundedRect(0,0,240,104,16),i.endFill(),this.digits.x=i.width/2-this.digits.width/2,this.digits.y=i.height/2-this.digits.height/2,t.addChild(i),t.addChild(this.digits),t.x=this.app.view.width/2-t.width/2,t.y=24},Object.defineProperty(e.prototype,"time",{get:function(){return this.timer.getTimeValues().seconds},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.timer.start()},e.prototype.stop=function(){this.timer.stop()},e}();i.default=l},{"easytimer.js":"qlJw","pixi.js":"DFIJ","./constants":"ucSG","./scene":"iReV"}],TNS6:[function(e,t,i){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}
/*!
 * GSAP 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/Object.defineProperty(i,"__esModule",{value:!0}),i.wrapYoyo=i.wrap=i.unitize=i.toArray=i.splitColor=i.snap=i.shuffle=i.selector=i.random=i.pipe=i.normalize=i.mapRange=i.interpolate=i.gsap=i.getUnit=i.distribute=i.default=i.clamp=i._ticker=i._sortPropTweensByPriority=i._setDefaults=i._roundModifier=i._round=i._replaceRandom=i._renderComplexString=i._removeLinkedListItem=i._relExp=i._plugins=i._parseRelative=i._numWithUnitExp=i._numExp=i._missingPlugin=i._isUndefined=i._isString=i._getSetter=i._getProperty=i._getCache=i._forEachName=i._config=i._colorStringFilter=i._colorExp=i._checkPlugin=i.TweenMax=i.TweenLite=i.Tween=i.TimelineMax=i.TimelineLite=i.Timeline=i.Strong=i.SteppedEase=i.Sine=i.Quint=i.Quart=i.Quad=i.PropTween=i.Power4=i.Power3=i.Power2=i.Power1=i.Power0=i.Linear=i.GSCache=i.Expo=i.Elastic=i.Cubic=i.Circ=i.Bounce=i.Back=i.Animation=void 0;var s,o,a,l,u,c,h,d,p,f,m,g,y,v,x,_={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},b={duration:.5,overwrite:!1,delay:0},S=1e8,T=1e-8,w=2*Math.PI,E=w/4,P=0,A=Math.sqrt,M=Math.cos,O=Math.sin,C=function(e){return"string"==typeof e},j=function(e){return"function"==typeof e},R=function(e){return"number"==typeof e},I=function(e){return void 0===e},B=function(e){return"object"==typeof e},D=function(e){return!1!==e},k=function(){return"undefined"!=typeof window},F=function(e){return j(e)||C(e)},L="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},N=Array.isArray,U=/(?:-?\.?\d|\.)+/gi,G=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,H=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,V=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,W=/[+-]=-?[.\d]+/,z=/[^,'"\[\]\s]+/gi,Y=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,X={},q={},$=function(e){return(q=we(e,X))&&Ii},K=function(e,t){},Q=function(e,t){return!t&&void 0},Z=function(e,t){return e&&(X[e]=t)&&q&&(q[e]=t)||X},J=function(){return 0},ee={suppressEvents:!0,isStart:!0,kill:!1},te={suppressEvents:!0,kill:!1},ie={suppressEvents:!0},re={},ne=[],se={},oe={},ae={},le=30,ue=[],ce="",he=function(e){var t,i,r=e[0];if(B(r)||j(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(i=ue.length;i--&&!ue[i].targetTest(r););t=ue[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new Xt(e[i],t)))||e.splice(i,1);return e},de=function(e){return e._gsap||he(nt(e))[0]._gsap},pe=function(e,t,i){return(i=e[t])&&j(i)?e[t]():I(i)&&e.getAttribute&&e.getAttribute(t)||i},fe=function(e,t){return(e=e.split(",")).forEach(t)||e},me=function(e){return Math.round(1e5*e)/1e5||0},ge=function(e){return Math.round(1e7*e)/1e7||0},ye=function(e,t){var i=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===i?e+r:"-"===i?e-r:"*"===i?e*r:e/r},ve=function(e,t){for(var i=t.length,r=0;e.indexOf(t[r])<0&&++r<i;);return r<i},xe=function(){var e,t,i=ne.length,r=ne.slice(0);for(se={},ne.length=0,e=0;e<i;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},_e=function(e,t,i,r){ne.length&&!o&&xe(),e.render(t,i,r||o&&t<0&&(e._initted||e._startAt)),ne.length&&!o&&xe()},be=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(z).length<2?t:C(e)?e.trim():e},Se=function(e){return e},Te=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},we=function(e,t){for(var i in t)e[i]=t[i];return e},Ee=function e(t,i){for(var r in i)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=B(i[r])?e(t[r]||(t[r]={}),i[r]):i[r]);return t},Pe=function(e,t){var i,r={};for(i in e)i in t||(r[i]=e[i]);return r},Ae=function(e){var t,i=e.parent||l,r=e.keyframes?(t=N(e.keyframes),function(e,i){for(var r in i)r in e||"duration"===r&&t||"ease"===r||(e[r]=i[r])}):Te;if(D(e.inherit))for(;i;)r(e,i.vars.defaults),i=i.parent||i._dp;return e},Me=function(e,t,i,r,n){void 0===i&&(i="_first"),void 0===r&&(r="_last");var s,o=e[r];if(n)for(s=t[n];o&&o[n]>s;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},Oe=function(e,t,i,r){void 0===i&&(i="_first"),void 0===r&&(r="_last");var n=t._prev,s=t._next;n?n._next=s:e[i]===t&&(e[i]=s),s?s._prev=n:e[r]===t&&(e[r]=n),t._next=t._prev=t.parent=null},Ce=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},je=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},Re=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Ie=function(e,t,i,r){return e._startAt&&(o?e._startAt.revert(te):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},Be=function e(t){return!t||t._ts&&e(t.parent)},De=function(e){return e._repeat?ke(e._tTime,e=e.duration()+e._rDelay)*e:0},ke=function(e,t){var i=Math.floor(e/=t);return e&&i===e?i-1:i},Fe=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Le=function(e){return e._end=ge(e._start+(e._tDur/Math.abs(e._ts||e._rts||T)||0))},Ne=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=ge(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Le(e),i._dirty||je(i,e)),e},Ue=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=Fe(e.rawTime(),t),(!t._dur||Ze(0,t.totalDuration(),i)-t._tTime>T)&&t.render(i,!0)),je(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-1e-8}},Ge=function(e,t,i,r){return t.parent&&Ce(t),t._start=ge((R(i)?i:i||e!==l?$e(e,i,t):e._time)+t._delay),t._end=ge(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Me(e,t,"_first","_last",e._sort?"_start":0),ze(t)||(e._recent=t),r||Ue(e,t),e._ts<0&&Ne(e,e._tTime),e},He=function(e,t){return X.ScrollTrigger?X.ScrollTrigger.create(t,e):void 0},Ve=function(e,t,i,r,n){return ti(e,t,n),e._initted?!i&&e._pt&&!o&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&p!==Bt.frame?(ne.push(e),e._lazy=[n,r],1):void 0:1},We=function e(t){var i=t.parent;return i&&i._ts&&i._initted&&!i._lock&&(i.rawTime()<0||e(i))},ze=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},Ye=function(e,t,i,r){var n=e._repeat,s=ge(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=s/e._dur),e._dur=s,e._tDur=n?n<0?1e10:ge(s*(n+1)+e._rDelay*n):s,o>0&&!r&&Ne(e,e._tTime=e._tDur*o),e.parent&&Le(e),i||je(e.parent,e),e},Xe=function(e){return e instanceof $t?je(e):Ye(e,e._dur)},qe={_start:0,endTime:J,totalDuration:J},$e=function e(t,i,r){var n,s,o,a=t.labels,l=t._recent||qe,u=t.duration()>=S?l.endTime(!1):t._dur;return C(i)&&(isNaN(i)||i in a)?(s=i.charAt(0),o="%"===i.substr(-1),n=i.indexOf("="),"<"===s||">"===s?(n>=0&&(i=i.replace(/=/,"")),("<"===s?l._start:l.endTime(l._repeat>=0))+(parseFloat(i.substr(1))||0)*(o?(n<0?l:r).totalDuration()/100:1)):n<0?(i in a||(a[i]=u),a[i]):(s=parseFloat(i.charAt(n-1)+i.substr(n+1)),o&&r&&(s=s/100*(N(r)?r[0]:r).totalDuration()),n>1?e(t,i.substr(0,n-1),r)+s:u+s)):null==i?u:+i},Ke=function(e,t,i){var r,n,s=R(t[1]),o=(s?2:1)+(e<2?0:1),a=t[o];if(s&&(a.duration=t[1]),a.parent=i,e){for(r=a,n=i;n&&!("immediateRender"in r);)r=n.vars.defaults||{},n=D(n.vars.inherit)&&n.parent;a.immediateRender=D(r.immediateRender),e<2?a.runBackwards=1:a.startAt=t[o-1]}return new oi(t[0],a,t[o+1])},Qe=function(e,t){return e||0===e?t(e):t},Ze=function(e,t,i){return i<e?e:i>t?t:i},Je=function(e,t){return C(e)&&(t=Y.exec(e))?t[1]:""},et=function(e,t,i){return Qe(i,(function(i){return Ze(e,t,i)}))},tt=[].slice,it=function(e,t){return e&&B(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&B(e[0]))&&!e.nodeType&&e!==u},rt=function(e,t,i){return void 0===i&&(i=[]),e.forEach((function(e){var r;return C(e)&&!t||it(e,1)?(r=i).push.apply(r,nt(e)):i.push(e)}))||i},nt=function(e,t,i){return a&&!t&&a.selector?a.selector(e):!C(e)||i||!c&&Dt()?N(e)?rt(e,i):it(e)?tt.call(e,0):e?[e]:[]:tt.call((t||h).querySelectorAll(e),0)},st=function(e){return e=nt(e)[0]||Q()||{},function(t){var i=e.current||e.nativeElement||e;return nt(t,i.querySelectorAll?i:i===e?Q()||h.createElement("div"):e)}},ot=function(e){return e.sort((function(){return.5-Math.random()}))},at=function(e){if(j(e))return e;var t=B(e)?e:{each:e},i=Ht(t.ease),r=t.from||0,n=parseFloat(t.base)||0,s={},o=r>0&&r<1,a=isNaN(r)||o,l=t.axis,u=r,c=r;return C(r)?u=c={center:.5,edges:.5,end:1}[r]||0:!o&&a&&(u=r[0],c=r[1]),function(e,o,h){var d,p,f,m,g,y,v,x,_,b=(h||t).length,T=s[b];if(!T){if(!(_="auto"===t.grid?0:(t.grid||[1,S])[1])){for(v=-S;v<(v=h[_++].getBoundingClientRect().left)&&_<b;);_--}for(T=s[b]=[],d=a?Math.min(_,b)*u-.5:r%_,p=_===S?0:a?b*c/_-.5:r/_|0,v=0,x=S,y=0;y<b;y++)f=y%_-d,m=p-(y/_|0),T[y]=g=l?Math.abs("y"===l?m:f):A(f*f+m*m),g>v&&(v=g),g<x&&(x=g);"random"===r&&ot(T),T.max=v-x,T.min=x,T.v=b=(parseFloat(t.amount)||parseFloat(t.each)*(_>b?b-1:l?"y"===l?b/_:_:Math.max(_,b/_))||0)*("edges"===r?-1:1),T.b=b<0?n-b:n,T.u=Je(t.amount||t.each)||0,i=i&&b<0?Ut(i):i}return b=(T[e]-T.min)/T.max||0,ge(T.b+(i?i(b):b)*T.v)+T.u}},lt=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=ge(Math.round(parseFloat(i)/e)*e*t);return(r-r%1)/t+(R(i)?0:Je(i))}},ut=function(e,t){var i,r,n=N(e);return!n&&B(e)&&(i=n=e.radius||S,e.values?(e=nt(e.values),(r=!R(e[0]))&&(i*=i)):e=lt(e.increment)),Qe(t,n?j(e)?function(t){return r=e(t),Math.abs(r-t)<=i?r:t}:function(t){for(var n,s,o=parseFloat(r?t.x:t),a=parseFloat(r?t.y:0),l=S,u=0,c=e.length;c--;)(n=r?(n=e[c].x-o)*n+(s=e[c].y-a)*s:Math.abs(e[c]-o))<l&&(l=n,u=c);return u=!i||l<=i?e[u]:t,r||u===t||R(t)?u:u+Je(t)}:lt(e))},ct=function(e,t,i,r){return Qe(N(e)?!t:!0===i?!!(i=0):!r,(function(){return N(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+.99*i))/i)*i*r)/r}))},ht=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},dt=function(e,t){return function(i){return e(parseFloat(i))+(t||Je(i))}},pt=function(e,t,i){return vt(e,t,0,1,i)},ft=function(e,t,i){return Qe(i,(function(i){return e[~~t(i)]}))},mt=function e(t,i,r){var n=i-t;return N(t)?ft(t,e(0,t.length),i):Qe(r,(function(e){return(n+(e-t)%n)%n+t}))},gt=function e(t,i,r){var n=i-t,s=2*n;return N(t)?ft(t,e(0,t.length-1),i):Qe(r,(function(e){return t+((e=(s+(e-t)%s)%s||0)>n?s-e:e)}))},yt=function(e){for(var t,i,r,n,s=0,o="";~(t=e.indexOf("random(",s));)r=e.indexOf(")",t),n="["===e.charAt(t+7),i=e.substr(t+7,r-t-7).match(n?z:U),o+=e.substr(s,t-s)+ct(n?i:+i[0],n?0:+i[1],+i[2]||1e-5),s=r+1;return o+e.substr(s,e.length-s)},vt=function(e,t,i,r,n){var s=t-e,o=r-i;return Qe(n,(function(t){return i+((t-e)/s*o||0)}))},xt=function e(t,i,r,n){var s=isNaN(t+i)?0:function(e){return(1-e)*t+e*i};if(!s){var o,a,l,u,c,h=C(t),d={};if(!0===r&&(n=1)&&(r=null),h)t={p:t},i={p:i};else if(N(t)&&!N(i)){for(l=[],u=t.length,c=u-2,a=1;a<u;a++)l.push(e(t[a-1],t[a]));u--,s=function(e){e*=u;var t=Math.min(c,~~e);return l[t](e-t)},r=i}else n||(t=we(N(t)?[]:{},t));if(!l){for(o in i)Jt.call(d,t,o,"get",i[o]);s=function(e){return mi(e,d)||(h?t.p:t)}}}return Qe(r,s)},_t=function(e,t,i){var r,n,s,o=e.labels,a=S;for(r in o)(n=o[r]-t)<0==!!i&&n&&a>(n=Math.abs(n))&&(s=r,a=n);return s},bt=function(e,t,i){var r,n,s,o=e.vars,l=o[t],u=a,c=e._ctx;if(l)return r=o[t+"Params"],n=o.callbackScope||e,i&&ne.length&&xe(),c&&(a=c),s=r?l.apply(n,r):l.call(n),a=u,s},St=function(e){return Ce(e),e.scrollTrigger&&e.scrollTrigger.kill(!!o),e.progress()<1&&bt(e,"onInterrupt"),e},Tt=[],wt=function(e){if(k()&&e){var t=(e=!e.name&&e.default||e).name,i=j(e),r=t&&!i&&e.init?function(){this._props=[]}:e,n={init:J,render:mi,add:Jt,kill:yi,modifier:gi,rawVars:0},s={targetTest:0,get:0,getSetter:hi,aliases:{},register:0};if(Dt(),e!==r){if(oe[t])return;Te(r,Te(Pe(e,n),s)),we(r.prototype,we(n,Pe(e,s))),oe[r.prop=t]=r,e.targetTest&&(ue.push(r),re[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}Z(t,r),e.register&&e.register(Ii,r,_i)}else e&&Tt.push(e)},Et=255,Pt={aqua:[0,Et,Et],lime:[0,Et,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Et],navy:[0,0,128],white:[Et,Et,Et],olive:[128,128,0],yellow:[Et,Et,0],orange:[Et,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Et,0,0],pink:[Et,192,203],cyan:[0,Et,Et],transparent:[Et,Et,Et,0]},At=function(e,t,i){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(i-t)*e*6:e<.5?i:3*e<2?t+(i-t)*(2/3-e)*6:t)*Et+.5|0},Mt=function(e,t,i){var r,n,s,o,a,l,u,c,h,d,p=e?R(e)?[e>>16,e>>8&Et,e&Et]:0:Pt.black;if(!p){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),Pt[e])p=Pt[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),n=e.charAt(2),s=e.charAt(3),e="#"+r+r+n+n+s+s+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(p=parseInt(e.substr(1,6),16))>>16,p>>8&Et,p&Et,parseInt(e.substr(7),16)/255];p=[(e=parseInt(e.substr(1),16))>>16,e>>8&Et,e&Et]}else if("hsl"===e.substr(0,3))if(p=d=e.match(U),t){if(~e.indexOf("="))return p=e.match(G),i&&p.length<4&&(p[3]=1),p}else o=+p[0]%360/360,a=+p[1]/100,r=2*(l=+p[2]/100)-(n=l<=.5?l*(a+1):l+a-l*a),p.length>3&&(p[3]*=1),p[0]=At(o+1/3,r,n),p[1]=At(o,r,n),p[2]=At(o-1/3,r,n);else p=e.match(U)||Pt.transparent;p=p.map(Number)}return t&&!d&&(r=p[0]/Et,n=p[1]/Et,s=p[2]/Et,l=((u=Math.max(r,n,s))+(c=Math.min(r,n,s)))/2,u===c?o=a=0:(h=u-c,a=l>.5?h/(2-u-c):h/(u+c),o=u===r?(n-s)/h+(n<s?6:0):u===n?(s-r)/h+2:(r-n)/h+4,o*=60),p[0]=~~(o+.5),p[1]=~~(100*a+.5),p[2]=~~(100*l+.5)),i&&p.length<4&&(p[3]=1),p},Ot=function(e){var t=[],i=[],r=-1;return e.split(jt).forEach((function(e){var n=e.match(H)||[];t.push.apply(t,n),i.push(r+=n.length+1)})),t.c=i,t},Ct=function(e,t,i){var r,n,s,o,a="",l=(e+a).match(jt),u=t?"hsla(":"rgba(",c=0;if(!l)return e;if(l=l.map((function(e){return(e=Mt(e,t,1))&&u+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),i&&(s=Ot(e),(r=i.c).join(a)!==s.c.join(a)))for(o=(n=e.replace(jt,"1").split(H)).length-1;c<o;c++)a+=n[c]+(~r.indexOf(c)?l.shift()||u+"0,0,0,0)":(s.length?s:l.length?l:i).shift());if(!n)for(o=(n=e.split(jt)).length-1;c<o;c++)a+=n[c]+l[c];return a+n[o]},jt=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in Pt)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),Rt=/hsl[a]?\(/,It=function(e){var t,i=e.join(" ");if(jt.lastIndex=0,jt.test(i))return t=Rt.test(i),e[1]=Ct(e[1],t),e[0]=Ct(e[0],t,Ot(e[1])),!0},Bt=function(){var e,t,i,r,n,s,o=Date.now,a=500,l=33,p=o(),f=p,g=1e3/240,y=g,v=[],x=function i(u){var c,h,d,m,x=o()-f,_=!0===u;if(x>a&&(p+=x-l),((c=(d=(f+=x)-p)-y)>0||_)&&(m=++r.frame,n=d-1e3*r.time,r.time=d/=1e3,y+=c+(c>=g?4:g-c),h=1),_||(e=t(i)),h)for(s=0;s<v.length;s++)v[s](d,n,m,u)};return r={time:0,frame:0,tick:function(){x(!0)},deltaRatio:function(e){return n/(1e3/(e||60))},wake:function(){d&&(!c&&k()&&(u=c=window,h=u.document||{},X.gsap=Ii,(u.gsapVersions||(u.gsapVersions=[])).push(Ii.version),$(q||u.GreenSockGlobals||!u.gsap&&u||{}),i=u.requestAnimationFrame,Tt.forEach(wt)),e&&r.sleep(),t=i||function(e){return setTimeout(e,y-1e3*r.time+1|0)},m=1,x(2))},sleep:function(){(i?u.cancelAnimationFrame:clearTimeout)(e),m=0,t=J},lagSmoothing:function(e,t){a=e||1/0,l=Math.min(t||33,a)},fps:function(e){g=1e3/(e||240),y=1e3*r.time+g},add:function(e,t,i){var n=t?function(t,i,s,o){e(t,i,s,o),r.remove(n)}:e;return r.remove(e),v[i?"unshift":"push"](n),Dt(),n},remove:function(e,t){~(t=v.indexOf(e))&&v.splice(t,1)&&s>=t&&s--},_listeners:v}}(),Dt=function(){return!m&&Bt.wake()},kt={},Ft=/^[\d.\-M][\d.\-,\s]/,Lt=/["']/g,Nt=function(e){for(var t,i,r,n={},s=e.substr(1,e.length-3).split(":"),o=s[0],a=1,l=s.length;a<l;a++)i=s[a],t=a!==l-1?i.lastIndexOf(","):i.length,r=i.substr(0,t),n[o]=isNaN(r)?r.replace(Lt,"").trim():+r,o=i.substr(t+1).trim();return n},Ut=function(e){return function(t){return 1-e(1-t)}},Gt=function e(t,i){for(var r,n=t._first;n;)n instanceof $t?e(n,i):!n.vars.yoyoEase||n._yoyo&&n._repeat||n._yoyo===i||(n.timeline?e(n.timeline,i):(r=n._ease,n._ease=n._yEase,n._yEase=r,n._yoyo=i)),n=n._next},Ht=function(e,t){return e&&(j(e)?e:kt[e]||function(e){var t,i,r,n,s=(e+"").split("("),o=kt[s[0]];return o&&s.length>1&&o.config?o.config.apply(null,~e.indexOf("{")?[Nt(s[1])]:(t=e,i=t.indexOf("(")+1,r=t.indexOf(")"),n=t.indexOf("(",i),t.substring(i,~n&&n<r?t.indexOf(")",r+1):r)).split(",").map(be)):kt._CE&&Ft.test(e)?kt._CE("",e):o}(e))||t},Vt=function(e,t,i,r){void 0===i&&(i=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var n,s={easeIn:t,easeOut:i,easeInOut:r};return fe(e,(function(e){for(var t in kt[e]=X[e]=s,kt[n=e.toLowerCase()]=i,s)kt[n+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=kt[e+"."+t]=s[t]})),s},Wt=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},zt=function e(t,i,r){var n=i>=1?i:1,s=(r||(t?.3:.45))/(i<1?i:1),o=s/w*(Math.asin(1/n)||0),a=function(e){return 1===e?1:n*Math.pow(2,-10*e)*O((e-o)*s)+1},l="out"===t?a:"in"===t?function(e){return 1-a(1-e)}:Wt(a);return s=w/s,l.config=function(i,r){return e(t,i,r)},l},Yt=function e(t,i){void 0===i&&(i=1.70158);var r=function(e){return e?--e*e*((i+1)*e+i)+1:0},n="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:Wt(r);return n.config=function(i){return e(t,i)},n};i._ticker=Bt,i._colorStringFilter=It,i._colorExp=jt,i.splitColor=Mt,i.interpolate=xt,i.mapRange=vt,i._replaceRandom=yt,i.wrapYoyo=gt,i.wrap=mt,i.normalize=pt,i.unitize=dt,i.pipe=ht,i.random=ct,i.snap=ut,i._roundModifier=lt,i.distribute=at,i.shuffle=ot,i.selector=st,i.toArray=nt,i.clamp=et,i.getUnit=Je,i._removeLinkedListItem=Oe,i._setDefaults=Te,i._parseRelative=ye,i._round=me,i._forEachName=fe,i._getProperty=pe,i._getCache=de,i._plugins=oe,i._missingPlugin=K,i._relExp=W,i._numWithUnitExp=H,i._numExp=G,i._isUndefined=I,i._isString=C,i._config=_,fe("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var i=t<5?t+1:t;Vt(e+",Power"+(i-1),t?function(e){return Math.pow(e,i)}:function(e){return e},(function(e){return 1-Math.pow(1-e,i)}),(function(e){return e<.5?Math.pow(2*e,i)/2:1-Math.pow(2*(1-e),i)/2}))})),kt.Linear.easeNone=kt.none=kt.Linear.easeIn,Vt("Elastic",zt("in"),zt("out"),zt()),g=7.5625,v=1/(y=2.75),Vt("Bounce",(function(e){return 1-x(1-e)}),x=function(e){return e<v?g*e*e:e<.7272727272727273?g*Math.pow(e-1.5/y,2)+.75:e<.9090909090909092?g*(e-=2.25/y)*e+.9375:g*Math.pow(e-2.625/y,2)+.984375}),Vt("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),Vt("Circ",(function(e){return-(A(1-e*e)-1)})),Vt("Sine",(function(e){return 1===e?1:1-M(e*E)})),Vt("Back",Yt("in"),Yt("out"),Yt()),kt.SteppedEase=kt.steps=X.SteppedEase={config:function(e,t){void 0===e&&(e=1);var i=1/e,r=e+(t?0:1),n=t?1:0;return function(e){return((r*Ze(0,.99999999,e)|0)+n)*i}}},b.ease=kt["quad.out"],fe("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return ce+=e+","+e+"Params,"}));var Xt=function(e,t){this.id=P++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:pe,this.set=t?t.getSetter:hi};i.GSCache=Xt;var qt=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Ye(this,+e.duration,1,1),this.data=e.data,a&&(this._ctx=a,a.data.push(this)),m||Bt.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,Ye(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(Dt(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(Ne(this,e),!i._dp||i.parent||Ue(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&Ge(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===T||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),_e(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+De(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+De(this),t):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(e,t){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*i,t):this._repeat?ke(this._tTime,i)+1:1},t.timeScale=function(e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var t=this.parent&&this._ts?Fe(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(Ze(-Math.abs(this._delay),this._tDur,t),!0),Le(this),Re(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Dt(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==T&&(this._tTime-=T)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&Ge(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(D(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Fe(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=ie);var t=o;return o=e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),o=t,this},t.globalTime=function(e){for(var t=this,i=arguments.length?e:t.rawTime();t;)i=t._start+i/(t._ts||1),t=t._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(e):i},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,Xe(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,Xe(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime($e(this,e),D(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,D(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,i=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=i&&e<this.endTime(!0)-T))},t.eventCallback=function(e,t,i){var r=this.vars;return arguments.length>1?(t?(r[e]=t,i&&(r[e+"Params"]=i),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this;return new Promise((function(i){var r=j(e)?e:Se,n=function(){var e=t.then;t.then=null,j(r)&&(r=r(t))&&(r.then||r===t)&&(t.then=e),i(r),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?n():t._prom=n}))},t.kill=function(){St(this)},e}();i.Animation=qt,Te(qt.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var $t=function(e){function t(t,i){var n;return void 0===t&&(t={}),(n=e.call(this,t)||this).labels={},n.smoothChildTiming=!!t.smoothChildTiming,n.autoRemoveChildren=!!t.autoRemoveChildren,n._sort=D(t.sortChildren),l&&Ge(t.parent||l,r(n),i),t.reversed&&n.reverse(),t.paused&&n.paused(!0),t.scrollTrigger&&He(r(n),t.scrollTrigger),n}n(t,e);var i=t.prototype;return i.to=function(e,t,i){return Ke(0,arguments,this),this},i.from=function(e,t,i){return Ke(1,arguments,this),this},i.fromTo=function(e,t,i,r){return Ke(2,arguments,this),this},i.set=function(e,t,i){return t.duration=0,t.parent=this,Ae(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new oi(e,t,$e(this,i),1),this},i.call=function(e,t,i){return Ge(this,oi.delayedCall(0,e,t),i)},i.staggerTo=function(e,t,i,r,n,s,o){return i.duration=t,i.stagger=i.stagger||r,i.onComplete=s,i.onCompleteParams=o,i.parent=this,new oi(e,i,$e(this,n)),this},i.staggerFrom=function(e,t,i,r,n,s,o){return i.runBackwards=1,Ae(i).immediateRender=D(i.immediateRender),this.staggerTo(e,t,i,r,n,s,o)},i.staggerFromTo=function(e,t,i,r,n,s,o,a){return r.startAt=i,Ae(r).immediateRender=D(r.immediateRender),this.staggerTo(e,t,r,n,s,o,a)},i.render=function(e,t,i){var r,n,s,a,u,c,h,d,p,f,m,g,y=this._time,v=this._dirty?this.totalDuration():this._tDur,x=this._dur,_=e<=0?0:ge(e),b=this._zTime<0!=e<0&&(this._initted||!x);if(this!==l&&_>v&&e>=0&&(_=v),_!==this._tTime||i||b){if(y!==this._time&&x&&(_+=this._time-y,e+=this._time-y),r=_,p=this._start,c=!(d=this._ts),b&&(x||(y=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(m=this._yoyo,u=x+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*u+e,t,i);if(r=ge(_%u),_===v?(a=this._repeat,r=x):((a=~~(_/u))&&a===_/u&&(r=x,a--),r>x&&(r=x)),f=ke(this._tTime,u),!y&&this._tTime&&f!==a&&this._tTime-f*u-this._dur<=0&&(f=a),m&&1&a&&(r=x-r,g=1),a!==f&&!this._lock){var S=m&&1&f,w=S===(m&&1&a);if(a<f&&(S=!S),y=S?0:_%x?x:_,this._lock=1,this.render(y||(g?0:ge(a*u)),t,!x)._lock=0,this._tTime=_,!t&&this.parent&&bt(this,"onRepeat"),this.vars.repeatRefresh&&!g&&(this.invalidate()._lock=1),y&&y!==this._time||c!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(x=this._dur,v=this._tDur,w&&(this._lock=2,y=S?x:-1e-4,this.render(y,!0),this.vars.repeatRefresh&&!g&&this.invalidate()),this._lock=0,!this._ts&&!c)return this;Gt(this,g)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function(e,t,i){var r;if(i>t)for(r=e._first;r&&r._start<=i;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,ge(y),ge(r)),h&&(_-=r-(r=h._start))),this._tTime=_,this._time=r,this._act=!d,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,y=0),!y&&r&&!t&&!a&&(bt(this,"onStart"),this._tTime!==_))return this;if(r>=y&&e>=0)for(n=this._first;n;){if(s=n._next,(n._act||r>=n._start)&&n._ts&&h!==n){if(n.parent!==this)return this.render(e,t,i);if(n.render(n._ts>0?(r-n._start)*n._ts:(n._dirty?n.totalDuration():n._tDur)+(r-n._start)*n._ts,t,i),r!==this._time||!this._ts&&!c){h=0,s&&(_+=this._zTime=-1e-8);break}}n=s}else{n=this._last;for(var E=e<0?e:r;n;){if(s=n._prev,(n._act||E<=n._end)&&n._ts&&h!==n){if(n.parent!==this)return this.render(e,t,i);if(n.render(n._ts>0?(E-n._start)*n._ts:(n._dirty?n.totalDuration():n._tDur)+(E-n._start)*n._ts,t,i||o&&(n._initted||n._startAt)),r!==this._time||!this._ts&&!c){h=0,s&&(_+=this._zTime=E?-1e-8:T);break}}n=s}}if(h&&!t&&(this.pause(),h.render(r>=y?0:-1e-8)._zTime=r>=y?1:-1,this._ts))return this._start=p,Le(this),this.render(e,t,i);this._onUpdate&&!t&&bt(this,"onUpdate",!0),(_===v&&this._tTime>=this.totalDuration()||!_&&y)&&(p!==this._start&&Math.abs(d)===Math.abs(this._ts)||this._lock||((e||!x)&&(_===v&&this._ts>0||!_&&this._ts<0)&&Ce(this,1),t||e<0&&!y||!_&&!y&&v||(bt(this,_===v&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(_<v&&this.timeScale()>0)&&this._prom())))}return this},i.add=function(e,t){var i=this;if(R(t)||(t=$e(this,t,e)),!(e instanceof qt)){if(N(e))return e.forEach((function(e){return i.add(e,t)})),this;if(C(e))return this.addLabel(e,t);if(!j(e))return this;e=oi.delayedCall(0,e)}return this!==e?Ge(this,e,t):this},i.getChildren=function(e,t,i,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===r&&(r=-S);for(var n=[],s=this._first;s;)s._start>=r&&(s instanceof oi?t&&n.push(s):(i&&n.push(s),e&&n.push.apply(n,s.getChildren(!0,t,i)))),s=s._next;return n},i.getById=function(e){for(var t=this.getChildren(1,1,1),i=t.length;i--;)if(t[i].vars.id===e)return t[i]},i.remove=function(e){return C(e)?this.removeLabel(e):j(e)?this.killTweensOf(e):(Oe(this,e),e===this._recent&&(this._recent=this._last),je(this))},i.totalTime=function(t,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ge(Bt.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,i),this._forcing=0,this):this._tTime},i.addLabel=function(e,t){return this.labels[e]=$e(this,t),this},i.removeLabel=function(e){return delete this.labels[e],this},i.addPause=function(e,t,i){var r=oi.delayedCall(0,t||J,i);return r.data="isPause",this._hasPause=1,Ge(this,r,$e(this,e))},i.removePause=function(e){var t=this._first;for(e=$e(this,e);t;)t._start===e&&"isPause"===t.data&&Ce(t),t=t._next},i.killTweensOf=function(e,t,i){for(var r=this.getTweensOf(e,i),n=r.length;n--;)Kt!==r[n]&&r[n].kill(e,t);return this},i.getTweensOf=function(e,t){for(var i,r=[],n=nt(e),s=this._first,o=R(t);s;)s instanceof oi?ve(s._targets,n)&&(o?(!Kt||s._initted&&s._ts)&&s.globalTime(0)<=t&&s.globalTime(s.totalDuration())>t:!t||s.isActive())&&r.push(s):(i=s.getTweensOf(n,t)).length&&r.push.apply(r,i),s=s._next;return r},i.tweenTo=function(e,t){t=t||{};var i,r=this,n=$e(r,e),s=t,o=s.startAt,a=s.onStart,l=s.onStartParams,u=s.immediateRender,c=oi.to(r,Te({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:n,overwrite:"auto",duration:t.duration||Math.abs((n-(o&&"time"in o?o.time:r._time))/r.timeScale())||T,onStart:function(){if(r.pause(),!i){var e=t.duration||Math.abs((n-(o&&"time"in o?o.time:r._time))/r.timeScale());c._dur!==e&&Ye(c,e,0,1).render(c._time,!0,!0),i=1}a&&a.apply(c,l||[])}},t));return u?c.render(0):c},i.tweenFromTo=function(e,t,i){return this.tweenTo(t,Te({startAt:{time:$e(this,e)}},i))},i.recent=function(){return this._recent},i.nextLabel=function(e){return void 0===e&&(e=this._time),_t(this,$e(this,e))},i.previousLabel=function(e){return void 0===e&&(e=this._time),_t(this,$e(this,e),1)},i.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+T)},i.shiftChildren=function(e,t,i){void 0===i&&(i=0);for(var r,n=this._first,s=this.labels;n;)n._start>=i&&(n._start+=e,n._end+=e),n=n._next;if(t)for(r in s)s[r]>=i&&(s[r]+=e);return je(this)},i.invalidate=function(t){var i=this._first;for(this._lock=0;i;)i.invalidate(t),i=i._next;return e.prototype.invalidate.call(this,t)},i.clear=function(e){void 0===e&&(e=!0);for(var t,i=this._first;i;)t=i._next,this.remove(i),i=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),je(this)},i.totalDuration=function(e){var t,i,r,n=0,s=this,o=s._last,a=S;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-e:e));if(s._dirty){for(r=s.parent;o;)t=o._prev,o._dirty&&o.totalDuration(),(i=o._start)>a&&s._sort&&o._ts&&!s._lock?(s._lock=1,Ge(s,o,i-o._delay,1)._lock=0):a=i,i<0&&o._ts&&(n-=i,(!r&&!s._dp||r&&r.smoothChildTiming)&&(s._start+=i/s._ts,s._time-=i,s._tTime-=i),s.shiftChildren(-i,!1,-Infinity),a=0),o._end>n&&o._ts&&(n=o._end),o=t;Ye(s,s===l&&s._time>n?s._time:n,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(e){if(l._ts&&(_e(l,Fe(e,l)),p=Bt.frame),Bt.frame>=le){le+=_.autoSleep||120;var t=l._first;if((!t||!t._ts)&&_.autoSleep&&Bt._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||Bt.sleep()}}},t}(qt);i.TimelineLite=i.TimelineMax=i.Timeline=$t,Te($t.prototype,{_lock:0,_hasPause:0,_forcing:0});var Kt,Qt,Zt=function(e,t,i,r,n,s,o){var a,l,u,c,h,d,p,f,m=new _i(this._pt,e,t,0,1,fi,null,n),g=0,y=0;for(m.b=i,m.e=r,i+="",(p=~(r+="").indexOf("random("))&&(r=yt(r)),s&&(s(f=[i,r],e,t),i=f[0],r=f[1]),l=i.match(V)||[];a=V.exec(r);)c=a[0],h=r.substring(g,a.index),u?u=(u+1)%5:"rgba("===h.substr(-5)&&(u=1),c!==l[y++]&&(d=parseFloat(l[y-1])||0,m._pt={_next:m._pt,p:h||1===y?h:",",s:d,c:"="===c.charAt(1)?ye(d,c)-d:parseFloat(c)-d,m:u&&u<4?Math.round:0},g=V.lastIndex);return m.c=g<r.length?r.substring(g,r.length):"",m.fp=o,(W.test(r)||p)&&(m.e=0),this._pt=m,m},Jt=function(e,t,i,r,n,s,o,a,l,u){j(r)&&(r=r(n||0,e,s));var c,h=e[t],d="get"!==i?i:j(h)?l?e[t.indexOf("set")||!j(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():h,p=j(h)?l?ui:li:ai;if(C(r)&&(~r.indexOf("random(")&&(r=yt(r)),"="===r.charAt(1)&&((c=ye(d,r)+(Je(d)||0))||0===c)&&(r=c)),!u||d!==r||Qt)return isNaN(d*r)||""===r?Zt.call(this,e,t,d,r,p,a||_.stringFilter,l):(c=new _i(this._pt,e,t,+d||0,r-(d||0),"boolean"==typeof h?pi:di,0,p),l&&(c.fp=l),o&&c.modifier(o,this,e),this._pt=c)},ei=function(e,t,i,r,n,s){var o,a,l,u;if(oe[e]&&!1!==(o=new oe[e]).init(n,o.rawVars?t[e]:function(e,t,i,r,n){if(j(e)&&(e=ri(e,n,t,i,r)),!B(e)||e.style&&e.nodeType||N(e)||L(e))return C(e)?ri(e,n,t,i,r):e;var s,o={};for(s in e)o[s]=ri(e[s],n,t,i,r);return o}(t[e],r,n,s,i),i,r,s)&&(i._pt=a=new _i(i._pt,n,e,0,1,o.render,o,0,o.priority),i!==f))for(l=i._ptLookup[i._targets.indexOf(n)],u=o._props.length;u--;)l[o._props[u]]=a;return o},ti=function e(t,i,r){var n,a,u,c,h,d,p,f,m,g,y,v,x,_=t.vars,w=_.ease,E=_.startAt,P=_.immediateRender,A=_.lazy,M=_.onUpdate,O=_.onUpdateParams,C=_.callbackScope,j=_.runBackwards,R=_.yoyoEase,I=_.keyframes,B=_.autoRevert,k=t._dur,F=t._startAt,L=t._targets,N=t.parent,U=N&&"nested"===N.data?N.vars.targets:L,G="auto"===t._overwrite&&!s,H=t.timeline;if(H&&(!I||!w)&&(w="none"),t._ease=Ht(w,b.ease),t._yEase=R?Ut(Ht(!0===R?w:R,b.ease)):0,R&&t._yoyo&&!t._repeat&&(R=t._yEase,t._yEase=t._ease,t._ease=R),t._from=!H&&!!_.runBackwards,!H||I&&!_.stagger){if(v=(f=L[0]?de(L[0]).harness:0)&&_[f.prop],n=Pe(_,re),F&&(F._zTime<0&&F.progress(1),i<0&&j&&P&&!B?F.render(-1,!0):F.revert(j&&k?te:ee),F._lazy=0),E){if(Ce(t._startAt=oi.set(L,Te({data:"isStart",overwrite:!1,parent:N,immediateRender:!0,lazy:!F&&D(A),startAt:null,delay:0,onUpdate:M,onUpdateParams:O,callbackScope:C,stagger:0},E))),t._startAt._dp=0,t._startAt._sat=t,i<0&&(o||!P&&!B)&&t._startAt.revert(te),P&&k&&i<=0&&r<=0)return void(i&&(t._zTime=i))}else if(j&&k&&!F)if(i&&(P=!1),u=Te({overwrite:!1,data:"isFromStart",lazy:P&&!F&&D(A),immediateRender:P,stagger:0,parent:N},n),v&&(u[f.prop]=v),Ce(t._startAt=oi.set(L,u)),t._startAt._dp=0,t._startAt._sat=t,i<0&&(o?t._startAt.revert(te):t._startAt.render(-1,!0)),t._zTime=i,P){if(!i)return}else e(t._startAt,T,T);for(t._pt=t._ptCache=0,A=k&&D(A)||A&&!k,a=0;a<L.length;a++){if(p=(h=L[a])._gsap||he(L)[a]._gsap,t._ptLookup[a]=g={},se[p.id]&&ne.length&&xe(),y=U===L?a:U.indexOf(h),f&&!1!==(m=new f).init(h,v||n,t,y,U)&&(t._pt=c=new _i(t._pt,h,m.name,0,1,m.render,m,0,m.priority),m._props.forEach((function(e){g[e]=c})),m.priority&&(d=1)),!f||v)for(u in n)oe[u]&&(m=ei(u,n,t,y,h,U))?m.priority&&(d=1):g[u]=c=Jt.call(t,h,u,"get",n[u],y,U,0,_.stringFilter);t._op&&t._op[a]&&t.kill(h,t._op[a]),G&&t._pt&&(Kt=t,l.killTweensOf(h,g,t.globalTime(i)),x=!t.parent,Kt=0),t._pt&&A&&(se[p.id]=1)}d&&xi(t),t._onInit&&t._onInit(t)}t._onUpdate=M,t._initted=(!t._op||t._pt)&&!x,I&&i<=0&&H.render(S,!0,!0)},ii=function(e,t,i,r){var n,s,o=t.ease||r||"power1.inOut";if(N(t))s=i[e]||(i[e]=[]),t.forEach((function(e,i){return s.push({t:i/(t.length-1)*100,v:e,e:o})}));else for(n in t)s=i[n]||(i[n]=[]),"ease"===n||s.push({t:parseFloat(e),v:t[n],e:o})},ri=function(e,t,i,r,n){return j(e)?e.call(t,i,r,n):C(e)&&~e.indexOf("random(")?yt(e):e},ni=ce+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",si={};i._checkPlugin=ei,fe(ni+",id,stagger,delay,duration,paused,scrollTrigger",(function(e){return si[e]=1}));var oi=function(e){function t(t,i,n,o){var a;"number"==typeof i&&(n.duration=i,i=n,n=null);var u,c,h,d,p,f,m,g,y=(a=e.call(this,o?i:Ae(i))||this).vars,v=y.duration,x=y.delay,b=y.immediateRender,S=y.stagger,T=y.overwrite,w=y.keyframes,E=y.defaults,P=y.scrollTrigger,A=y.yoyoEase,M=i.parent||l,O=(N(t)||L(t)?R(t[0]):"length"in i)?[t]:nt(t);if(a._targets=O.length?he(O):Q(0,!_.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=T,w||S||F(v)||F(x)){if(i=a.vars,(u=a.timeline=new $t({data:"nested",defaults:E||{},targets:M&&"nested"===M.data?M.vars.targets:O})).kill(),u.parent=u._dp=r(a),u._start=0,S||F(v)||F(x)){if(d=O.length,m=S&&at(S),B(S))for(p in S)~ni.indexOf(p)&&(g||(g={}),g[p]=S[p]);for(c=0;c<d;c++)(h=Pe(i,si)).stagger=0,A&&(h.yoyoEase=A),g&&we(h,g),f=O[c],h.duration=+ri(v,r(a),c,f,O),h.delay=(+ri(x,r(a),c,f,O)||0)-a._delay,!S&&1===d&&h.delay&&(a._delay=x=h.delay,a._start+=x,h.delay=0),u.to(f,h,m?m(c,f,O):0),u._ease=kt.none;u.duration()?v=x=0:a.timeline=0}else if(w){Ae(Te(u.vars.defaults,{ease:"none"})),u._ease=Ht(w.ease||i.ease||"none");var C,j,I,k=0;if(N(w))w.forEach((function(e){return u.to(O,e,">")})),u.duration();else{for(p in h={},w)"ease"===p||"easeEach"===p||ii(p,w[p],h,w.easeEach);for(p in h)for(C=h[p].sort((function(e,t){return e.t-t.t})),k=0,c=0;c<C.length;c++)(I={ease:(j=C[c]).e,duration:(j.t-(c?C[c-1].t:0))/100*v})[p]=j.v,u.to(O,I,k),k+=I.duration;u.duration()<v&&u.to({},{duration:v-u.duration()})}}v||a.duration(v=u.duration())}else a.timeline=0;return!0!==T||s||(Kt=r(a),l.killTweensOf(O),Kt=0),Ge(M,r(a),n),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(b||!v&&!w&&a._start===ge(M._time)&&D(b)&&Be(r(a))&&"nested"!==M.data)&&(a._tTime=-1e-8,a.render(Math.max(0,-x)||0)),P&&He(r(a),P),a}n(t,e);var i=t.prototype;return i.render=function(e,t,i){var r,n,s,a,l,u,c,h,d,p=this._time,f=this._tDur,m=this._dur,g=e<0,y=e>f-T&&!g?f:e<T?0:e;if(m){if(y!==this._tTime||!e||i||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==g){if(r=y,h=this.timeline,this._repeat){if(a=m+this._rDelay,this._repeat<-1&&g)return this.totalTime(100*a+e,t,i);if(r=ge(y%a),y===f?(s=this._repeat,r=m):((s=~~(y/a))&&s===y/a&&(r=m,s--),r>m&&(r=m)),(u=this._yoyo&&1&s)&&(d=this._yEase,r=m-r),l=ke(this._tTime,a),r===p&&!i&&this._initted)return this._tTime=y,this;s!==l&&(h&&this._yEase&&Gt(h,u),!this.vars.repeatRefresh||u||this._lock||(this._lock=i=1,this.render(ge(a*s),!0).invalidate()._lock=0))}if(!this._initted){if(Ve(this,g?e:r,i,t,y))return this._tTime=0,this;if(p!==this._time)return this;if(m!==this._dur)return this.render(e,t,i)}if(this._tTime=y,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(d||this._ease)(r/m),this._from&&(this.ratio=c=1-c),r&&!p&&!t&&!s&&(bt(this,"onStart"),this._tTime!==y))return this;for(n=this._pt;n;)n.r(c,n.d),n=n._next;h&&h.render(e<0?e:!r&&u?-1e-8:h._dur*h._ease(r/this._dur),t,i)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(g&&Ie(this,e,0,i),bt(this,"onUpdate")),this._repeat&&s!==l&&this.vars.onRepeat&&!t&&this.parent&&bt(this,"onRepeat"),y!==this._tDur&&y||this._tTime!==y||(g&&!this._onUpdate&&Ie(this,e,0,!0),(e||!m)&&(y===this._tDur&&this._ts>0||!y&&this._ts<0)&&Ce(this,1),t||g&&!p||!(y||p||u)||(bt(this,y===f?"onComplete":"onReverseComplete",!0),this._prom&&!(y<f&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,i,r){var n,s,a,l=e.ratio,u=t<0||!t&&(!e._start&&We(e)&&(e._initted||!ze(e))||(e._ts<0||e._dp._ts<0)&&!ze(e))?0:1,c=e._rDelay,h=0;if(c&&e._repeat&&(h=Ze(0,e._tDur,t),s=ke(h,c),e._yoyo&&1&s&&(u=1-u),s!==ke(e._tTime,c)&&(l=1-u,e.vars.repeatRefresh&&e._initted&&e.invalidate())),u!==l||o||r||e._zTime===T||!t&&e._zTime){if(!e._initted&&Ve(e,t,r,i,h))return;for(a=e._zTime,e._zTime=t||(i?T:0),i||(i=t&&!a),e.ratio=u,e._from&&(u=1-u),e._time=0,e._tTime=h,n=e._pt;n;)n.r(u,n.d),n=n._next;t<0&&Ie(e,t,0,!0),e._onUpdate&&!i&&bt(e,"onUpdate"),h&&e._repeat&&!i&&e.parent&&bt(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===u&&(u&&Ce(e,1),i||o||(bt(e,u?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,i);return this},i.targets=function(){return this._targets},i.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},i.resetTo=function(e,t,i,r){m||Bt.wake(),this._ts||this.play();var n=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||ti(this,n),function(e,t,i,r,n,s,o){var a,l,u,c,h=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!h)for(h=e._ptCache[t]=[],u=e._ptLookup,c=e._targets.length;c--;){if((a=u[c][t])&&a.d&&a.d._pt)for(a=a.d._pt;a&&a.p!==t&&a.fp!==t;)a=a._next;if(!a)return Qt=1,e.vars[t]="+=0",ti(e,o),Qt=0,1;h.push(a)}for(c=h.length;c--;)(a=(l=h[c])._pt||l).s=!r&&0!==r||n?a.s+(r||0)+s*a.c:r,a.c=i-a.s,l.e&&(l.e=me(i)+Je(l.e)),l.b&&(l.b=a.s+Je(l.b))}(this,e,t,i,r,this._ease(n/this._dur),n)?this.resetTo(e,t,i,r):(Ne(this,0),this.parent||Me(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},i.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t))return this._lazy=this._pt=0,this.parent?St(this):this;if(this.timeline){var i=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,Kt&&!0!==Kt.vars.overwrite)._first||St(this),this.parent&&i!==this.timeline.totalDuration()&&Ye(this,this._dur*this.timeline._tDur/i,0,1),this}var r,n,s,o,a,l,u,c=this._targets,h=e?nt(e):c,d=this._ptLookup,p=this._pt;if((!t||"all"===t)&&function(e,t){for(var i=e.length,r=i===t.length;r&&i--&&e[i]===t[i];);return i<0}(c,h))return"all"===t&&(this._pt=0),St(this);for(r=this._op=this._op||[],"all"!==t&&(C(t)&&(a={},fe(t,(function(e){return a[e]=1})),t=a),t=function(e,t){var i,r,n,s,o=e[0]?de(e[0]).harness:0,a=o&&o.aliases;if(!a)return t;for(r in i=we({},t),a)if(r in i)for(n=(s=a[r].split(",")).length;n--;)i[s[n]]=i[r];return i}(c,t)),u=c.length;u--;)if(~h.indexOf(c[u]))for(a in n=d[u],"all"===t?(r[u]=t,o=n,s={}):(s=r[u]=r[u]||{},o=t),o)(l=n&&n[a])&&("kill"in l.d&&!0!==l.d.kill(a)||Oe(this,l,"_pt"),delete n[a]),"all"!==s&&(s[a]=1);return this._initted&&!this._pt&&p&&St(this),this},t.to=function(e,i){return new t(e,i,arguments[2])},t.from=function(e,t){return Ke(1,arguments)},t.delayedCall=function(e,i,r,n){return new t(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:i,onReverseComplete:i,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:n})},t.fromTo=function(e,t,i){return Ke(2,arguments)},t.set=function(e,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new t(e,i)},t.killTweensOf=function(e,t,i){return l.killTweensOf(e,t,i)},t}(qt);i.TweenLite=i.TweenMax=i.Tween=oi,Te(oi.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),fe("staggerTo,staggerFrom,staggerFromTo",(function(e){oi[e]=function(){var t=new $t,i=tt.call(arguments,0);return i.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,i)}}));var ai=function(e,t,i){return e[t]=i},li=function(e,t,i){return e[t](i)},ui=function(e,t,i,r){return e[t](r.fp,i)},ci=function(e,t,i){return e.setAttribute(t,i)},hi=function(e,t){return j(e[t])?li:I(e[t])&&e.setAttribute?ci:ai},di=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},pi=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},fi=function(e,t){var i=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round(1e4*(i.s+i.c*e))/1e4)+r,i=i._next;r+=t.c}t.set(t.t,t.p,r,t)},mi=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},gi=function(e,t,i,r){for(var n,s=this._pt;s;)n=s._next,s.p===r&&s.modifier(e,t,i),s=n},yi=function(e){for(var t,i,r=this._pt;r;)i=r._next,r.p===e&&!r.op||r.op===e?Oe(this,r,"_pt"):r.dep||(t=1),r=i;return!t},vi=function(e,t,i,r){r.mSet(e,t,r.m.call(r.tween,i,r.mt),r)},xi=function(e){for(var t,i,r,n,s=e._pt;s;){for(t=s._next,i=r;i&&i.pr>s.pr;)i=i._next;(s._prev=i?i._prev:n)?s._prev._next=s:r=s,(s._next=i)?i._prev=s:n=s,s=t}e._pt=r};i._sortPropTweensByPriority=xi,i._renderComplexString=fi,i._getSetter=hi;var _i=function(){function e(e,t,i,r,n,s,o,a,l){this.t=t,this.s=r,this.c=n,this.p=i,this.r=s||di,this.d=o||this,this.set=a||ai,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,i){this.mSet=this.mSet||this.set,this.set=vi,this.m=e,this.mt=i,this.tween=t},e}();i.PropTween=_i,fe(ce+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return re[e]=1})),X.TweenMax=X.TweenLite=oi,X.TimelineLite=X.TimelineMax=$t,l=new $t({sortChildren:!1,defaults:b,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),_.stringFilter=It;var bi=[],Si={},Ti=[],wi=0,Ei=0,Pi=function(e){return(Si[e]||Ti).map((function(e){return e()}))},Ai=function(){var e=Date.now(),t=[];e-wi>2&&(Pi("matchMediaInit"),bi.forEach((function(e){var i,r,n,s,o=e.queries,a=e.conditions;for(r in o)(i=u.matchMedia(o[r]).matches)&&(n=1),i!==a[r]&&(a[r]=i,s=1);s&&(e.revert(),n&&t.push(e))})),Pi("matchMediaRevert"),t.forEach((function(e){return e.onMatch(e)})),wi=e,Pi("matchMedia"))},Mi=function(){function e(e,t){this.selector=t&&st(t),this.data=[],this._r=[],this.isReverted=!1,this.id=Ei++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,i){j(e)&&(i=t,t=e,e=j);var r=this,n=function(){var e,n=a,s=r.selector;return n&&n!==r&&n.data.push(r),i&&(r.selector=st(i)),a=r,e=t.apply(r,arguments),j(e)&&r._r.push(e),a=n,r.selector=s,r.isReverted=!1,e};return r.last=n,e===j?n(r):e?r[e]=n:n},t.ignore=function(e){var t=a;a=null,e(this),a=t},t.getTweens=function(){var t=[];return this.data.forEach((function(i){return i instanceof e?t.push.apply(t,i.getTweens()):i instanceof oi&&!(i.parent&&"nested"===i.parent.data)&&t.push(i)})),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var i=this;if(e){var r=this.getTweens();this.data.forEach((function(e){"isFlip"===e.data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(e){return r.splice(r.indexOf(e),1)})))})),r.map((function(e){return{g:e.globalTime(0),t:e}})).sort((function(e,t){return t.g-e.g||-1/0})).forEach((function(t){return t.t.revert(e)})),this.data.forEach((function(t){return!(t instanceof oi)&&t.revert&&t.revert(e)})),this._r.forEach((function(t){return t(e,i)})),this.isReverted=!0}else this.data.forEach((function(e){return e.kill&&e.kill()}));if(this.clear(),t)for(var n=bi.length;n--;)bi[n].id===this.id&&bi.splice(n,1)},t.revert=function(e){this.kill(e||{})},e}(),Oi=function(){function e(e){this.contexts=[],this.scope=e}var t=e.prototype;return t.add=function(e,t,i){B(e)||(e={matches:e});var r,n,s,o=new Mi(0,i||this.scope),l=o.conditions={};for(n in a&&!o.selector&&(o.selector=a.selector),this.contexts.push(o),t=o.add("onMatch",t),o.queries=e,e)"all"===n?s=1:(r=u.matchMedia(e[n]))&&(bi.indexOf(o)<0&&bi.push(o),(l[n]=r.matches)&&(s=1),r.addListener?r.addListener(Ai):r.addEventListener("change",Ai));return s&&t(o),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach((function(t){return t.kill(e,!0)}))},e}(),Ci={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach((function(e){return wt(e)}))},timeline:function(e){return new $t(e)},getTweensOf:function(e,t){return l.getTweensOf(e,t)},getProperty:function(e,t,i,r){C(e)&&(e=nt(e)[0]);var n=de(e||{}).get,s=i?Se:be;return"native"===i&&(i=""),e?t?s((oe[t]&&oe[t].get||n)(e,t,i,r)):function(t,i,r){return s((oe[t]&&oe[t].get||n)(e,t,i,r))}:e},quickSetter:function(e,t,i){if((e=nt(e)).length>1){var r=e.map((function(e){return Ii.quickSetter(e,t,i)})),n=r.length;return function(e){for(var t=n;t--;)r[t](e)}}e=e[0]||{};var s=oe[t],o=de(e),a=o.harness&&(o.harness.aliases||{})[t]||t,l=s?function(t){var r=new s;f._pt=0,r.init(e,i?t+i:t,f,0,[e]),r.render(1,r),f._pt&&mi(1,f)}:o.set(e,a);return s?l:function(t){return l(e,a,i?t+i:t,o,1)}},quickTo:function(e,t,i){var r,n=Ii.to(e,we(((r={})[t]="+=0.1",r.paused=!0,r),i||{})),s=function(e,i,r){return n.resetTo(t,e,i,r)};return s.tween=n,s},isTweening:function(e){return l.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ht(e.ease,b.ease)),Ee(b,e||{})},config:function(e){return Ee(_,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,r=e.plugins,n=e.defaults,s=e.extendTimeline;(r||"").split(",").forEach((function(e){return e&&!oe[e]&&!X[e]&&Q()})),ae[t]=function(e,t,r){return i(nt(e),Te(t||{},n),r)},s&&($t.prototype[t]=function(e,i,r){return this.add(ae[t](e,B(i)?i:(r=i)&&{},this),r)})},registerEase:function(e,t){kt[e]=Ht(t)},parseEase:function(e,t){return arguments.length?Ht(e,t):kt},getById:function(e){return l.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var i,r,n=new $t(e);for(n.smoothChildTiming=D(e.smoothChildTiming),l.remove(n),n._dp=0,n._time=n._tTime=l._time,i=l._first;i;)r=i._next,!t&&!i._dur&&i instanceof oi&&i.vars.onComplete===i._targets[0]||Ge(n,i,i._start-i._delay),i=r;return Ge(l,n,0),n},context:function(e,t){return e?new Mi(e,t):a},matchMedia:function(e){return new Oi(e)},matchMediaRefresh:function(){return bi.forEach((function(e){var t,i,r=e.conditions;for(i in r)r[i]&&(r[i]=!1,t=1);t&&e.revert()}))||Ai()},addEventListener:function(e,t){var i=Si[e]||(Si[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=Si[e],r=i&&i.indexOf(t);r>=0&&i.splice(r,1)},utils:{wrap:mt,wrapYoyo:gt,distribute:at,random:ct,snap:ut,normalize:pt,getUnit:Je,clamp:et,splitColor:Mt,toArray:nt,selector:st,mapRange:vt,pipe:ht,unitize:dt,interpolate:xt,shuffle:ot},install:$,effects:ae,ticker:Bt,updateRoot:$t.updateRoot,plugins:oe,globalTimeline:l,core:{PropTween:_i,globals:Z,Tween:oi,Timeline:$t,Animation:qt,getCache:de,_removeLinkedListItem:Oe,reverting:function(){return o},context:function(e){return e&&a&&(a.data.push(e),e._ctx=a),a},suppressOverwrites:function(e){return s=e}}};fe("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return Ci[e]=oi[e]})),Bt.add($t.updateRoot),f=Ci.to({},{duration:0});var ji=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},Ri=function(e,t){return{name:e,rawVars:1,init:function(e,i,r){r._onInit=function(e){var r,n;if(C(i)&&(r={},fe(i,(function(e){return r[e]=1})),i=r),t){for(n in r={},i)r[n]=t(i[n]);i=r}!function(e,t){var i,r,n,s=e._targets;for(i in t)for(r=s.length;r--;)(n=e._ptLookup[r][i])&&(n=n.d)&&(n._pt&&(n=ji(n,i)),n&&n.modifier&&n.modifier(t[i],e,s[r],i))}(e,i)}}}},Ii=Ci.registerPlugin({name:"attr",init:function(e,t,i,r,n){var s,o,a;for(s in this.tween=i,t)a=e.getAttribute(s)||"",(o=this.add(e,"setAttribute",(a||0)+"",t[s],r,n,0,0,s)).op=s,o.b=a,this._props.push(s)},render:function(e,t){for(var i=t._pt;i;)o?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},Ri("roundProps",lt),Ri("modifiers"),Ri("snap",ut))||Ci;i.default=i.gsap=Ii,oi.version=$t.version=Ii.version="3.12.2",d=1,k()&&Dt();var Bi=kt.Power0,Di=kt.Power1,ki=kt.Power2,Fi=kt.Power3,Li=kt.Power4,Ni=kt.Linear,Ui=kt.Quad,Gi=kt.Cubic,Hi=kt.Quart,Vi=kt.Quint,Wi=kt.Strong,zi=kt.Elastic,Yi=kt.Back,Xi=kt.SteppedEase,qi=kt.Bounce,$i=kt.Sine,Ki=kt.Expo,Qi=kt.Circ;i.Circ=Qi,i.Expo=Ki,i.Sine=$i,i.Bounce=qi,i.SteppedEase=Xi,i.Back=Yi,i.Elastic=zi,i.Strong=Wi,i.Quint=Vi,i.Quart=Hi,i.Cubic=Gi,i.Quad=Ui,i.Linear=Ni,i.Power4=Li,i.Power3=Fi,i.Power2=ki,i.Power1=Di,i.Power0=Bi},{}],bp4Z:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.checkPrefix=i._getBBox=i._createElement=i.CSSPlugin=void 0;var r,n,s,o,a,l,u,c,h=e("./gsap-core.js"),d={},p=180/Math.PI,f=Math.PI/180,m=Math.atan2,g=/([A-Z])/g,y=/(left|right|width|margin|padding|x)/i,v=/[\s,\(]\S/,x={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},b=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},S=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},T=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},w=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},E=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},P=function(e,t,i){return e.style[t]=i},A=function(e,t,i){return e.style.setProperty(t,i)},M=function(e,t,i){return e._gsap[t]=i},O=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},C=function(e,t,i,r,n){var s=e._gsap;s.scaleX=s.scaleY=i,s.renderTransform(n,s)},j=function(e,t,i,r,n){var s=e._gsap;s[t]=i,s.renderTransform(n,s)},R="transform",I=R+"Origin",B=function e(t,i){var r=this,n=this.target,s=n.style;if(t in d&&s){if(this.tfm=this.tfm||{},"transform"===t)return x.transform.split(",").forEach((function(t){return e.call(r,t,i)}));if(~(t=x[t]||t).indexOf(",")?t.split(",").forEach((function(e){return r.tfm[e]=Z(n,e)})):this.tfm[t]=n._gsap.x?n._gsap[t]:Z(n,t),this.props.indexOf(R)>=0)return;n._gsap.svg&&(this.svgo=n.getAttribute("data-svg-origin"),this.props.push(I,i,"")),t=R}(s||i)&&this.props.push(t,i,s[t])},D=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},k=function(){var e,t,i=this.props,r=this.target,n=r.style,s=r._gsap;for(e=0;e<i.length;e+=3)i[e+1]?r[i[e]]=i[e+2]:i[e+2]?n[i[e]]=i[e+2]:n.removeProperty("--"===i[e].substr(0,2)?i[e]:i[e].replace(g,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)s[t]=this.tfm[t];s.svg&&(s.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=u())&&e.isStart||n[R]||(D(n),s.uncache=1)}},F=function(e,t){var i={target:e,props:[],revert:k,save:B};return e._gsap||h.gsap.core.getCache(e),t&&t.split(",").forEach((function(e){return i.save(e)})),i},L=function(e,t){var i=n.createElementNS?n.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):n.createElement(e);return i.style?i:n.createElement(e)},N=function e(t,i,r){var n=getComputedStyle(t);return n[i]||n.getPropertyValue(i.replace(g,"-$1").toLowerCase())||n.getPropertyValue(i)||!r&&e(t,G(i)||i,1)||""},U="O,Moz,ms,Ms,Webkit".split(","),G=function(e,t,i){var r=(t||a).style,n=5;if(e in r&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);n--&&!(U[n]+e in r););return n<0?null:(3===n?"ms":n>=0?U[n]:"")+e},H=function(){"undefined"!=typeof window&&window.document&&(r=window,n=r.document,s=n.documentElement,a=L("div")||{style:{}},L("div"),R=G(R),I=R+"Origin",a.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",c=!!G("perspective"),u=h.gsap.core.reverting,o=1)},V=function e(t){var i,r=L("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,o=this.nextSibling,a=this.style.cssText;if(s.appendChild(r),r.appendChild(this),this.style.display="block",t)try{i=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(e){}else this._gsapBBox&&(i=this._gsapBBox());return n&&(o?n.insertBefore(this,o):n.appendChild(this)),s.removeChild(r),this.style.cssText=a,i},W=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},z=function(e){var t;try{t=e.getBBox()}catch(i){t=V.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===V||(t=V.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+W(e,["x","cx","x1"])||0,y:+W(e,["y","cy","y1"])||0,width:0,height:0}},Y=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!z(e))},X=function(e,t){if(t){var i=e.style;t in d&&t!==I&&(t=R),i.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),i.removeProperty(t.replace(g,"-$1").toLowerCase())):i.removeAttribute(t)}},q=function(e,t,i,r,n,s){var o=new h.PropTween(e._pt,t,i,0,1,s?E:w);return e._pt=o,o.b=r,o.e=n,e._props.push(i),o},$={deg:1,rad:1,turn:1},K={grid:1,flex:1},Q=function e(t,i,r,s){var o,l,u,c,p=parseFloat(r)||0,f=(r+"").trim().substr((p+"").length)||"px",m=a.style,g=y.test(i),v="svg"===t.tagName.toLowerCase(),x=(v?"client":"offset")+(g?"Width":"Height"),_=100,b="px"===s,S="%"===s;return s===f||!p||$[s]||$[f]?p:("px"!==f&&!b&&(p=e(t,i,r,"px")),c=t.getCTM&&Y(t),!S&&"%"!==f||!d[i]&&!~i.indexOf("adius")?(m[g?"width":"height"]=_+(b?f:s),l=~i.indexOf("adius")||"em"===s&&t.appendChild&&!v?t:t.parentNode,c&&(l=(t.ownerSVGElement||{}).parentNode),l&&l!==n&&l.appendChild||(l=n.body),(u=l._gsap)&&S&&u.width&&g&&u.time===h._ticker.time&&!u.uncache?(0,h._round)(p/u.width*_):((S||"%"===f)&&!K[N(l,"display")]&&(m.position=N(t,"position")),l===t&&(m.position="static"),l.appendChild(a),o=a[x],l.removeChild(a),m.position="absolute",g&&S&&((u=(0,h._getCache)(l)).time=h._ticker.time,u.width=l[x]),(0,h._round)(b?o*p/_:o&&p?_/o*p:0))):(o=c?t.getBBox()[g?"width":"height"]:t[x],(0,h._round)(S?p/o*_:p/100*o)))},Z=function(e,t,i,r){var n;return o||H(),t in x&&"transform"!==t&&~(t=x[t]).indexOf(",")&&(t=t.split(",")[0]),d[t]&&"transform"!==t?(n=ue(e,r),n="transformOrigin"!==t?n[t]:n.svg?n.origin:ce(N(e,I))+" "+n.zOrigin+"px"):(!(n=e.style[t])||"auto"===n||r||~(n+"").indexOf("calc("))&&(n=ie[t]&&ie[t](e,t,i)||N(e,t)||(0,h._getProperty)(e,t)||("opacity"===t?1:0)),i&&!~(n+"").trim().indexOf(" ")?Q(e,t,n,i)+i:n},J=function(e,t,i,r){if(!i||"none"===i){var n=G(t,e,1),s=n&&N(e,n,1);s&&s!==i?(t=n,i=s):"borderColor"===t&&(i=N(e,"borderTopColor"))}var o,a,l,u,c,d,p,f,m,g,y,v=new h.PropTween(this._pt,e.style,t,0,1,h._renderComplexString),x=0,_=0;if(v.b=i,v.e=r,i+="","auto"===(r+="")&&(e.style[t]=r,r=N(e,t)||r,e.style[t]=i),o=[i,r],(0,h._colorStringFilter)(o),r=o[1],l=(i=o[0]).match(h._numWithUnitExp)||[],(r.match(h._numWithUnitExp)||[]).length){for(;a=h._numWithUnitExp.exec(r);)p=a[0],m=r.substring(x,a.index),c?c=(c+1)%5:"rgba("!==m.substr(-5)&&"hsla("!==m.substr(-5)||(c=1),p!==(d=l[_++]||"")&&(u=parseFloat(d)||0,y=d.substr((u+"").length),"="===p.charAt(1)&&(p=(0,h._parseRelative)(u,p)+y),f=parseFloat(p),g=p.substr((f+"").length),x=h._numWithUnitExp.lastIndex-g.length,g||(g=g||h._config.units[t]||y,x===r.length&&(r+=g,v.e+=g)),y!==g&&(u=Q(e,t,d,g)||0),v._pt={_next:v._pt,p:m||1===_?m:",",s:u,c:f-u,m:c&&c<4||"zIndex"===t?Math.round:0});v.c=x<r.length?r.substring(x,r.length):""}else v.r="display"===t&&"none"===r?E:w;return h._relExp.test(r)&&(v.e=0),this._pt=v,v},ee={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},te=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i,r,n,s=t.t,o=s.style,a=t.u,l=s._gsap;if("all"===a||!0===a)o.cssText="",r=1;else for(n=(a=a.split(",")).length;--n>-1;)i=a[n],d[i]&&(r=1,i="transformOrigin"===i?I:R),X(s,i);r&&(X(s,R),l&&(l.svg&&s.removeAttribute("transform"),ue(s,1),l.uncache=1,D(o)))}},ie={clearProps:function(e,t,i,r,n){if("isFromStart"!==n.data){var s=e._pt=new h.PropTween(e._pt,t,i,0,0,te);return s.u=r,s.pr=-10,s.tween=n,e._props.push(i),1}}},re=[1,0,0,1,0,0],ne={},se=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},oe=function(e){var t=N(e,R);return se(t)?re:t.substr(7).match(h._numExp).map(h._round)},ae=function(e,t){var i,r,n,o,a=e._gsap||(0,h._getCache)(e),l=e.style,u=oe(e);return a.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(n=e.transform.baseVal.consolidate().matrix).a,n.b,n.c,n.d,n.e,n.f]).join(",")?re:u:(u!==re||e.offsetParent||e===s||a.svg||(n=l.display,l.display="block",(i=e.parentNode)&&e.offsetParent||(o=1,r=e.nextElementSibling,s.appendChild(e)),u=oe(e),n?l.display=n:X(e,"display"),o&&(r?i.insertBefore(e,r):i?i.appendChild(e):s.removeChild(e))),t&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},le=function(e,t,i,r,n,s){var o,a,l,u=e._gsap,c=n||ae(e,!0),h=u.xOrigin||0,d=u.yOrigin||0,p=u.xOffset||0,f=u.yOffset||0,m=c[0],g=c[1],y=c[2],v=c[3],x=c[4],_=c[5],b=t.split(" "),S=parseFloat(b[0])||0,T=parseFloat(b[1])||0;i?c!==re&&(a=m*v-g*y)&&(l=S*(-g/a)+T*(m/a)-(m*_-g*x)/a,S=S*(v/a)+T*(-y/a)+(y*_-v*x)/a,T=l):(S=(o=z(e)).x+(~b[0].indexOf("%")?S/100*o.width:S),T=o.y+(~(b[1]||b[0]).indexOf("%")?T/100*o.height:T)),r||!1!==r&&u.smooth?(x=S-h,_=T-d,u.xOffset=p+(x*m+_*y)-x,u.yOffset=f+(x*g+_*v)-_):u.xOffset=u.yOffset=0,u.xOrigin=S,u.yOrigin=T,u.smooth=!!r,u.origin=t,u.originIsAbsolute=!!i,e.style[I]="0px 0px",s&&(q(s,u,"xOrigin",h,S),q(s,u,"yOrigin",d,T),q(s,u,"xOffset",p,u.xOffset),q(s,u,"yOffset",f,u.yOffset)),e.setAttribute("data-svg-origin",S+" "+T)},ue=function(e,t){var i=e._gsap||new h.GSCache(e);if("x"in i&&!t&&!i.uncache)return i;var r,n,s,o,a,l,u,d,g,y,v,x,_,b,S,T,w,E,P,A,M,O,C,j,B,D,k,F,L,U,G,H,V=e.style,W=i.scaleX<0,z="px",X="deg",q=getComputedStyle(e),$=N(e,I)||"0";return r=n=s=l=u=d=g=y=v=0,o=a=1,i.svg=!(!e.getCTM||!Y(e)),q.translate&&("none"===q.translate&&"none"===q.scale&&"none"===q.rotate||(V[R]=("none"!==q.translate?"translate3d("+(q.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==q.rotate?"rotate("+q.rotate+") ":"")+("none"!==q.scale?"scale("+q.scale.split(" ").join(",")+") ":"")+("none"!==q[R]?q[R]:"")),V.scale=V.rotate=V.translate="none"),b=ae(e,i.svg),i.svg&&(i.uncache?(B=e.getBBox(),$=i.xOrigin-B.x+"px "+(i.yOrigin-B.y)+"px",j=""):j=!t&&e.getAttribute("data-svg-origin"),le(e,j||$,!!j||i.originIsAbsolute,!1!==i.smooth,b)),x=i.xOrigin||0,_=i.yOrigin||0,b!==re&&(E=b[0],P=b[1],A=b[2],M=b[3],r=O=b[4],n=C=b[5],6===b.length?(o=Math.sqrt(E*E+P*P),a=Math.sqrt(M*M+A*A),l=E||P?m(P,E)*p:0,(g=A||M?m(A,M)*p+l:0)&&(a*=Math.abs(Math.cos(g*f))),i.svg&&(r-=x-(x*E+_*A),n-=_-(x*P+_*M))):(H=b[6],U=b[7],k=b[8],F=b[9],L=b[10],G=b[11],r=b[12],n=b[13],s=b[14],u=(S=m(H,L))*p,S&&(j=O*(T=Math.cos(-S))+k*(w=Math.sin(-S)),B=C*T+F*w,D=H*T+L*w,k=O*-w+k*T,F=C*-w+F*T,L=H*-w+L*T,G=U*-w+G*T,O=j,C=B,H=D),d=(S=m(-A,L))*p,S&&(T=Math.cos(-S),G=M*(w=Math.sin(-S))+G*T,E=j=E*T-k*w,P=B=P*T-F*w,A=D=A*T-L*w),l=(S=m(P,E))*p,S&&(j=E*(T=Math.cos(S))+P*(w=Math.sin(S)),B=O*T+C*w,P=P*T-E*w,C=C*T-O*w,E=j,O=B),u&&Math.abs(u)+Math.abs(l)>359.9&&(u=l=0,d=180-d),o=(0,h._round)(Math.sqrt(E*E+P*P+A*A)),a=(0,h._round)(Math.sqrt(C*C+H*H)),S=m(O,C),g=Math.abs(S)>2e-4?S*p:0,v=G?1/(G<0?-G:G):0),i.svg&&(j=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!se(N(e,R)),j&&e.setAttribute("transform",j))),Math.abs(g)>90&&Math.abs(g)<270&&(W?(o*=-1,g+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,g+=g<=0?180:-180)),t=t||i.uncache,i.x=r-((i.xPercent=r&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+z,i.y=n-((i.yPercent=n&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-n)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+z,i.z=s+z,i.scaleX=(0,h._round)(o),i.scaleY=(0,h._round)(a),i.rotation=(0,h._round)(l)+X,i.rotationX=(0,h._round)(u)+X,i.rotationY=(0,h._round)(d)+X,i.skewX=g+X,i.skewY=y+X,i.transformPerspective=v+z,(i.zOrigin=parseFloat($.split(" ")[2])||0)&&(V[I]=ce($)),i.xOffset=i.yOffset=0,i.force3D=h._config.force3D,i.renderTransform=i.svg?ye:c?ge:de,i.uncache=0,i},ce=function(e){return(e=e.split(" "))[0]+" "+e[1]},he=function(e,t,i){var r=(0,h.getUnit)(t);return(0,h._round)(parseFloat(t)+parseFloat(Q(e,"x",i+"px",r)))+r},de=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,ge(e,t)},pe="0deg",fe="0px",me=") ",ge=function(e,t){var i=t||this,r=i.xPercent,n=i.yPercent,s=i.x,o=i.y,a=i.z,l=i.rotation,u=i.rotationY,c=i.rotationX,h=i.skewX,d=i.skewY,p=i.scaleX,m=i.scaleY,g=i.transformPerspective,y=i.force3D,v=i.target,x=i.zOrigin,_="",b="auto"===y&&e&&1!==e||!0===y;if(x&&(c!==pe||u!==pe)){var S,T=parseFloat(u)*f,w=Math.sin(T),E=Math.cos(T);T=parseFloat(c)*f,S=Math.cos(T),s=he(v,s,w*S*-x),o=he(v,o,-Math.sin(T)*-x),a=he(v,a,E*S*-x+x)}g!==fe&&(_+="perspective("+g+me),(r||n)&&(_+="translate("+r+"%, "+n+"%) "),(b||s!==fe||o!==fe||a!==fe)&&(_+=a!==fe||b?"translate3d("+s+", "+o+", "+a+") ":"translate("+s+", "+o+me),l!==pe&&(_+="rotate("+l+me),u!==pe&&(_+="rotateY("+u+me),c!==pe&&(_+="rotateX("+c+me),h===pe&&d===pe||(_+="skew("+h+", "+d+me),1===p&&1===m||(_+="scale("+p+", "+m+me),v.style[R]=_||"translate(0, 0)"},ye=function(e,t){var i,r,n,s,o,a=t||this,l=a.xPercent,u=a.yPercent,c=a.x,d=a.y,p=a.rotation,m=a.skewX,g=a.skewY,y=a.scaleX,v=a.scaleY,x=a.target,_=a.xOrigin,b=a.yOrigin,S=a.xOffset,T=a.yOffset,w=a.forceCSS,E=parseFloat(c),P=parseFloat(d);p=parseFloat(p),m=parseFloat(m),(g=parseFloat(g))&&(m+=g=parseFloat(g),p+=g),p||m?(p*=f,m*=f,i=Math.cos(p)*y,r=Math.sin(p)*y,n=Math.sin(p-m)*-v,s=Math.cos(p-m)*v,m&&(g*=f,o=Math.tan(m-g),n*=o=Math.sqrt(1+o*o),s*=o,g&&(o=Math.tan(g),i*=o=Math.sqrt(1+o*o),r*=o)),i=(0,h._round)(i),r=(0,h._round)(r),n=(0,h._round)(n),s=(0,h._round)(s)):(i=y,s=v,r=n=0),(E&&!~(c+"").indexOf("px")||P&&!~(d+"").indexOf("px"))&&(E=Q(x,"x",c,"px"),P=Q(x,"y",d,"px")),(_||b||S||T)&&(E=(0,h._round)(E+_-(_*i+b*n)+S),P=(0,h._round)(P+b-(_*r+b*s)+T)),(l||u)&&(o=x.getBBox(),E=(0,h._round)(E+l/100*o.width),P=(0,h._round)(P+u/100*o.height)),o="matrix("+i+","+r+","+n+","+s+","+E+","+P+")",x.setAttribute("transform",o),w&&(x.style[R]=o)},ve=function(e,t,i,r,n){var s,o,a=360,l=(0,h._isString)(n),u=parseFloat(n)*(l&&~n.indexOf("rad")?p:1)-r,c=r+u+"deg";return l&&("short"===(s=n.split("_")[1])&&(u%=a)!==u%180&&(u+=u<0?a:-360),"cw"===s&&u<0?u=(u+36e9)%a-~~(u/a)*a:"ccw"===s&&u>0&&(u=(u-36e9)%a-~~(u/a)*a)),e._pt=o=new h.PropTween(e._pt,t,i,r,u,b),o.e=c,o.u="deg",e._props.push(i),o},xe=function(e,t){for(var i in t)e[i]=t[i];return e},_e=function(e,t,i){var r,n,s,o,a,l,u,c=xe({},i._gsap),p=i.style;for(n in c.svg?(s=i.getAttribute("transform"),i.setAttribute("transform",""),p[R]=t,r=ue(i,1),X(i,R),i.setAttribute("transform",s)):(s=getComputedStyle(i)[R],p[R]=t,r=ue(i,1),p[R]=s),d)(s=c[n])!==(o=r[n])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(n)<0&&(a=(0,h.getUnit)(s)!==(u=(0,h.getUnit)(o))?Q(i,n,s,u):parseFloat(s),l=parseFloat(o),e._pt=new h.PropTween(e._pt,r,n,a,l-a,_),e._pt.u=u||0,e._props.push(n));xe(r,c)};
/*!
 * CSSPlugin 3.12.2
 * https://greensock.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/i._getBBox=z,i.checkPrefix=G,i._createElement=L,(0,h._forEachName)("padding,margin,Width,Radius",(function(e,t){var i="Top",r="Right",n="Bottom",s="Left",o=(t<3?[i,r,n,s]:[i+s,i+r,n+r,n+s]).map((function(i){return t<2?e+i:"border"+i+e}));ie[t>1?"border"+e:e]=function(e,t,i,r,n){var s,a;if(arguments.length<4)return s=o.map((function(t){return Z(e,t,i)})),5===(a=s.join(" ")).split(s[0]).length?s[0]:a;s=(r+"").split(" "),a={},o.forEach((function(e,t){return a[e]=s[t]=s[t]||s[(t-1)/2|0]})),e.init(t,a,n)}}));var be,Se,Te,we={name:"css",register:H,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,r,n){var s,a,l,u,c,p,f,m,g,y,b,w,E,P,A,M,O,C,j,B,D=this._props,k=e.style,L=i.vars.startAt;for(f in o||H(),this.styles=this.styles||F(e),M=this.styles.props,this.tween=i,t)if("autoRound"!==f&&(a=t[f],!h._plugins[f]||!(0,h._checkPlugin)(f,t,i,r,e,n)))if(c=typeof a,p=ie[f],"function"===c&&(c=typeof(a=a.call(i,r,e,n))),"string"===c&&~a.indexOf("random(")&&(a=(0,h._replaceRandom)(a)),p)p(this,e,f,a,i)&&(A=1);else if("--"===f.substr(0,2))s=(getComputedStyle(e).getPropertyValue(f)+"").trim(),a+="",h._colorExp.lastIndex=0,h._colorExp.test(s)||(m=(0,h.getUnit)(s),g=(0,h.getUnit)(a)),g?m!==g&&(s=Q(e,f,s,g)+g):m&&(a+=m),this.add(k,"setProperty",s,a,r,n,0,0,f),D.push(f),M.push(f,0,k[f]);else if("undefined"!==c){if(L&&f in L?(s="function"==typeof L[f]?L[f].call(i,r,e,n):L[f],(0,h._isString)(s)&&~s.indexOf("random(")&&(s=(0,h._replaceRandom)(s)),(0,h.getUnit)(s+"")||(s+=h._config.units[f]||(0,h.getUnit)(Z(e,f))||""),"="===(s+"").charAt(1)&&(s=Z(e,f))):s=Z(e,f),u=parseFloat(s),(y="string"===c&&"="===a.charAt(1)&&a.substr(0,2))&&(a=a.substr(2)),l=parseFloat(a),f in x&&("autoAlpha"===f&&(1===u&&"hidden"===Z(e,"visibility")&&l&&(u=0),M.push("visibility",0,k.visibility),q(this,k,"visibility",u?"inherit":"hidden",l?"inherit":"hidden",!l)),"scale"!==f&&"transform"!==f&&~(f=x[f]).indexOf(",")&&(f=f.split(",")[0])),b=f in d)if(this.styles.save(f),w||((E=e._gsap).renderTransform&&!t.parseTransform||ue(e,t.parseTransform),P=!1!==t.smoothOrigin&&E.smooth,(w=this._pt=new h.PropTween(this._pt,k,R,0,1,E.renderTransform,E,0,-1)).dep=1),"scale"===f)this._pt=new h.PropTween(this._pt,E,"scaleY",E.scaleY,(y?(0,h._parseRelative)(E.scaleY,y+l):l)-E.scaleY||0,_),this._pt.u=0,D.push("scaleY",f),f+="X";else{if("transformOrigin"===f){M.push(I,0,k[I]),C=void 0,j=void 0,B=void 0,C=(O=a).split(" "),j=C[0],B=C[1]||"50%","top"!==j&&"bottom"!==j&&"left"!==B&&"right"!==B||(O=j,j=B,B=O),C[0]=ee[j]||j,C[1]=ee[B]||B,a=C.join(" "),E.svg?le(e,a,0,P,0,this):((g=parseFloat(a.split(" ")[2])||0)!==E.zOrigin&&q(this,E,"zOrigin",E.zOrigin,g),q(this,k,f,ce(s),ce(a)));continue}if("svgOrigin"===f){le(e,a,1,P,0,this);continue}if(f in ne){ve(this,E,f,u,y?(0,h._parseRelative)(u,y+a):a);continue}if("smoothOrigin"===f){q(this,E,"smooth",E.smooth,a);continue}if("force3D"===f){E[f]=a;continue}if("transform"===f){_e(this,a,e);continue}}else f in k||(f=G(f)||f);if(b||(l||0===l)&&(u||0===u)&&!v.test(a)&&f in k)l||(l=0),(m=(s+"").substr((u+"").length))!==(g=(0,h.getUnit)(a)||(f in h._config.units?h._config.units[f]:m))&&(u=Q(e,f,s,g)),this._pt=new h.PropTween(this._pt,b?E:k,f,u,(y?(0,h._parseRelative)(u,y+l):l)-u,b||"px"!==g&&"zIndex"!==f||!1===t.autoRound?_:T),this._pt.u=g||0,m!==g&&"%"!==g&&(this._pt.b=s,this._pt.r=S);else if(f in k)J.call(this,e,f,s,y?y+a:a);else if(f in e)this.add(e,f,s||e[f],y?y+a:a,r,n);else if("parseTransform"!==f){(0,h._missingPlugin)(f,a);continue}b||(f in k?M.push(f,0,k[f]):M.push(f,1,s||e[f])),D.push(f)}A&&(0,h._sortPropTweensByPriority)(this)},render:function(e,t){if(t.tween._time||!u())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:Z,aliases:x,getSetter:function(e,t,i){var r=x[t];return r&&r.indexOf(",")<0&&(t=r),t in d&&t!==I&&(e._gsap.x||Z(e,"x"))?i&&l===i?"scale"===t?O:M:(l=i||{})&&("scale"===t?C:j):e.style&&!(0,h._isUndefined)(e.style[t])?P:~t.indexOf("-")?A:(0,h._getSetter)(e,t)},core:{_removeProperty:X,_getMatrix:ae}};i.default=i.CSSPlugin=we,h.gsap.utils.checkPrefix=G,h.gsap.core.getStyleSaver=F,be="x,y,z,scale,scaleX,scaleY,xPercent,yPercent",Se="rotation,rotationX,rotationY,skewX,skewY",Te=(0,h._forEachName)(be+","+Se+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){d[e]=1})),(0,h._forEachName)(Se,(function(e){h._config.units[e]="deg",ne[e]=1})),x[Te[13]]=be+","+Se,(0,h._forEachName)("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");x[t[1]]=Te[t[0]]})),(0,h._forEachName)("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){h._config.units[e]="px"})),h.gsap.registerPlugin(we)},{"./gsap-core.js":"TNS6"}],TpQl:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"Back",{enumerable:!0,get:function(){return r.Back}}),Object.defineProperty(i,"Bounce",{enumerable:!0,get:function(){return r.Bounce}}),Object.defineProperty(i,"CSSPlugin",{enumerable:!0,get:function(){return n.CSSPlugin}}),Object.defineProperty(i,"Circ",{enumerable:!0,get:function(){return r.Circ}}),Object.defineProperty(i,"Cubic",{enumerable:!0,get:function(){return r.Cubic}}),Object.defineProperty(i,"Elastic",{enumerable:!0,get:function(){return r.Elastic}}),Object.defineProperty(i,"Expo",{enumerable:!0,get:function(){return r.Expo}}),Object.defineProperty(i,"Linear",{enumerable:!0,get:function(){return r.Linear}}),Object.defineProperty(i,"Power0",{enumerable:!0,get:function(){return r.Power0}}),Object.defineProperty(i,"Power1",{enumerable:!0,get:function(){return r.Power1}}),Object.defineProperty(i,"Power2",{enumerable:!0,get:function(){return r.Power2}}),Object.defineProperty(i,"Power3",{enumerable:!0,get:function(){return r.Power3}}),Object.defineProperty(i,"Power4",{enumerable:!0,get:function(){return r.Power4}}),Object.defineProperty(i,"Quad",{enumerable:!0,get:function(){return r.Quad}}),Object.defineProperty(i,"Quart",{enumerable:!0,get:function(){return r.Quart}}),Object.defineProperty(i,"Quint",{enumerable:!0,get:function(){return r.Quint}}),Object.defineProperty(i,"Sine",{enumerable:!0,get:function(){return r.Sine}}),Object.defineProperty(i,"SteppedEase",{enumerable:!0,get:function(){return r.SteppedEase}}),Object.defineProperty(i,"Strong",{enumerable:!0,get:function(){return r.Strong}}),Object.defineProperty(i,"TimelineLite",{enumerable:!0,get:function(){return r.TimelineLite}}),Object.defineProperty(i,"TimelineMax",{enumerable:!0,get:function(){return r.TimelineMax}}),Object.defineProperty(i,"TweenLite",{enumerable:!0,get:function(){return r.TweenLite}}),i.gsap=i.default=i.TweenMax=void 0;var r=e("./gsap-core.js"),n=e("./CSSPlugin.js"),s=r.gsap.registerPlugin(n.CSSPlugin)||r.gsap,o=s.core.Tween;i.TweenMax=o,i.default=i.gsap=s},{"./gsap-core.js":"TNS6","./CSSPlugin.js":"bp4Z"}],ssQZ:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=e("easytimer.js"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=u(t);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}r.default=e,i&&i.set(e,r);return r}(e("pixi.js")),o=e("./constants"),a=(r=e("gsap"))&&r.__esModule?r:{default:r},l=e("./scene");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(u=function(e){return e?i:t})(e)}var c=function(){function e(e){var t=this;this.app=l.mainScene.app,this.timer=new n.Timer({countdown:!0,startValues:{seconds:3}}),this.initView(),this.timer.addEventListener("secondsUpdated",(function(e){var i=t.timer.getTimeValues().seconds;t.digits.text=i}));var i=a.default.timeline();this.timer.addEventListener("targetAchieved",(function(r){i.to(t.container,{alpha:0}),i.to(t.overlay,{alpha:0},"<"),e&&(t.overlay.eventMode="none",e())}))}return e.prototype.initView=function(){var e=new s.TextStyle({fill:"#000",fontFamily:o.FONT.MEDIUM,fontSize:64});this.digits=new s.Text("3",e);var t=new s.Container,i=new s.Graphics;i.beginFill(16777215),i.drawRoundedRect(0,0,192,192,16),i.endFill(),this.digits.x=i.width/2-this.digits.width/2,this.digits.y=i.height/2-this.digits.height/2,t.addChild(i),t.addChild(this.digits),this.container=t,t.x=this.app.view.width/2-t.width/2,t.y=this.app.view.height/2-t.height/2;var r=new s.Graphics;r.beginFill(0,.2),r.drawRect(0,0,this.app.view.width,this.app.view.height),r.endFill(),this.overlay=r},e.prototype.start=function(){this.timer.start()},e.prototype.stop=function(){this.timer.stop()},e}();i.default=c},{"easytimer.js":"qlJw","pixi.js":"DFIJ","./constants":"ucSG",gsap:"TpQl","./scene":"iReV"}],ErSr:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.arrowScreenControls=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=o(t);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=n?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}r.default=e,i&&i.set(e,r);return r}(e("pixi.js")),n=e("./scene"),s=e("./constants");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(o=function(e){return e?i:t})(e)}var a=function(){function e(e){this.container=new r.Container,this.moveState={left:!1,right:!1,forward:!1,back:!1,sleep:!1},this.sprite=e,this.init()}return e.prototype.addToScene=function(){n.mainScene.app.stage.addChild(this.container)},e.prototype.init=function(){this.placeSprites(),this.initControls()},e.prototype.placeSprites=function(){var e=new r.Sprite(this.sprite),t=new r.Sprite(this.sprite),i=new r.Sprite(this.sprite),n=new r.Sprite(this.sprite);this.left=e,this.back=t,this.right=i,this.forward=n,e.anchor.set(.5),t.anchor.set(.5),i.anchor.set(.5),n.anchor.set(.5),e.rotation=-.25*s.TAU,t.rotation=.5*s.TAU,t.x=e.x+t.width+4,i.rotation=.25*s.TAU,i.x=t.x+i.width+4,n.x=t.x,n.y=-n.height-4,this.container.addChild(e,t,i,n),s.LEVEL_WIDTH<s.CANVAS_SIZE.WIDTH?this.container.x=s.LEVEL_WIDTH-this.container.width-90+n.width:(this.container.x=s.CANVAS_SIZE.WIDTH-this.container.width-90+n.width,s.CANVAS_SIZE.WIDTH<1024&&(this.container.x=s.CANVAS_SIZE.WIDTH-this.container.width-50+n.width)),window.innerWidth<1024?this.container.y=window.innerHeight-this.container.width-5+2*n.height:this.container.y=window.innerHeight-this.container.width-35+2*n.height},e.prototype.initControls=function(){var e=this;[this.left,this.back,this.right,this.forward].forEach((function(e,t){e.eventMode="static",e.cursor="pointer"})),this.left.on("pointerdown",(function(){e.moveState.left=!0,e.moveState.sleep=!1})),this.left.on("pointerup",(function(){e.moveState.left=!1,e.moveState.sleep=!0})),this.left.on("pointerout",(function(){e.moveState.left=!1,e.moveState.sleep=!1})),this.back.on("pointerdown",(function(){e.moveState.back=!0,e.moveState.sleep=!1})),this.back.on("pointerup",(function(){e.moveState.back=!1,e.moveState.sleep=!0})),this.back.on("pointerout",(function(){e.moveState.back=!1,e.moveState.sleep=!1})),this.right.on("pointerdown",(function(){e.moveState.right=!0,e.moveState.sleep=!1})),this.right.on("pointerup",(function(){e.moveState.right=!1,e.moveState.sleep=!0})),this.right.on("pointerout",(function(){e.moveState.right=!1,e.moveState.sleep=!1})),this.forward.on("pointerdown",(function(){e.moveState.forward=!0,e.moveState.sleep=!1})),this.forward.on("pointerup",(function(){e.moveState.forward=!1,e.moveState.sleep=!0})),this.forward.on("pointerout",(function(){e.moveState.forward=!1,e.moveState.sleep=!1}))},e}(),l=a;i.default=l;var u=new a;i.arrowScreenControls=u},{"pixi.js":"DFIJ","./scene":"iReV","./constants":"ucSG"}],mG0D:[function(e,t,i){var r,n,s,o=arguments[3];
/*!
 * matter-js 0.19.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
n=this,s=function(){return function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=20)}([function(e,t){var i={};e.exports=i,function(){i._baseDelta=1e3/60,i._nextId=0,i._seed=0,i._nowStartTime=+new Date,i._warnedOnce={},i._decomp=null,i.extend=function(e,t){var r,n;"boolean"==typeof t?(r=2,n=t):(r=1,n=!0);for(var s=r;s<arguments.length;s++){var o=arguments[s];if(o)for(var a in o)n&&o[a]&&o[a].constructor===Object?e[a]&&e[a].constructor!==Object?e[a]=o[a]:(e[a]=e[a]||{},i.extend(e[a],n,o[a])):e[a]=o[a]}return e},i.clone=function(e,t){return i.extend({},t,e)},i.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var i in e)t.push(i);return t},i.values=function(e){var t=[];if(Object.keys){for(var i=Object.keys(e),r=0;r<i.length;r++)t.push(e[i[r]]);return t}for(var n in e)t.push(e[n]);return t},i.get=function(e,t,i,r){t=t.split(".").slice(i,r);for(var n=0;n<t.length;n+=1)e=e[t[n]];return e},i.set=function(e,t,r,n,s){var o=t.split(".").slice(n,s);return i.get(e,t,0,-1)[o[o.length-1]]=r,r},i.shuffle=function(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(i.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e},i.choose=function(e){return e[Math.floor(i.random()*e.length)]},i.isElement=function(e){return"undefined"!=typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},i.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},i.isFunction=function(e){return"function"==typeof e},i.isPlainObject=function(e){return"object"==typeof e&&e.constructor===Object},i.isString=function(e){return"[object String]"===toString.call(e)},i.clamp=function(e,t,i){return e<t?t:e>i?i:e},i.sign=function(e){return e<0?-1:1},i.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-i._nowStartTime},i.random=function(t,i){return i=void 0!==i?i:1,(t=void 0!==t?t:0)+e()*(i-t)};var e=function(){return i._seed=(9301*i._seed+49297)%233280,i._seed/233280};i.colorToNumber=function(e){return 3==(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},i.logLevel=1,i.log=function(){console&&i.logLevel>0&&i.logLevel},i.info=function(){console&&i.logLevel>0&&i.logLevel},i.warn=function(){console&&i.logLevel>0&&i.logLevel},i.warnOnce=function(){var e=Array.prototype.slice.call(arguments).join(" ");i._warnedOnce[e]||(i.warn(e),i._warnedOnce[e]=!0)},i.deprecated=function(e,t,r){e[t]=i.chain((function(){i.warnOnce("🔅 deprecated 🔅",r)}),e[t])},i.nextId=function(){return i._nextId++},i.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1},i.map=function(e,t){if(e.map)return e.map(t);for(var i=[],r=0;r<e.length;r+=1)i.push(t(e[r]));return i},i.topologicalSort=function(e){var t=[],r=[],n=[];for(var s in e)r[s]||n[s]||i._topologicalSort(s,r,n,e,t);return t},i._topologicalSort=function(e,t,r,n,s){var o=n[e]||[];r[e]=!0;for(var a=0;a<o.length;a+=1){var l=o[a];r[l]||t[l]||i._topologicalSort(l,t,r,n,s)}r[e]=!1,t[e]=!0,s.push(e)},i.chain=function(){for(var e=[],t=0;t<arguments.length;t+=1){var i=arguments[t];i._chained?e.push.apply(e,i._chained):e.push(i)}var r=function(){for(var t,i=new Array(arguments.length),r=0,n=arguments.length;r<n;r++)i[r]=arguments[r];for(r=0;r<e.length;r+=1){var s=e[r].apply(t,i);void 0!==s&&(t=s)}return t};return r._chained=e,r},i.chainPathBefore=function(e,t,r){return i.set(e,t,i.chain(r,i.get(e,t)))},i.chainPathAfter=function(e,t,r){return i.set(e,t,i.chain(i.get(e,t),r))},i.setDecomp=function(e){i._decomp=e},i.getDecomp=function(){var e=i._decomp;try{e||"undefined"==typeof window||(e=window.decomp),e||void 0===o||(e=o.decomp)}catch(t){e=null}return e}}()},function(e,t){var i={};e.exports=i,i.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&i.update(t,e),t},i.update=function(e,t,i){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var r=0;r<t.length;r++){var n=t[r];n.x>e.max.x&&(e.max.x=n.x),n.x<e.min.x&&(e.min.x=n.x),n.y>e.max.y&&(e.max.y=n.y),n.y<e.min.y&&(e.min.y=n.y)}i&&(i.x>0?e.max.x+=i.x:e.min.x+=i.x,i.y>0?e.max.y+=i.y:e.min.y+=i.y)},i.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},i.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},i.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},i.shift=function(e,t){var i=e.max.x-e.min.x,r=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+i,e.min.y=t.y,e.max.y=t.y+r}},function(e,t){var i={};e.exports=i,i.create=function(e,t){return{x:e||0,y:t||0}},i.clone=function(e){return{x:e.x,y:e.y}},i.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},i.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},i.rotate=function(e,t,i){var r=Math.cos(t),n=Math.sin(t);i||(i={});var s=e.x*r-e.y*n;return i.y=e.x*n+e.y*r,i.x=s,i},i.rotateAbout=function(e,t,i,r){var n=Math.cos(t),s=Math.sin(t);r||(r={});var o=i.x+((e.x-i.x)*n-(e.y-i.y)*s);return r.y=i.y+((e.x-i.x)*s+(e.y-i.y)*n),r.x=o,r},i.normalise=function(e){var t=i.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},i.dot=function(e,t){return e.x*t.x+e.y*t.y},i.cross=function(e,t){return e.x*t.y-e.y*t.x},i.cross3=function(e,t,i){return(t.x-e.x)*(i.y-e.y)-(t.y-e.y)*(i.x-e.x)},i.add=function(e,t,i){return i||(i={}),i.x=e.x+t.x,i.y=e.y+t.y,i},i.sub=function(e,t,i){return i||(i={}),i.x=e.x-t.x,i.y=e.y-t.y,i},i.mult=function(e,t){return{x:e.x*t,y:e.y*t}},i.div=function(e,t){return{x:e.x/t,y:e.y/t}},i.perp=function(e,t){return{x:(t=!0===t?-1:1)*-e.y,y:t*e.x}},i.neg=function(e){return{x:-e.x,y:-e.y}},i.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},i._temp=[i.create(),i.create(),i.create(),i.create(),i.create(),i.create()]},function(e,t,i){var r={};e.exports=r;var n=i(2),s=i(0);r.create=function(e,t){for(var i=[],r=0;r<e.length;r++){var n=e[r],s={x:n.x,y:n.y,index:r,body:t,isInternal:!1};i.push(s)}return i},r.fromPath=function(e,t){var i=[];return e.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,(function(e,t,r){i.push({x:parseFloat(t),y:parseFloat(r)})})),r.create(i,t)},r.centre=function(e){for(var t,i,s,o=r.area(e,!0),a={x:0,y:0},l=0;l<e.length;l++)s=(l+1)%e.length,t=n.cross(e[l],e[s]),i=n.mult(n.add(e[l],e[s]),t),a=n.add(a,i);return n.div(a,6*o)},r.mean=function(e){for(var t={x:0,y:0},i=0;i<e.length;i++)t.x+=e[i].x,t.y+=e[i].y;return n.div(t,e.length)},r.area=function(e,t){for(var i=0,r=e.length-1,n=0;n<e.length;n++)i+=(e[r].x-e[n].x)*(e[r].y+e[n].y),r=n;return t?i/2:Math.abs(i)/2},r.inertia=function(e,t){for(var i,r,s=0,o=0,a=e,l=0;l<a.length;l++)r=(l+1)%a.length,s+=(i=Math.abs(n.cross(a[r],a[l])))*(n.dot(a[r],a[r])+n.dot(a[r],a[l])+n.dot(a[l],a[l])),o+=i;return t/6*(s/o)},r.translate=function(e,t,i){i=void 0!==i?i:1;var r,n=e.length,s=t.x*i,o=t.y*i;for(r=0;r<n;r++)e[r].x+=s,e[r].y+=o;return e},r.rotate=function(e,t,i){if(0!==t){var r,n,s,o,a=Math.cos(t),l=Math.sin(t),u=i.x,c=i.y,h=e.length;for(o=0;o<h;o++)n=(r=e[o]).x-u,s=r.y-c,r.x=u+(n*a-s*l),r.y=c+(n*l+s*a);return e}},r.contains=function(e,t){for(var i,r=t.x,n=t.y,s=e.length,o=e[s-1],a=0;a<s;a++){if(i=e[a],(r-o.x)*(i.y-o.y)+(n-o.y)*(o.x-i.x)>0)return!1;o=i}return!0},r.scale=function(e,t,i,s){if(1===t&&1===i)return e;var o,a;s=s||r.centre(e);for(var l=0;l<e.length;l++)o=e[l],a=n.sub(o,s),e[l].x=s.x+a.x*t,e[l].y=s.y+a.y*i;return e},r.chamfer=function(e,t,i,r,o){t="number"==typeof t?[t]:t||[8],i=void 0!==i?i:-1,r=r||2,o=o||14;for(var a=[],l=0;l<e.length;l++){var u=e[l-1>=0?l-1:e.length-1],c=e[l],h=e[(l+1)%e.length],d=t[l<t.length?l:t.length-1];if(0!==d){var p=n.normalise({x:c.y-u.y,y:u.x-c.x}),f=n.normalise({x:h.y-c.y,y:c.x-h.x}),m=Math.sqrt(2*Math.pow(d,2)),g=n.mult(s.clone(p),d),y=n.normalise(n.mult(n.add(p,f),.5)),v=n.sub(c,n.mult(y,m)),x=i;-1===i&&(x=1.75*Math.pow(d,.32)),(x=s.clamp(x,r,o))%2==1&&(x+=1);for(var _=Math.acos(n.dot(p,f))/x,b=0;b<x;b++)a.push(n.add(n.rotate(g,_*b),v))}else a.push(c)}return a},r.clockwiseSort=function(e){var t=r.mean(e);return e.sort((function(e,i){return n.angle(t,e)-n.angle(t,i)})),e},r.isConvex=function(e){var t,i,r,n,s=0,o=e.length;if(o<3)return null;for(t=0;t<o;t++)if(r=(t+2)%o,n=(e[i=(t+1)%o].x-e[t].x)*(e[r].y-e[i].y),(n-=(e[i].y-e[t].y)*(e[r].x-e[i].x))<0?s|=1:n>0&&(s|=2),3===s)return!1;return 0!==s||null},r.hull=function(e){var t,i,r=[],s=[];for((e=e.slice(0)).sort((function(e,t){var i=e.x-t.x;return 0!==i?i:e.y-t.y})),i=0;i<e.length;i+=1){for(t=e[i];s.length>=2&&n.cross3(s[s.length-2],s[s.length-1],t)<=0;)s.pop();s.push(t)}for(i=e.length-1;i>=0;i-=1){for(t=e[i];r.length>=2&&n.cross3(r[r.length-2],r[r.length-1],t)<=0;)r.pop();r.push(t)}return r.pop(),s.pop(),r.concat(s)}},function(e,t,i){var r={};e.exports=r;var n=i(3),s=i(2),o=i(7),a=i(0),l=i(1),u=i(11);!function(){r._timeCorrection=!0,r._inertiaScale=4,r._nextCollidingGroupId=1,r._nextNonCollidingGroupId=-1,r._nextCategory=1,r._baseDelta=1e3/60,r.create=function(t){var i={id:a.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:n.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:1e3/60,_original:null},r=a.extend(i,t);return e(r,t),r},r.nextGroup=function(e){return e?r._nextNonCollidingGroupId--:r._nextCollidingGroupId++},r.nextCategory=function(){return r._nextCategory=r._nextCategory<<1,r._nextCategory};var e=function(e,t){t=t||{},r.set(e,{bounds:e.bounds||l.create(e.vertices),positionPrev:e.positionPrev||s.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),n.rotate(e.vertices,e.angle,e.position),u.rotate(e.axes,e.angle),l.update(e.bounds,e.vertices,e.velocity),r.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia});var i=e.isStatic?"#14151f":a.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),o=e.isStatic?"#555":"#ccc",c=e.isStatic&&null===e.render.fillStyle?1:0;e.render.fillStyle=e.render.fillStyle||i,e.render.strokeStyle=e.render.strokeStyle||o,e.render.lineWidth=e.render.lineWidth||c,e.render.sprite.xOffset+=-(e.bounds.min.x-e.position.x)/(e.bounds.max.x-e.bounds.min.x),e.render.sprite.yOffset+=-(e.bounds.min.y-e.position.y)/(e.bounds.max.y-e.bounds.min.y)};r.set=function(e,t,i){var n;for(n in"string"==typeof t&&(n=t,(t={})[n]=i),t)if(Object.prototype.hasOwnProperty.call(t,n))switch(i=t[n],n){case"isStatic":r.setStatic(e,i);break;case"isSleeping":o.set(e,i);break;case"mass":r.setMass(e,i);break;case"density":r.setDensity(e,i);break;case"inertia":r.setInertia(e,i);break;case"vertices":r.setVertices(e,i);break;case"position":r.setPosition(e,i);break;case"angle":r.setAngle(e,i);break;case"velocity":r.setVelocity(e,i);break;case"angularVelocity":r.setAngularVelocity(e,i);break;case"speed":r.setSpeed(e,i);break;case"angularSpeed":r.setAngularSpeed(e,i);break;case"parts":r.setParts(e,i);break;case"centre":r.setCentre(e,i);break;default:e[n]=i}},r.setStatic=function(e,t){for(var i=0;i<e.parts.length;i++){var r=e.parts[i];r.isStatic=t,t?(r._original={restitution:r.restitution,friction:r.friction,mass:r.mass,inertia:r.inertia,density:r.density,inverseMass:r.inverseMass,inverseInertia:r.inverseInertia},r.restitution=0,r.friction=1,r.mass=r.inertia=r.density=1/0,r.inverseMass=r.inverseInertia=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.angularVelocity=0,r.speed=0,r.angularSpeed=0,r.motion=0):r._original&&(r.restitution=r._original.restitution,r.friction=r._original.friction,r.mass=r._original.mass,r.inertia=r._original.inertia,r.density=r._original.density,r.inverseMass=r._original.inverseMass,r.inverseInertia=r._original.inverseInertia,r._original=null)}},r.setMass=function(e,t){var i=e.inertia/(e.mass/6);e.inertia=i*(t/6),e.inverseInertia=1/e.inertia,e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},r.setDensity=function(e,t){r.setMass(e,t*e.area),e.density=t},r.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},r.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=n.create(t,e),e.axes=u.fromVertices(e.vertices),e.area=n.area(e.vertices),r.setMass(e,e.density*e.area);var i=n.centre(e.vertices);n.translate(e.vertices,i,-1),r.setInertia(e,r._inertiaScale*n.inertia(e.vertices,e.mass)),n.translate(e.vertices,e.position),l.update(e.bounds,e.vertices,e.velocity)},r.setParts=function(e,t,i){var s;for(t=t.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,s=0;s<t.length;s++){var o=t[s];o!==e&&(o.parent=e,e.parts.push(o))}if(1!==e.parts.length){if(i=void 0===i||i){var a=[];for(s=0;s<t.length;s++)a=a.concat(t[s].vertices);n.clockwiseSort(a);var l=n.hull(a),u=n.centre(l);r.setVertices(e,l),n.translate(e.vertices,u)}var c=r._totalProperties(e);e.area=c.area,e.parent=e,e.position.x=c.centre.x,e.position.y=c.centre.y,e.positionPrev.x=c.centre.x,e.positionPrev.y=c.centre.y,r.setMass(e,c.mass),r.setInertia(e,c.inertia),r.setPosition(e,c.centre)}},r.setCentre=function(e,t,i){i?(e.positionPrev.x+=t.x,e.positionPrev.y+=t.y,e.position.x+=t.x,e.position.y+=t.y):(e.positionPrev.x=t.x-(e.position.x-e.positionPrev.x),e.positionPrev.y=t.y-(e.position.y-e.positionPrev.y),e.position.x=t.x,e.position.y=t.y)},r.setPosition=function(e,t,i){var r=s.sub(t,e.position);i?(e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.velocity.x=r.x,e.velocity.y=r.y,e.speed=s.magnitude(r)):(e.positionPrev.x+=r.x,e.positionPrev.y+=r.y);for(var o=0;o<e.parts.length;o++){var a=e.parts[o];a.position.x+=r.x,a.position.y+=r.y,n.translate(a.vertices,r),l.update(a.bounds,a.vertices,e.velocity)}},r.setAngle=function(e,t,i){var r=t-e.angle;i?(e.anglePrev=e.angle,e.angularVelocity=r,e.angularSpeed=Math.abs(r)):e.anglePrev+=r;for(var o=0;o<e.parts.length;o++){var a=e.parts[o];a.angle+=r,n.rotate(a.vertices,r,e.position),u.rotate(a.axes,r),l.update(a.bounds,a.vertices,e.velocity),o>0&&s.rotateAbout(a.position,r,e.position,a.position)}},r.setVelocity=function(e,t){var i=e.deltaTime/r._baseDelta;e.positionPrev.x=e.position.x-t.x*i,e.positionPrev.y=e.position.y-t.y*i,e.velocity.x=(e.position.x-e.positionPrev.x)/i,e.velocity.y=(e.position.y-e.positionPrev.y)/i,e.speed=s.magnitude(e.velocity)},r.getVelocity=function(e){var t=r._baseDelta/e.deltaTime;return{x:(e.position.x-e.positionPrev.x)*t,y:(e.position.y-e.positionPrev.y)*t}},r.getSpeed=function(e){return s.magnitude(r.getVelocity(e))},r.setSpeed=function(e,t){r.setVelocity(e,s.mult(s.normalise(r.getVelocity(e)),t))},r.setAngularVelocity=function(e,t){var i=e.deltaTime/r._baseDelta;e.anglePrev=e.angle-t*i,e.angularVelocity=(e.angle-e.anglePrev)/i,e.angularSpeed=Math.abs(e.angularVelocity)},r.getAngularVelocity=function(e){return(e.angle-e.anglePrev)*r._baseDelta/e.deltaTime},r.getAngularSpeed=function(e){return Math.abs(r.getAngularVelocity(e))},r.setAngularSpeed=function(e,t){r.setAngularVelocity(e,a.sign(r.getAngularVelocity(e))*t)},r.translate=function(e,t,i){r.setPosition(e,s.add(e.position,t),i)},r.rotate=function(e,t,i,n){if(i){var s=Math.cos(t),o=Math.sin(t),a=e.position.x-i.x,l=e.position.y-i.y;r.setPosition(e,{x:i.x+(a*s-l*o),y:i.y+(a*o+l*s)},n),r.setAngle(e,e.angle+t,n)}else r.setAngle(e,e.angle+t,n)},r.scale=function(e,t,i,s){var o=0,a=0;s=s||e.position;for(var c=0;c<e.parts.length;c++){var h=e.parts[c];n.scale(h.vertices,t,i,s),h.axes=u.fromVertices(h.vertices),h.area=n.area(h.vertices),r.setMass(h,e.density*h.area),n.translate(h.vertices,{x:-h.position.x,y:-h.position.y}),r.setInertia(h,r._inertiaScale*n.inertia(h.vertices,h.mass)),n.translate(h.vertices,{x:h.position.x,y:h.position.y}),c>0&&(o+=h.area,a+=h.inertia),h.position.x=s.x+(h.position.x-s.x)*t,h.position.y=s.y+(h.position.y-s.y)*i,l.update(h.bounds,h.vertices,e.velocity)}e.parts.length>1&&(e.area=o,e.isStatic||(r.setMass(e,e.density*o),r.setInertia(e,a))),e.circleRadius&&(t===i?e.circleRadius*=t:e.circleRadius=null)},r.update=function(e,t){var i=(t=(void 0!==t?t:1e3/60)*e.timeScale)*t,o=r._timeCorrection?t/(e.deltaTime||t):1,c=1-e.frictionAir*(t/a._baseDelta),h=(e.position.x-e.positionPrev.x)*o,d=(e.position.y-e.positionPrev.y)*o;e.velocity.x=h*c+e.force.x/e.mass*i,e.velocity.y=d*c+e.force.y/e.mass*i,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.deltaTime=t,e.angularVelocity=(e.angle-e.anglePrev)*c*o+e.torque/e.inertia*i,e.anglePrev=e.angle,e.angle+=e.angularVelocity;for(var p=0;p<e.parts.length;p++){var f=e.parts[p];n.translate(f.vertices,e.velocity),p>0&&(f.position.x+=e.velocity.x,f.position.y+=e.velocity.y),0!==e.angularVelocity&&(n.rotate(f.vertices,e.angularVelocity,e.position),u.rotate(f.axes,e.angularVelocity),p>0&&s.rotateAbout(f.position,e.angularVelocity,e.position,f.position)),l.update(f.bounds,f.vertices,e.velocity)}},r.updateVelocities=function(e){var t=r._baseDelta/e.deltaTime,i=e.velocity;i.x=(e.position.x-e.positionPrev.x)*t,i.y=(e.position.y-e.positionPrev.y)*t,e.speed=Math.sqrt(i.x*i.x+i.y*i.y),e.angularVelocity=(e.angle-e.anglePrev)*t,e.angularSpeed=Math.abs(e.angularVelocity)},r.applyForce=function(e,t,i){var r=t.x-e.position.x,n=t.y-e.position.y;e.force.x+=i.x,e.force.y+=i.y,e.torque+=r*i.y-n*i.x},r._totalProperties=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},i=1===e.parts.length?0:1;i<e.parts.length;i++){var r=e.parts[i],n=r.mass!==1/0?r.mass:1;t.mass+=n,t.area+=r.area,t.inertia+=r.inertia,t.centre=s.add(t.centre,s.mult(r.position,n))}return t.centre=s.div(t.centre,t.mass),t}}()},function(e,t,i){var r={};e.exports=r;var n=i(0);r.on=function(e,t,i){for(var r,n=t.split(" "),s=0;s<n.length;s++)r=n[s],e.events=e.events||{},e.events[r]=e.events[r]||[],e.events[r].push(i);return i},r.off=function(e,t,i){if(t){"function"==typeof t&&(i=t,t=n.keys(e.events).join(" "));for(var r=t.split(" "),s=0;s<r.length;s++){var o=e.events[r[s]],a=[];if(i&&o)for(var l=0;l<o.length;l++)o[l]!==i&&a.push(o[l]);e.events[r[s]]=a}}else e.events={}},r.trigger=function(e,t,i){var r,s,o,a,l=e.events;if(l&&n.keys(l).length>0){i||(i={}),r=t.split(" ");for(var u=0;u<r.length;u++)if(o=l[s=r[u]]){(a=n.clone(i,!1)).name=s,a.source=e;for(var c=0;c<o.length;c++)o[c].apply(e,[a])}}}},function(e,t,i){var r={};e.exports=r;var n=i(5),s=i(0),o=i(1),a=i(4);r.create=function(e){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},r.setModified=function(e,t,i,n){if(e.isModified=t,t&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),i&&e.parent&&r.setModified(e.parent,t,i,n),n)for(var s=0;s<e.composites.length;s++){var o=e.composites[s];r.setModified(o,t,i,n)}},r.add=function(e,t){var i=[].concat(t);n.trigger(e,"beforeAdd",{object:t});for(var o=0;o<i.length;o++){var a=i[o];switch(a.type){case"body":if(a.parent!==a){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}r.addBody(e,a);break;case"constraint":r.addConstraint(e,a);break;case"composite":r.addComposite(e,a);break;case"mouseConstraint":r.addConstraint(e,a.constraint);break}}return n.trigger(e,"afterAdd",{object:t}),e},r.remove=function(e,t,i){var s=[].concat(t);n.trigger(e,"beforeRemove",{object:t});for(var o=0;o<s.length;o++){var a=s[o];switch(a.type){case"body":r.removeBody(e,a,i);break;case"constraint":r.removeConstraint(e,a,i);break;case"composite":r.removeComposite(e,a,i);break;case"mouseConstraint":r.removeConstraint(e,a.constraint);break}}return n.trigger(e,"afterRemove",{object:t}),e},r.addComposite=function(e,t){return e.composites.push(t),t.parent=e,r.setModified(e,!0,!0,!1),e},r.removeComposite=function(e,t,i){var n=s.indexOf(e.composites,t);if(-1!==n&&r.removeCompositeAt(e,n),i)for(var o=0;o<e.composites.length;o++)r.removeComposite(e.composites[o],t,!0);return e},r.removeCompositeAt=function(e,t){return e.composites.splice(t,1),r.setModified(e,!0,!0,!1),e},r.addBody=function(e,t){return e.bodies.push(t),r.setModified(e,!0,!0,!1),e},r.removeBody=function(e,t,i){var n=s.indexOf(e.bodies,t);if(-1!==n&&r.removeBodyAt(e,n),i)for(var o=0;o<e.composites.length;o++)r.removeBody(e.composites[o],t,!0);return e},r.removeBodyAt=function(e,t){return e.bodies.splice(t,1),r.setModified(e,!0,!0,!1),e},r.addConstraint=function(e,t){return e.constraints.push(t),r.setModified(e,!0,!0,!1),e},r.removeConstraint=function(e,t,i){var n=s.indexOf(e.constraints,t);if(-1!==n&&r.removeConstraintAt(e,n),i)for(var o=0;o<e.composites.length;o++)r.removeConstraint(e.composites[o],t,!0);return e},r.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),r.setModified(e,!0,!0,!1),e},r.clear=function(e,t,i){if(i)for(var n=0;n<e.composites.length;n++)r.clear(e.composites[n],t,!0);return t?e.bodies=e.bodies.filter((function(e){return e.isStatic})):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,r.setModified(e,!0,!0,!1),e},r.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var t=[].concat(e.bodies),i=0;i<e.composites.length;i++)t=t.concat(r.allBodies(e.composites[i]));return e.cache&&(e.cache.allBodies=t),t},r.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var t=[].concat(e.constraints),i=0;i<e.composites.length;i++)t=t.concat(r.allConstraints(e.composites[i]));return e.cache&&(e.cache.allConstraints=t),t},r.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var t=[].concat(e.composites),i=0;i<e.composites.length;i++)t=t.concat(r.allComposites(e.composites[i]));return e.cache&&(e.cache.allComposites=t),t},r.get=function(e,t,i){var n,s;switch(i){case"body":n=r.allBodies(e);break;case"constraint":n=r.allConstraints(e);break;case"composite":n=r.allComposites(e).concat(e);break}return n?0===(s=n.filter((function(e){return e.id.toString()===t.toString()}))).length?null:s[0]:null},r.move=function(e,t,i){return r.remove(e,t),r.add(i,t),e},r.rebase=function(e){for(var t=r.allBodies(e).concat(r.allConstraints(e)).concat(r.allComposites(e)),i=0;i<t.length;i++)t[i].id=s.nextId();return e},r.translate=function(e,t,i){for(var n=i?r.allBodies(e):e.bodies,s=0;s<n.length;s++)a.translate(n[s],t);return e},r.rotate=function(e,t,i,n){for(var s=Math.cos(t),o=Math.sin(t),l=n?r.allBodies(e):e.bodies,u=0;u<l.length;u++){var c=l[u],h=c.position.x-i.x,d=c.position.y-i.y;a.setPosition(c,{x:i.x+(h*s-d*o),y:i.y+(h*o+d*s)}),a.rotate(c,t)}return e},r.scale=function(e,t,i,n,s){for(var o=s?r.allBodies(e):e.bodies,l=0;l<o.length;l++){var u=o[l],c=u.position.x-n.x,h=u.position.y-n.y;a.setPosition(u,{x:n.x+c*t,y:n.y+h*i}),a.scale(u,t,i)}return e},r.bounds=function(e){for(var t=r.allBodies(e),i=[],n=0;n<t.length;n+=1){var s=t[n];i.push(s.bounds.min,s.bounds.max)}return o.create(i)}},function(e,t,i){var r={};e.exports=r;var n=i(4),s=i(5),o=i(0);r._motionWakeThreshold=.18,r._motionSleepThreshold=.08,r._minBias=.9,r.update=function(e,t){for(var i=t/o._baseDelta,s=r._motionSleepThreshold,a=0;a<e.length;a++){var l=e[a],u=n.getSpeed(l),c=n.getAngularSpeed(l),h=u*u+c*c;if(0===l.force.x&&0===l.force.y){var d=Math.min(l.motion,h),p=Math.max(l.motion,h);l.motion=r._minBias*d+(1-r._minBias)*p,l.sleepThreshold>0&&l.motion<s?(l.sleepCounter+=1,l.sleepCounter>=l.sleepThreshold/i&&r.set(l,!0)):l.sleepCounter>0&&(l.sleepCounter-=1)}else r.set(l,!1)}},r.afterCollisions=function(e){for(var t=r._motionSleepThreshold,i=0;i<e.length;i++){var n=e[i];if(n.isActive){var s=n.collision,o=s.bodyA.parent,a=s.bodyB.parent;if(!(o.isSleeping&&a.isSleeping||o.isStatic||a.isStatic)&&(o.isSleeping||a.isSleeping)){var l=o.isSleeping&&!o.isStatic?o:a,u=l===o?a:o;!l.isStatic&&u.motion>t&&r.set(l,!1)}}}},r.set=function(e,t){var i=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,i||s.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,i&&s.trigger(e,"sleepEnd"))}},function(e,t,i){var r={};e.exports=r;var n,s,o,a=i(3),l=i(9);n=[],s={overlap:0,axis:null},o={overlap:0,axis:null},r.create=function(e,t){return{pair:null,collided:!1,bodyA:e,bodyB:t,parentA:e.parent,parentB:t.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},r.collides=function(e,t,i){if(r._overlapAxes(s,e.vertices,t.vertices,e.axes),s.overlap<=0)return null;if(r._overlapAxes(o,t.vertices,e.vertices,t.axes),o.overlap<=0)return null;var n,u,c=i&&i.table[l.id(e,t)];c?n=c.collision:((n=r.create(e,t)).collided=!0,n.bodyA=e.id<t.id?e:t,n.bodyB=e.id<t.id?t:e,n.parentA=n.bodyA.parent,n.parentB=n.bodyB.parent),e=n.bodyA,t=n.bodyB,u=s.overlap<o.overlap?s:o;var h=n.normal,d=n.supports,p=u.axis,f=p.x,m=p.y;f*(t.position.x-e.position.x)+m*(t.position.y-e.position.y)<0?(h.x=f,h.y=m):(h.x=-f,h.y=-m),n.tangent.x=-h.y,n.tangent.y=h.x,n.depth=u.overlap,n.penetration.x=h.x*n.depth,n.penetration.y=h.y*n.depth;var g=r._findSupports(e,t,h,1),y=0;if(a.contains(e.vertices,g[0])&&(d[y++]=g[0]),a.contains(e.vertices,g[1])&&(d[y++]=g[1]),y<2){var v=r._findSupports(t,e,h,-1);a.contains(t.vertices,v[0])&&(d[y++]=v[0]),y<2&&a.contains(t.vertices,v[1])&&(d[y++]=v[1])}return 0===y&&(d[y++]=g[0]),d.length=y,n},r._overlapAxes=function(e,t,i,r){var n,s,o,a,l,u,c=t.length,h=i.length,d=t[0].x,p=t[0].y,f=i[0].x,m=i[0].y,g=r.length,y=Number.MAX_VALUE,v=0;for(l=0;l<g;l++){var x=r[l],_=x.x,b=x.y,S=d*_+p*b,T=f*_+m*b,w=S,E=T;for(u=1;u<c;u+=1)(a=t[u].x*_+t[u].y*b)>w?w=a:a<S&&(S=a);for(u=1;u<h;u+=1)(a=i[u].x*_+i[u].y*b)>E?E=a:a<T&&(T=a);if((n=(s=w-T)<(o=E-S)?s:o)<y&&(y=n,v=l,n<=0))break}e.axis=r[v],e.overlap=y},r._projectToAxis=function(e,t,i){for(var r=t[0].x*i.x+t[0].y*i.y,n=r,s=1;s<t.length;s+=1){var o=t[s].x*i.x+t[s].y*i.y;o>n?n=o:o<r&&(r=o)}e.min=r,e.max=n},r._findSupports=function(e,t,i,r){var s,o,a,l,u,c=t.vertices,h=c.length,d=e.position.x,p=e.position.y,f=i.x*r,m=i.y*r,g=Number.MAX_VALUE;for(u=0;u<h;u+=1)(l=f*(d-(o=c[u]).x)+m*(p-o.y))<g&&(g=l,s=o);return g=f*(d-(a=c[(h+s.index-1)%h]).x)+m*(p-a.y),f*(d-(o=c[(s.index+1)%h]).x)+m*(p-o.y)<g?(n[0]=s,n[1]=o,n):(n[0]=s,n[1]=a,n)}},function(e,t,i){var r={};e.exports=r;var n=i(16);r.create=function(e,t){var i=e.bodyA,n=e.bodyB,s={id:r.id(i,n),bodyA:i,bodyB:n,collision:e,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:i.isSensor||n.isSensor,timeCreated:t,timeUpdated:t,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return r.update(s,e,t),s},r.update=function(e,t,i){var r=e.contacts,s=t.supports,o=e.activeContacts,a=t.parentA,l=t.parentB,u=a.vertices.length;e.isActive=!0,e.timeUpdated=i,e.collision=t,e.separation=t.depth,e.inverseMass=a.inverseMass+l.inverseMass,e.friction=a.friction<l.friction?a.friction:l.friction,e.frictionStatic=a.frictionStatic>l.frictionStatic?a.frictionStatic:l.frictionStatic,e.restitution=a.restitution>l.restitution?a.restitution:l.restitution,e.slop=a.slop>l.slop?a.slop:l.slop,t.pair=e,o.length=0;for(var c=0;c<s.length;c++){var h=s[c],d=h.body===a?h.index:u+h.index,p=r[d];p?o.push(p):o.push(r[d]=n.create(h))}},r.setActive=function(e,t,i){t?(e.isActive=!0,e.timeUpdated=i):(e.isActive=!1,e.activeContacts.length=0)},r.id=function(e,t){return e.id<t.id?"A"+e.id+"B"+t.id:"A"+t.id+"B"+e.id}},function(e,t,i){var r={};e.exports=r;var n=i(3),s=i(2),o=i(7),a=i(1),l=i(11),u=i(0);r._warming=.4,r._torqueDampen=1,r._minLength=1e-6,r.create=function(e){var t=e;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var i=t.bodyA?s.add(t.bodyA.position,t.pointA):t.pointA,r=t.bodyB?s.add(t.bodyB.position,t.pointB):t.pointB,n=s.magnitude(s.sub(i,r));t.length=void 0!==t.length?t.length:n,t.id=t.id||u.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var o={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===t.length&&t.stiffness>.1?(o.type="pin",o.anchors=!1):t.stiffness<.9&&(o.type="spring"),t.render=u.extend(o,t.render),t},r.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var i=e[t],r=i.constraintImpulse;i.isStatic||0===r.x&&0===r.y&&0===r.angle||(i.position.x+=r.x,i.position.y+=r.y,i.angle+=r.angle)}},r.solveAll=function(e,t){for(var i=u.clamp(t/u._baseDelta,0,1),n=0;n<e.length;n+=1){var s=e[n],o=!s.bodyA||s.bodyA&&s.bodyA.isStatic,a=!s.bodyB||s.bodyB&&s.bodyB.isStatic;(o||a)&&r.solve(e[n],i)}for(n=0;n<e.length;n+=1)o=!(s=e[n]).bodyA||s.bodyA&&s.bodyA.isStatic,a=!s.bodyB||s.bodyB&&s.bodyB.isStatic,o||a||r.solve(e[n],i)},r.solve=function(e,t){var i=e.bodyA,n=e.bodyB,o=e.pointA,a=e.pointB;if(i||n){i&&!i.isStatic&&(s.rotate(o,i.angle-e.angleA,o),e.angleA=i.angle),n&&!n.isStatic&&(s.rotate(a,n.angle-e.angleB,a),e.angleB=n.angle);var l=o,u=a;if(i&&(l=s.add(i.position,o)),n&&(u=s.add(n.position,a)),l&&u){var c=s.sub(l,u),h=s.magnitude(c);h<r._minLength&&(h=r._minLength);var d,p,f,m,g,y=(h-e.length)/h,v=e.stiffness>=1||0===e.length?e.stiffness*t:e.stiffness*t*t,x=e.damping*t,_=s.mult(c,y*v),b=(i?i.inverseMass:0)+(n?n.inverseMass:0),S=b+((i?i.inverseInertia:0)+(n?n.inverseInertia:0));if(x>0){var T=s.create();f=s.div(c,h),g=s.sub(n&&s.sub(n.position,n.positionPrev)||T,i&&s.sub(i.position,i.positionPrev)||T),m=s.dot(f,g)}i&&!i.isStatic&&(p=i.inverseMass/b,i.constraintImpulse.x-=_.x*p,i.constraintImpulse.y-=_.y*p,i.position.x-=_.x*p,i.position.y-=_.y*p,x>0&&(i.positionPrev.x-=x*f.x*m*p,i.positionPrev.y-=x*f.y*m*p),d=s.cross(o,_)/S*r._torqueDampen*i.inverseInertia*(1-e.angularStiffness),i.constraintImpulse.angle-=d,i.angle-=d),n&&!n.isStatic&&(p=n.inverseMass/b,n.constraintImpulse.x+=_.x*p,n.constraintImpulse.y+=_.y*p,n.position.x+=_.x*p,n.position.y+=_.y*p,x>0&&(n.positionPrev.x+=x*f.x*m*p,n.positionPrev.y+=x*f.y*m*p),d=s.cross(a,_)/S*r._torqueDampen*n.inverseInertia*(1-e.angularStiffness),n.constraintImpulse.angle+=d,n.angle+=d)}}},r.postSolveAll=function(e){for(var t=0;t<e.length;t++){var i=e[t],u=i.constraintImpulse;if(!(i.isStatic||0===u.x&&0===u.y&&0===u.angle)){o.set(i,!1);for(var c=0;c<i.parts.length;c++){var h=i.parts[c];n.translate(h.vertices,u),c>0&&(h.position.x+=u.x,h.position.y+=u.y),0!==u.angle&&(n.rotate(h.vertices,u.angle,i.position),l.rotate(h.axes,u.angle),c>0&&s.rotateAbout(h.position,u.angle,i.position,h.position)),a.update(h.bounds,h.vertices,i.velocity)}u.angle*=r._warming,u.x*=r._warming,u.y*=r._warming}}},r.pointAWorld=function(e){return{x:(e.bodyA?e.bodyA.position.x:0)+(e.pointA?e.pointA.x:0),y:(e.bodyA?e.bodyA.position.y:0)+(e.pointA?e.pointA.y:0)}},r.pointBWorld=function(e){return{x:(e.bodyB?e.bodyB.position.x:0)+(e.pointB?e.pointB.x:0),y:(e.bodyB?e.bodyB.position.y:0)+(e.pointB?e.pointB.y:0)}}},function(e,t,i){var r={};e.exports=r;var n=i(2),s=i(0);r.fromVertices=function(e){for(var t={},i=0;i<e.length;i++){var r=(i+1)%e.length,o=n.normalise({x:e[r].y-e[i].y,y:e[i].x-e[r].x}),a=0===o.y?1/0:o.x/o.y;t[a=a.toFixed(3).toString()]=o}return s.values(t)},r.rotate=function(e,t){if(0!==t)for(var i=Math.cos(t),r=Math.sin(t),n=0;n<e.length;n++){var s,o=e[n];s=o.x*i-o.y*r,o.y=o.x*r+o.y*i,o.x=s}}},function(e,t,i){var r={};e.exports=r;var n=i(3),s=i(0),o=i(4),a=i(1),l=i(2);r.rectangle=function(e,t,i,r,a){a=a||{};var l={label:"Rectangle Body",position:{x:e,y:t},vertices:n.fromPath("L 0 0 L "+i+" 0 L "+i+" "+r+" L 0 "+r)};if(a.chamfer){var u=a.chamfer;l.vertices=n.chamfer(l.vertices,u.radius,u.quality,u.qualityMin,u.qualityMax),delete a.chamfer}return o.create(s.extend({},l,a))},r.trapezoid=function(e,t,i,r,a,l){l=l||{};var u,c=i*(a*=.5),h=c+(1-2*a)*i,d=h+c;u=a<.5?"L 0 0 L "+c+" "+-r+" L "+h+" "+-r+" L "+d+" 0":"L 0 0 L "+h+" "+-r+" L "+d+" 0";var p={label:"Trapezoid Body",position:{x:e,y:t},vertices:n.fromPath(u)};if(l.chamfer){var f=l.chamfer;p.vertices=n.chamfer(p.vertices,f.radius,f.quality,f.qualityMin,f.qualityMax),delete l.chamfer}return o.create(s.extend({},p,l))},r.circle=function(e,t,i,n,o){n=n||{};var a={label:"Circle Body",circleRadius:i};o=o||25;var l=Math.ceil(Math.max(10,Math.min(o,i)));return l%2==1&&(l+=1),r.polygon(e,t,l,i,s.extend({},a,n))},r.polygon=function(e,t,i,a,l){if(l=l||{},i<3)return r.circle(e,t,a,l);for(var u=2*Math.PI/i,c="",h=.5*u,d=0;d<i;d+=1){var p=h+d*u,f=Math.cos(p)*a,m=Math.sin(p)*a;c+="L "+f.toFixed(3)+" "+m.toFixed(3)+" "}var g={label:"Polygon Body",position:{x:e,y:t},vertices:n.fromPath(c)};if(l.chamfer){var y=l.chamfer;g.vertices=n.chamfer(g.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete l.chamfer}return o.create(s.extend({},g,l))},r.fromVertices=function(e,t,i,r,u,c,h,d){var p,f,m,g,y,v,x,_,b,S,T=s.getDecomp();for(p=Boolean(T&&T.quickDecomp),r=r||{},m=[],u=void 0!==u&&u,c=void 0!==c?c:.01,h=void 0!==h?h:10,d=void 0!==d?d:.01,s.isArray(i[0])||(i=[i]),b=0;b<i.length;b+=1)if(y=i[b],!(g=n.isConvex(y))&&!p&&s.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),g||!p)y=g?n.clockwiseSort(y):n.hull(y),m.push({position:{x:e,y:t},vertices:y});else{var w=y.map((function(e){return[e.x,e.y]}));T.makeCCW(w),!1!==c&&T.removeCollinearPoints(w,c),!1!==d&&T.removeDuplicatePoints&&T.removeDuplicatePoints(w,d);var E=T.quickDecomp(w);for(v=0;v<E.length;v++){var P=E[v].map((function(e){return{x:e[0],y:e[1]}}));h>0&&n.area(P)<h||m.push({position:n.centre(P),vertices:P})}}for(v=0;v<m.length;v++)m[v]=o.create(s.extend(m[v],r));if(u)for(v=0;v<m.length;v++){var A=m[v];for(x=v+1;x<m.length;x++){var M=m[x];if(a.overlaps(A.bounds,M.bounds)){var O=A.vertices,C=M.vertices;for(_=0;_<A.vertices.length;_++)for(S=0;S<M.vertices.length;S++){var j=l.magnitudeSquared(l.sub(O[(_+1)%O.length],C[S])),R=l.magnitudeSquared(l.sub(O[_],C[(S+1)%C.length]));j<5&&R<5&&(O[_].isInternal=!0,C[S].isInternal=!0)}}}}return m.length>1?(f=o.create(s.extend({parts:m.slice(0)},r)),o.setPosition(f,{x:e,y:t}),f):m[0]}},function(e,t,i){var r={};e.exports=r;var n=i(0),s=i(8);r.create=function(e){return n.extend({bodies:[],pairs:null},e)},r.setBodies=function(e,t){e.bodies=t.slice(0)},r.clear=function(e){e.bodies=[]},r.collisions=function(e){var t,i,n=[],o=e.pairs,a=e.bodies,l=a.length,u=r.canCollide,c=s.collides;for(a.sort(r._compareBoundsX),t=0;t<l;t++){var h=a[t],d=h.bounds,p=h.bounds.max.x,f=h.bounds.max.y,m=h.bounds.min.y,g=h.isStatic||h.isSleeping,y=h.parts.length,v=1===y;for(i=t+1;i<l;i++){var x=a[i];if((A=x.bounds).min.x>p)break;if(!(f<A.min.y||m>A.max.y)&&(!g||!x.isStatic&&!x.isSleeping)&&u(h.collisionFilter,x.collisionFilter)){var _=x.parts.length;if(v&&1===_)(E=c(h,x,o))&&n.push(E);else for(var b=_>1?1:0,S=y>1?1:0;S<y;S++)for(var T=h.parts[S],w=(d=T.bounds,b);w<_;w++){var E,P=x.parts[w],A=P.bounds;d.min.x>A.max.x||d.max.x<A.min.x||d.max.y<A.min.y||d.min.y>A.max.y||(E=c(T,P,o))&&n.push(E)}}}}return n},r.canCollide=function(e,t){return e.group===t.group&&0!==e.group?e.group>0:0!=(e.mask&t.category)&&0!=(t.mask&e.category)},r._compareBoundsX=function(e,t){return e.bounds.min.x-t.bounds.min.x}},function(e,t,i){var r={};e.exports=r;var n=i(0);r.create=function(e){var t={};return e||n.log("Mouse.create: element was undefined, defaulting to document.body","warn"),t.element=e||document.body,t.absolute={x:0,y:0},t.position={x:0,y:0},t.mousedownPosition={x:0,y:0},t.mouseupPosition={x:0,y:0},t.offset={x:0,y:0},t.scale={x:1,y:1},t.wheelDelta=0,t.button=-1,t.pixelRatio=parseInt(t.element.getAttribute("data-pixel-ratio"),10)||1,t.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},t.mousemove=function(e){var i=r._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&(t.button=0,e.preventDefault()),t.absolute.x=i.x,t.absolute.y=i.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.sourceEvents.mousemove=e},t.mousedown=function(e){var i=r._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches?(t.button=0,e.preventDefault()):t.button=e.button,t.absolute.x=i.x,t.absolute.y=i.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mousedownPosition.x=t.position.x,t.mousedownPosition.y=t.position.y,t.sourceEvents.mousedown=e},t.mouseup=function(e){var i=r._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&e.preventDefault(),t.button=-1,t.absolute.x=i.x,t.absolute.y=i.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mouseupPosition.x=t.position.x,t.mouseupPosition.y=t.position.y,t.sourceEvents.mouseup=e},t.mousewheel=function(e){t.wheelDelta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),e.preventDefault()},r.setElement(t,t.element),t},r.setElement=function(e,t){e.element=t,t.addEventListener("mousemove",e.mousemove),t.addEventListener("mousedown",e.mousedown),t.addEventListener("mouseup",e.mouseup),t.addEventListener("mousewheel",e.mousewheel),t.addEventListener("DOMMouseScroll",e.mousewheel),t.addEventListener("touchmove",e.mousemove),t.addEventListener("touchstart",e.mousedown),t.addEventListener("touchend",e.mouseup)},r.clearSourceEvents=function(e){e.sourceEvents.mousemove=null,e.sourceEvents.mousedown=null,e.sourceEvents.mouseup=null,e.sourceEvents.mousewheel=null,e.wheelDelta=0},r.setOffset=function(e,t){e.offset.x=t.x,e.offset.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},r.setScale=function(e,t){e.scale.x=t.x,e.scale.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},r._getRelativeMousePosition=function(e,t,i){var r,n,s=t.getBoundingClientRect(),o=document.documentElement||document.body.parentNode||document.body,a=void 0!==window.pageXOffset?window.pageXOffset:o.scrollLeft,l=void 0!==window.pageYOffset?window.pageYOffset:o.scrollTop,u=e.changedTouches;return u?(r=u[0].pageX-s.left-a,n=u[0].pageY-s.top-l):(r=e.pageX-s.left-a,n=e.pageY-s.top-l),{x:r/(t.clientWidth/(t.width||t.clientWidth)*i),y:n/(t.clientHeight/(t.height||t.clientHeight)*i)}}},function(e,t,i){var r={};e.exports=r;var n=i(0);r._registry={},r.register=function(e){if(r.isPlugin(e)||n.warn("Plugin.register:",r.toString(e),"does not implement all required fields."),e.name in r._registry){var t=r._registry[e.name],i=r.versionParse(e.version).number,s=r.versionParse(t.version).number;i>s?(n.warn("Plugin.register:",r.toString(t),"was upgraded to",r.toString(e)),r._registry[e.name]=e):i<s?n.warn("Plugin.register:",r.toString(t),"can not be downgraded to",r.toString(e)):e!==t&&n.warn("Plugin.register:",r.toString(e),"is already registered to different plugin object")}else r._registry[e.name]=e;return e},r.resolve=function(e){return r._registry[r.dependencyParse(e).name]},r.toString=function(e){return"string"==typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},r.isPlugin=function(e){return e&&e.name&&e.version&&e.install},r.isUsed=function(e,t){return e.used.indexOf(t)>-1},r.isFor=function(e,t){var i=e.for&&r.dependencyParse(e.for);return!e.for||t.name===i.name&&r.versionSatisfies(t.version,i.range)},r.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0!==e.uses.length){for(var i=r.dependencies(e),s=n.topologicalSort(i),o=[],a=0;a<s.length;a+=1)if(s[a]!==e.name){var l=r.resolve(s[a]);l?r.isUsed(e,l.name)||(r.isFor(l,e)||(n.warn("Plugin.use:",r.toString(l),"is for",l.for,"but installed on",r.toString(e)+"."),l._warned=!0),l.install?l.install(e):(n.warn("Plugin.use:",r.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(o.push("🔶 "+r.toString(l)),delete l._warned):o.push("✅ "+r.toString(l)),e.used.push(l.name)):o.push("❌ "+s[a])}o.length>0&&n.info(o.join("  "))}else n.warn("Plugin.use:",r.toString(e),"does not specify any dependencies to install.")},r.dependencies=function(e,t){var i=r.dependencyParse(e),s=i.name;if(!(s in(t=t||{}))){e=r.resolve(e)||e,t[s]=n.map(e.uses||[],(function(t){r.isPlugin(t)&&r.register(t);var s=r.dependencyParse(t),o=r.resolve(t);return o&&!r.versionSatisfies(o.version,s.range)?(n.warn("Plugin.dependencies:",r.toString(o),"does not satisfy",r.toString(s),"used by",r.toString(i)+"."),o._warned=!0,e._warned=!0):o||(n.warn("Plugin.dependencies:",r.toString(t),"used by",r.toString(i),"could not be resolved."),e._warned=!0),s.name}));for(var o=0;o<t[s].length;o+=1)r.dependencies(t[s][o],t);return t}},r.dependencyParse=function(e){return n.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(e)||n.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},r.versionParse=function(e){var t=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;t.test(e)||n.warn("Plugin.versionParse:",e,"is not a valid version or range.");var i=t.exec(e),r=Number(i[4]),s=Number(i[5]),o=Number(i[6]);return{isRange:Boolean(i[1]||i[2]),version:i[3],range:e,operator:i[1]||i[2]||"",major:r,minor:s,patch:o,parts:[r,s,o],prerelease:i[7],number:1e8*r+1e4*s+o}},r.versionSatisfies=function(e,t){t=t||"*";var i=r.versionParse(t),n=r.versionParse(e);if(i.isRange){if("*"===i.operator||"*"===e)return!0;if(">"===i.operator)return n.number>i.number;if(">="===i.operator)return n.number>=i.number;if("~"===i.operator)return n.major===i.major&&n.minor===i.minor&&n.patch>=i.patch;if("^"===i.operator)return i.major>0?n.major===i.major&&n.number>=i.number:i.minor>0?n.minor===i.minor&&n.patch>=i.patch:n.patch===i.patch}return e===t||"*"===e}},function(e,t){var i={};e.exports=i,i.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}},function(e,t,i){var r={};e.exports=r;var n=i(7),s=i(18),o=i(13),a=i(19),l=i(5),u=i(6),c=i(10),h=i(0),d=i(4);r.create=function(e){e=e||{};var t=h.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},e);return t.world=e.world||u.create({label:"World"}),t.pairs=e.pairs||a.create(),t.detector=e.detector||o.create(),t.grid={buckets:[]},t.world.gravity=t.gravity,t.broadphase=t.grid,t.metrics={},t},r.update=function(e,t){var i,d=h.now(),p=e.world,f=e.detector,m=e.pairs,g=e.timing,y=g.timestamp;t=void 0!==t?t:h._baseDelta,t*=g.timeScale,g.timestamp+=t,g.lastDelta=t;var v={timestamp:g.timestamp,delta:t};l.trigger(e,"beforeUpdate",v);var x=u.allBodies(p),_=u.allConstraints(p);for(p.isModified&&(o.setBodies(f,x),u.setModified(p,!1,!1,!0)),e.enableSleeping&&n.update(x,t),r._bodiesApplyGravity(x,e.gravity),t>0&&r._bodiesUpdate(x,t),c.preSolveAll(x),i=0;i<e.constraintIterations;i++)c.solveAll(_,t);c.postSolveAll(x),f.pairs=e.pairs;var b=o.collisions(f);a.update(m,b,y),e.enableSleeping&&n.afterCollisions(m.list),m.collisionStart.length>0&&l.trigger(e,"collisionStart",{pairs:m.collisionStart});var S=h.clamp(20/e.positionIterations,0,1);for(s.preSolvePosition(m.list),i=0;i<e.positionIterations;i++)s.solvePosition(m.list,t,S);for(s.postSolvePosition(x),c.preSolveAll(x),i=0;i<e.constraintIterations;i++)c.solveAll(_,t);for(c.postSolveAll(x),s.preSolveVelocity(m.list),i=0;i<e.velocityIterations;i++)s.solveVelocity(m.list,t);return r._bodiesUpdateVelocities(x),m.collisionActive.length>0&&l.trigger(e,"collisionActive",{pairs:m.collisionActive}),m.collisionEnd.length>0&&l.trigger(e,"collisionEnd",{pairs:m.collisionEnd}),r._bodiesClearForces(x),l.trigger(e,"afterUpdate",v),e.timing.lastElapsed=h.now()-d,e},r.merge=function(e,t){if(h.extend(e,t),t.world){e.world=t.world,r.clear(e);for(var i=u.allBodies(e.world),s=0;s<i.length;s++){var o=i[s];n.set(o,!1),o.id=h.nextId()}}},r.clear=function(e){a.clear(e.pairs),o.clear(e.detector)},r._bodiesClearForces=function(e){for(var t=e.length,i=0;i<t;i++){var r=e[i];r.force.x=0,r.force.y=0,r.torque=0}},r._bodiesApplyGravity=function(e,t){var i=void 0!==t.scale?t.scale:.001,r=e.length;if((0!==t.x||0!==t.y)&&0!==i)for(var n=0;n<r;n++){var s=e[n];s.isStatic||s.isSleeping||(s.force.y+=s.mass*t.y*i,s.force.x+=s.mass*t.x*i)}},r._bodiesUpdate=function(e,t){for(var i=e.length,r=0;r<i;r++){var n=e[r];n.isStatic||n.isSleeping||d.update(n,t)}},r._bodiesUpdateVelocities=function(e){for(var t=e.length,i=0;i<t;i++)d.updateVelocities(e[i])}},function(e,t,i){var r={};e.exports=r;var n=i(3),s=i(0),o=i(1);r._restingThresh=2,r._restingThreshTangent=Math.sqrt(6),r._positionDampen=.9,r._positionWarming=.8,r._frictionNormalMultiplier=5,r._frictionMaxStatic=Number.MAX_VALUE,r.preSolvePosition=function(e){var t,i,r,n=e.length;for(t=0;t<n;t++)(i=e[t]).isActive&&(r=i.activeContacts.length,i.collision.parentA.totalContacts+=r,i.collision.parentB.totalContacts+=r)},r.solvePosition=function(e,t,i){var n,o,a,l,u,c,h,d,p=r._positionDampen*(i||1),f=s.clamp(t/s._baseDelta,0,1),m=e.length;for(n=0;n<m;n++)(o=e[n]).isActive&&!o.isSensor&&(l=(a=o.collision).parentA,u=a.parentB,c=a.normal,o.separation=c.x*(u.positionImpulse.x+a.penetration.x-l.positionImpulse.x)+c.y*(u.positionImpulse.y+a.penetration.y-l.positionImpulse.y));for(n=0;n<m;n++)(o=e[n]).isActive&&!o.isSensor&&(l=(a=o.collision).parentA,u=a.parentB,c=a.normal,d=o.separation-o.slop*f,(l.isStatic||u.isStatic)&&(d*=2),l.isStatic||l.isSleeping||(h=p/l.totalContacts,l.positionImpulse.x+=c.x*d*h,l.positionImpulse.y+=c.y*d*h),u.isStatic||u.isSleeping||(h=p/u.totalContacts,u.positionImpulse.x-=c.x*d*h,u.positionImpulse.y-=c.y*d*h))},r.postSolvePosition=function(e){for(var t=r._positionWarming,i=e.length,s=n.translate,a=o.update,l=0;l<i;l++){var u=e[l],c=u.positionImpulse,h=c.x,d=c.y,p=u.velocity;if(u.totalContacts=0,0!==h||0!==d){for(var f=0;f<u.parts.length;f++){var m=u.parts[f];s(m.vertices,c),a(m.bounds,m.vertices,p),m.position.x+=h,m.position.y+=d}u.positionPrev.x+=h,u.positionPrev.y+=d,h*p.x+d*p.y<0?(c.x=0,c.y=0):(c.x*=t,c.y*=t)}}},r.preSolveVelocity=function(e){var t,i,r=e.length;for(t=0;t<r;t++){var n=e[t];if(n.isActive&&!n.isSensor){var s=n.activeContacts,o=s.length,a=n.collision,l=a.parentA,u=a.parentB,c=a.normal,h=a.tangent;for(i=0;i<o;i++){var d=s[i],p=d.vertex,f=d.normalImpulse,m=d.tangentImpulse;if(0!==f||0!==m){var g=c.x*f+h.x*m,y=c.y*f+h.y*m;l.isStatic||l.isSleeping||(l.positionPrev.x+=g*l.inverseMass,l.positionPrev.y+=y*l.inverseMass,l.anglePrev+=l.inverseInertia*((p.x-l.position.x)*y-(p.y-l.position.y)*g)),u.isStatic||u.isSleeping||(u.positionPrev.x-=g*u.inverseMass,u.positionPrev.y-=y*u.inverseMass,u.anglePrev-=u.inverseInertia*((p.x-u.position.x)*y-(p.y-u.position.y)*g))}}}}},r.solveVelocity=function(e,t){var i,n,o,a,l=t/s._baseDelta,u=l*l*l,c=-r._restingThresh*l,h=r._restingThreshTangent,d=r._frictionNormalMultiplier*l,p=r._frictionMaxStatic,f=e.length;for(o=0;o<f;o++){var m=e[o];if(m.isActive&&!m.isSensor){var g=m.collision,y=g.parentA,v=g.parentB,x=y.velocity,_=v.velocity,b=g.normal.x,S=g.normal.y,T=g.tangent.x,w=g.tangent.y,E=m.activeContacts,P=E.length,A=1/P,M=y.inverseMass+v.inverseMass,O=m.friction*m.frictionStatic*d;for(x.x=y.position.x-y.positionPrev.x,x.y=y.position.y-y.positionPrev.y,_.x=v.position.x-v.positionPrev.x,_.y=v.position.y-v.positionPrev.y,y.angularVelocity=y.angle-y.anglePrev,v.angularVelocity=v.angle-v.anglePrev,a=0;a<P;a++){var C=E[a],j=C.vertex,R=j.x-y.position.x,I=j.y-y.position.y,B=j.x-v.position.x,D=j.y-v.position.y,k=x.x-I*y.angularVelocity,F=x.y+R*y.angularVelocity,L=k-(_.x-D*v.angularVelocity),N=F-(_.y+B*v.angularVelocity),U=b*L+S*N,G=T*L+w*N,H=m.separation+U,V=Math.min(H,1),W=(V=H<0?0:V)*O;G<-W||G>W?(n=G>0?G:-G,(i=m.friction*(G>0?1:-1)*u)<-n?i=-n:i>n&&(i=n)):(i=G,n=p);var z=R*S-I*b,Y=B*S-D*b,X=A/(M+y.inverseInertia*z*z+v.inverseInertia*Y*Y),q=(1+m.restitution)*U*X;if(i*=X,U<c)C.normalImpulse=0;else{var $=C.normalImpulse;C.normalImpulse+=q,C.normalImpulse>0&&(C.normalImpulse=0),q=C.normalImpulse-$}if(G<-h||G>h)C.tangentImpulse=0;else{var K=C.tangentImpulse;C.tangentImpulse+=i,C.tangentImpulse<-n&&(C.tangentImpulse=-n),C.tangentImpulse>n&&(C.tangentImpulse=n),i=C.tangentImpulse-K}var Q=b*q+T*i,Z=S*q+w*i;y.isStatic||y.isSleeping||(y.positionPrev.x+=Q*y.inverseMass,y.positionPrev.y+=Z*y.inverseMass,y.anglePrev+=(R*Z-I*Q)*y.inverseInertia),v.isStatic||v.isSleeping||(v.positionPrev.x-=Q*v.inverseMass,v.positionPrev.y-=Z*v.inverseMass,v.anglePrev-=(B*Z-D*Q)*v.inverseInertia)}}}}},function(e,t,i){var r={};e.exports=r;var n=i(9),s=i(0);r.create=function(e){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},r.update=function(e,t,i){var r,s,o,a,l=e.list,u=l.length,c=e.table,h=t.length,d=e.collisionStart,p=e.collisionEnd,f=e.collisionActive;for(d.length=0,p.length=0,f.length=0,a=0;a<u;a++)l[a].confirmedActive=!1;for(a=0;a<h;a++)(o=(r=t[a]).pair)?(o.isActive?f.push(o):d.push(o),n.update(o,r,i),o.confirmedActive=!0):(c[(o=n.create(r,i)).id]=o,d.push(o),l.push(o));var m=[];for(u=l.length,a=0;a<u;a++)(o=l[a]).confirmedActive||(n.setActive(o,!1,i),p.push(o),o.collision.bodyA.isSleeping||o.collision.bodyB.isSleeping||m.push(a));for(a=0;a<m.length;a++)o=l[s=m[a]-a],l.splice(s,1),delete c[o.id]},r.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}},function(e,t,i){var r=e.exports=i(21);r.Axes=i(11),r.Bodies=i(12),r.Body=i(4),r.Bounds=i(1),r.Collision=i(8),r.Common=i(0),r.Composite=i(6),r.Composites=i(22),r.Constraint=i(10),r.Contact=i(16),r.Detector=i(13),r.Engine=i(17),r.Events=i(5),r.Grid=i(23),r.Mouse=i(14),r.MouseConstraint=i(24),r.Pair=i(9),r.Pairs=i(19),r.Plugin=i(15),r.Query=i(25),r.Render=i(26),r.Resolver=i(18),r.Runner=i(27),r.SAT=i(28),r.Sleeping=i(7),r.Svg=i(29),r.Vector=i(2),r.Vertices=i(3),r.World=i(30),r.Engine.run=r.Runner.run,r.Common.deprecated(r.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(e,t,i){var r={};e.exports=r;var n=i(15),s=i(0);r.name="matter-js",r.version="0.19.0",r.uses=[],r.used=[],r.use=function(){n.use(r,Array.prototype.slice.call(arguments))},r.before=function(e,t){return e=e.replace(/^Matter./,""),s.chainPathBefore(r,e,t)},r.after=function(e,t){return e=e.replace(/^Matter./,""),s.chainPathAfter(r,e,t)}},function(e,t,i){var r={};e.exports=r;var n=i(6),s=i(10),o=i(0),a=i(4),l=i(12),u=o.deprecated;r.stack=function(e,t,i,r,s,o,l){for(var u,c=n.create({label:"Stack"}),h=e,d=t,p=0,f=0;f<r;f++){for(var m=0,g=0;g<i;g++){var y=l(h,d,g,f,u,p);if(y){var v=y.bounds.max.y-y.bounds.min.y,x=y.bounds.max.x-y.bounds.min.x;v>m&&(m=v),a.translate(y,{x:.5*x,y:.5*v}),h=y.bounds.max.x+s,n.addBody(c,y),u=y,p+=1}else h+=s}d+=m+o,h=e}return c},r.chain=function(e,t,i,r,a,l){for(var u=e.bodies,c=1;c<u.length;c++){var h=u[c-1],d=u[c],p=h.bounds.max.y-h.bounds.min.y,f=h.bounds.max.x-h.bounds.min.x,m=d.bounds.max.y-d.bounds.min.y,g={bodyA:h,pointA:{x:f*t,y:p*i},bodyB:d,pointB:{x:(d.bounds.max.x-d.bounds.min.x)*r,y:m*a}},y=o.extend(g,l);n.addConstraint(e,s.create(y))}return e.label+=" Chain",e},r.mesh=function(e,t,i,r,a){var l,u,c,h,d,p=e.bodies;for(l=0;l<i;l++){for(u=1;u<t;u++)c=p[u-1+l*t],h=p[u+l*t],n.addConstraint(e,s.create(o.extend({bodyA:c,bodyB:h},a)));if(l>0)for(u=0;u<t;u++)c=p[u+(l-1)*t],h=p[u+l*t],n.addConstraint(e,s.create(o.extend({bodyA:c,bodyB:h},a))),r&&u>0&&(d=p[u-1+(l-1)*t],n.addConstraint(e,s.create(o.extend({bodyA:d,bodyB:h},a)))),r&&u<t-1&&(d=p[u+1+(l-1)*t],n.addConstraint(e,s.create(o.extend({bodyA:d,bodyB:h},a))))}return e.label+=" Mesh",e},r.pyramid=function(e,t,i,n,s,o,l){return r.stack(e,t,i,n,s,o,(function(t,r,o,u,c,h){var d=Math.min(n,Math.ceil(i/2)),p=c?c.bounds.max.x-c.bounds.min.x:0;if(!(u>d||o<(u=d-u)||o>i-1-u))return 1===h&&a.translate(c,{x:(o+(i%2==1?1:-1))*p,y:0}),l(e+(c?o*p:0)+o*s,r,o,u,c,h)}))},r.newtonsCradle=function(e,t,i,r,o){for(var a=n.create({label:"Newtons Cradle"}),u=0;u<i;u++){var c=l.circle(e+u*(1.9*r),t+o,r,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),h=s.create({pointA:{x:e+u*(1.9*r),y:t},bodyB:c});n.addBody(a,c),n.addConstraint(a,h)}return a},u(r,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),r.car=function(e,t,i,r,o){var u=a.nextGroup(!0),c=.5*-i+20,h=.5*i-20,d=n.create({label:"Car"}),p=l.rectangle(e,t,i,r,{collisionFilter:{group:u},chamfer:{radius:.5*r},density:2e-4}),f=l.circle(e+c,t+0,o,{collisionFilter:{group:u},friction:.8}),m=l.circle(e+h,t+0,o,{collisionFilter:{group:u},friction:.8}),g=s.create({bodyB:p,pointB:{x:c,y:0},bodyA:f,stiffness:1,length:0}),y=s.create({bodyB:p,pointB:{x:h,y:0},bodyA:m,stiffness:1,length:0});return n.addBody(d,p),n.addBody(d,f),n.addBody(d,m),n.addConstraint(d,g),n.addConstraint(d,y),d},u(r,"car","Composites.car ➤ moved to car example"),r.softBody=function(e,t,i,n,s,a,u,c,h,d){h=o.extend({inertia:1/0},h),d=o.extend({stiffness:.2,render:{type:"line",anchors:!1}},d);var p=r.stack(e,t,i,n,s,a,(function(e,t){return l.circle(e,t,c,h)}));return r.mesh(p,i,n,u,d),p.label="Soft Body",p},u(r,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")},function(e,t,i){var r={};e.exports=r;var n=i(9),s=i(0),o=s.deprecated;r.create=function(e){return s.extend({buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48},e)},r.update=function(e,t,i,n){var s,o,a,l,u,c=i.world,h=e.buckets,d=!1;for(s=0;s<t.length;s++){var p=t[s];if((!p.isSleeping||n)&&(!c.bounds||!(p.bounds.max.x<c.bounds.min.x||p.bounds.min.x>c.bounds.max.x||p.bounds.max.y<c.bounds.min.y||p.bounds.min.y>c.bounds.max.y))){var f=r._getRegion(e,p);if(!p.region||f.id!==p.region.id||n){p.region&&!n||(p.region=f);var m=r._regionUnion(f,p.region);for(o=m.startCol;o<=m.endCol;o++)for(a=m.startRow;a<=m.endRow;a++){l=h[u=r._getBucketId(o,a)];var g=o>=f.startCol&&o<=f.endCol&&a>=f.startRow&&a<=f.endRow,y=o>=p.region.startCol&&o<=p.region.endCol&&a>=p.region.startRow&&a<=p.region.endRow;!g&&y&&y&&l&&r._bucketRemoveBody(e,l,p),(p.region===f||g&&!y||n)&&(l||(l=r._createBucket(h,u)),r._bucketAddBody(e,l,p))}p.region=f,d=!0}}}d&&(e.pairsList=r._createActivePairsList(e))},o(r,"update","Grid.update ➤ replaced by Matter.Detector"),r.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},o(r,"clear","Grid.clear ➤ replaced by Matter.Detector"),r._regionUnion=function(e,t){var i=Math.min(e.startCol,t.startCol),n=Math.max(e.endCol,t.endCol),s=Math.min(e.startRow,t.startRow),o=Math.max(e.endRow,t.endRow);return r._createRegion(i,n,s,o)},r._getRegion=function(e,t){var i=t.bounds,n=Math.floor(i.min.x/e.bucketWidth),s=Math.floor(i.max.x/e.bucketWidth),o=Math.floor(i.min.y/e.bucketHeight),a=Math.floor(i.max.y/e.bucketHeight);return r._createRegion(n,s,o,a)},r._createRegion=function(e,t,i,r){return{id:e+","+t+","+i+","+r,startCol:e,endCol:t,startRow:i,endRow:r}},r._getBucketId=function(e,t){return"C"+e+"R"+t},r._createBucket=function(e,t){return e[t]=[]},r._bucketAddBody=function(e,t,i){var r,s=e.pairs,o=n.id,a=t.length;for(r=0;r<a;r++){var l=t[r];if(!(i.id===l.id||i.isStatic&&l.isStatic)){var u=o(i,l),c=s[u];c?c[2]+=1:s[u]=[i,l,1]}}t.push(i)},r._bucketRemoveBody=function(e,t,i){var r,o=e.pairs,a=n.id;t.splice(s.indexOf(t,i),1);var l=t.length;for(r=0;r<l;r++){var u=o[a(i,t[r])];u&&(u[2]-=1)}},r._createActivePairsList=function(e){var t,i,r=e.pairs,n=s.keys(r),o=n.length,a=[];for(i=0;i<o;i++)(t=r[n[i]])[2]>0?a.push(t):delete r[n[i]];return a}},function(e,t,i){var r={};e.exports=r;var n=i(3),s=i(7),o=i(14),a=i(5),l=i(13),u=i(10),c=i(6),h=i(0),d=i(1);r.create=function(e,t){var i=(e?e.mouse:null)||(t?t.mouse:null);i||(e&&e.render&&e.render.canvas?i=o.create(e.render.canvas):t&&t.element?i=o.create(t.element):(i=o.create(),h.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var n={type:"mouseConstraint",mouse:i,element:null,body:null,constraint:u.create({label:"Mouse Constraint",pointA:i.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),collisionFilter:{category:1,mask:4294967295,group:0}},s=h.extend(n,t);return a.on(e,"beforeUpdate",(function(){var t=c.allBodies(e.world);r.update(s,t),r._triggerEvents(s)})),s},r.update=function(e,t){var i=e.mouse,r=e.constraint,o=e.body;if(0===i.button){if(r.bodyB)s.set(r.bodyB,!1),r.pointA=i.position;else for(var u=0;u<t.length;u++)if(o=t[u],d.contains(o.bounds,i.position)&&l.canCollide(o.collisionFilter,e.collisionFilter))for(var c=o.parts.length>1?1:0;c<o.parts.length;c++){var h=o.parts[c];if(n.contains(h.vertices,i.position)){r.pointA=i.position,r.bodyB=e.body=o,r.pointB={x:i.position.x-o.position.x,y:i.position.y-o.position.y},r.angleB=o.angle,s.set(o,!1),a.trigger(e,"startdrag",{mouse:i,body:o});break}}}else r.bodyB=e.body=null,r.pointB=null,o&&a.trigger(e,"enddrag",{mouse:i,body:o})},r._triggerEvents=function(e){var t=e.mouse,i=t.sourceEvents;i.mousemove&&a.trigger(e,"mousemove",{mouse:t}),i.mousedown&&a.trigger(e,"mousedown",{mouse:t}),i.mouseup&&a.trigger(e,"mouseup",{mouse:t}),o.clearSourceEvents(t)}},function(e,t,i){var r={};e.exports=r;var n=i(2),s=i(8),o=i(1),a=i(12),l=i(3);r.collides=function(e,t){for(var i=[],r=t.length,n=e.bounds,a=s.collides,l=o.overlaps,u=0;u<r;u++){var c=t[u],h=c.parts.length,d=1===h?0:1;if(l(c.bounds,n))for(var p=d;p<h;p++){var f=c.parts[p];if(l(f.bounds,n)){var m=a(f,e);if(m){i.push(m);break}}}}return i},r.ray=function(e,t,i,s){s=s||1e-100;for(var o=n.angle(t,i),l=n.magnitude(n.sub(t,i)),u=.5*(i.x+t.x),c=.5*(i.y+t.y),h=a.rectangle(u,c,l,s,{angle:o}),d=r.collides(h,e),p=0;p<d.length;p+=1){var f=d[p];f.body=f.bodyB=f.bodyA}return d},r.region=function(e,t,i){for(var r=[],n=0;n<e.length;n++){var s=e[n],a=o.overlaps(s.bounds,t);(a&&!i||!a&&i)&&r.push(s)}return r},r.point=function(e,t){for(var i=[],r=0;r<e.length;r++){var n=e[r];if(o.contains(n.bounds,t))for(var s=1===n.parts.length?0:1;s<n.parts.length;s++){var a=n.parts[s];if(o.contains(a.bounds,t)&&l.contains(a.vertices,t)){i.push(n);break}}}return i}},function(e,t,i){var r={};e.exports=r;var n=i(4),s=i(0),o=i(6),a=i(1),l=i(5),u=i(2),c=i(14);!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout((function(){e(s.now())}),1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r._goodFps=30,r._goodDelta=1e3/60,r.create=function(e){var t={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!e.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},i=s.extend(t,e);return i.canvas&&(i.canvas.width=i.options.width||i.canvas.width,i.canvas.height=i.options.height||i.canvas.height),i.mouse=e.mouse,i.engine=e.engine,i.canvas=i.canvas||d(i.options.width,i.options.height),i.context=i.canvas.getContext("2d"),i.textures={},i.bounds=i.bounds||{min:{x:0,y:0},max:{x:i.canvas.width,y:i.canvas.height}},i.controller=r,i.options.showBroadphase=!1,1!==i.options.pixelRatio&&r.setPixelRatio(i,i.options.pixelRatio),s.isElement(i.element)&&i.element.appendChild(i.canvas),i},r.run=function(t){!function n(s){t.frameRequestId=e(n),i(t,s),r.world(t,s),(t.options.showStats||t.options.showDebug)&&r.stats(t,t.context,s),(t.options.showPerformance||t.options.showDebug)&&r.performance(t,t.context,s)}()},r.stop=function(e){t(e.frameRequestId)},r.setPixelRatio=function(e,t){var i=e.options,r=e.canvas;"auto"===t&&(t=p(r)),i.pixelRatio=t,r.setAttribute("data-pixel-ratio",t),r.width=i.width*t,r.height=i.height*t,r.style.width=i.width+"px",r.style.height=i.height+"px"},r.lookAt=function(e,t,i,r){r=void 0===r||r,t=s.isArray(t)?t:[t],i=i||{x:0,y:0};for(var n={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},o=0;o<t.length;o+=1){var a=t[o],l=a.bounds?a.bounds.min:a.min||a.position||a,u=a.bounds?a.bounds.max:a.max||a.position||a;l&&u&&(l.x<n.min.x&&(n.min.x=l.x),u.x>n.max.x&&(n.max.x=u.x),l.y<n.min.y&&(n.min.y=l.y),u.y>n.max.y&&(n.max.y=u.y))}var h=n.max.x-n.min.x+2*i.x,d=n.max.y-n.min.y+2*i.y,p=e.canvas.height,f=e.canvas.width/p,m=h/d,g=1,y=1;m>f?y=m/f:g=f/m,e.options.hasBounds=!0,e.bounds.min.x=n.min.x,e.bounds.max.x=n.min.x+h*g,e.bounds.min.y=n.min.y,e.bounds.max.y=n.min.y+d*y,r&&(e.bounds.min.x+=.5*h-h*g*.5,e.bounds.max.x+=.5*h-h*g*.5,e.bounds.min.y+=.5*d-d*y*.5,e.bounds.max.y+=.5*d-d*y*.5),e.bounds.min.x-=i.x,e.bounds.max.x-=i.x,e.bounds.min.y-=i.y,e.bounds.max.y-=i.y,e.mouse&&(c.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),c.setOffset(e.mouse,e.bounds.min))},r.startViewTransform=function(e){var t=e.bounds.max.x-e.bounds.min.x,i=e.bounds.max.y-e.bounds.min.y,r=t/e.options.width,n=i/e.options.height;e.context.setTransform(e.options.pixelRatio/r,0,0,e.options.pixelRatio/n,0,0),e.context.translate(-e.bounds.min.x,-e.bounds.min.y)},r.endViewTransform=function(e){e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0)},r.world=function(e,t){var i,n=s.now(),h=e.engine,d=h.world,p=e.canvas,f=e.context,g=e.options,y=e.timing,v=o.allBodies(d),x=o.allConstraints(d),_=g.wireframes?g.wireframeBackground:g.background,b=[],S=[],T={timestamp:h.timing.timestamp};if(l.trigger(e,"beforeRender",T),e.currentBackground!==_&&m(e,_),f.globalCompositeOperation="source-in",f.fillStyle="transparent",f.fillRect(0,0,p.width,p.height),f.globalCompositeOperation="source-over",g.hasBounds){for(i=0;i<v.length;i++){var w=v[i];a.overlaps(w.bounds,e.bounds)&&b.push(w)}for(i=0;i<x.length;i++){var E=x[i],P=E.bodyA,A=E.bodyB,M=E.pointA,O=E.pointB;P&&(M=u.add(P.position,E.pointA)),A&&(O=u.add(A.position,E.pointB)),M&&O&&(a.contains(e.bounds,M)||a.contains(e.bounds,O))&&S.push(E)}r.startViewTransform(e),e.mouse&&(c.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.options.width,y:(e.bounds.max.y-e.bounds.min.y)/e.options.height}),c.setOffset(e.mouse,e.bounds.min))}else S=x,b=v,1!==e.options.pixelRatio&&e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0);!g.wireframes||h.enableSleeping&&g.showSleeping?r.bodies(e,b,f):(g.showConvexHulls&&r.bodyConvexHulls(e,b,f),r.bodyWireframes(e,b,f)),g.showBounds&&r.bodyBounds(e,b,f),(g.showAxes||g.showAngleIndicator)&&r.bodyAxes(e,b,f),g.showPositions&&r.bodyPositions(e,b,f),g.showVelocity&&r.bodyVelocity(e,b,f),g.showIds&&r.bodyIds(e,b,f),g.showSeparations&&r.separations(e,h.pairs.list,f),g.showCollisions&&r.collisions(e,h.pairs.list,f),g.showVertexNumbers&&r.vertexNumbers(e,b,f),g.showMousePosition&&r.mousePosition(e,e.mouse,f),r.constraints(S,f),g.hasBounds&&r.endViewTransform(e),l.trigger(e,"afterRender",T),y.lastElapsed=s.now()-n},r.stats=function(e,t,i){for(var r=e.engine,n=r.world,s=o.allBodies(n),a=0,l=0,u=0;u<s.length;u+=1)a+=s[u].parts.length;var c={Part:a,Body:s.length,Cons:o.allConstraints(n).length,Comp:o.allComposites(n).length,Pair:r.pairs.list.length};for(var h in t.fillStyle="#0e0f19",t.fillRect(l,0,302.5,44),t.font="12px Arial",t.textBaseline="top",t.textAlign="right",c){var d=c[h];t.fillStyle="#aaa",t.fillText(h,l+55,8),t.fillStyle="#eee",t.fillText(d,l+55,26),l+=55}},r.performance=function(e,t){var i=e.engine,n=e.timing,s=n.deltaHistory,o=n.elapsedHistory,a=n.timestampElapsedHistory,l=n.engineDeltaHistory,u=n.engineElapsedHistory,c=i.timing.lastDelta,d=h(s),p=h(o),f=h(l),m=h(u),g=h(a)/d||0,y=1e3/d||0,v=60;t.fillStyle="#0e0f19",t.fillRect(0,50,370,34),r.status(t,10,69,v,4,s.length,Math.round(y)+" fps",y/r._goodFps,(function(e){return s[e]/d-1})),r.status(t,82,69,v,4,l.length,c.toFixed(2)+" dt",r._goodDelta/c,(function(e){return l[e]/f-1})),r.status(t,154,69,v,4,u.length,m.toFixed(2)+" ut",1-m/r._goodFps,(function(e){return u[e]/m-1})),r.status(t,226,69,v,4,o.length,p.toFixed(2)+" rt",1-p/r._goodFps,(function(e){return o[e]/p-1})),r.status(t,298,69,v,4,a.length,g.toFixed(2)+" x",g*g*g,(function(e){return(a[e]/s[e]/g||0)-1}))},r.status=function(e,t,i,r,n,o,a,l,u){e.strokeStyle="#888",e.fillStyle="#444",e.lineWidth=1,e.fillRect(t,i+7,r,1),e.beginPath(),e.moveTo(t,i+7-n*s.clamp(.4*u(0),-2,2));for(var c=0;c<r;c+=1)e.lineTo(t+c,i+7-(c<o?n*s.clamp(.4*u(c),-2,2):0));e.stroke(),e.fillStyle="hsl("+s.clamp(25+95*l,0,120)+",100%,60%)",e.fillRect(t,i-7,4,4),e.font="12px Arial",e.textBaseline="middle",e.textAlign="right",e.fillStyle="#eee",e.fillText(a,t+r,i-5)},r.constraints=function(e,t){for(var i=t,r=0;r<e.length;r++){var n=e[r];if(n.render.visible&&n.pointA&&n.pointB){var o,a,l=n.bodyA,c=n.bodyB;if(o=l?u.add(l.position,n.pointA):n.pointA,"pin"===n.render.type)i.beginPath(),i.arc(o.x,o.y,3,0,2*Math.PI),i.closePath();else{if(a=c?u.add(c.position,n.pointB):n.pointB,i.beginPath(),i.moveTo(o.x,o.y),"spring"===n.render.type)for(var h,d=u.sub(a,o),p=u.perp(u.normalise(d)),f=Math.ceil(s.clamp(n.length/5,12,20)),m=1;m<f;m+=1)h=m%2==0?1:-1,i.lineTo(o.x+d.x*(m/f)+p.x*h*4,o.y+d.y*(m/f)+p.y*h*4);i.lineTo(a.x,a.y)}n.render.lineWidth&&(i.lineWidth=n.render.lineWidth,i.strokeStyle=n.render.strokeStyle,i.stroke()),n.render.anchors&&(i.fillStyle=n.render.strokeStyle,i.beginPath(),i.arc(o.x,o.y,3,0,2*Math.PI),i.arc(a.x,a.y,3,0,2*Math.PI),i.closePath(),i.fill())}}},r.bodies=function(e,t,i){var r,n,s,o,a=i,l=(e.engine,e.options),u=l.showInternalEdges||!l.wireframes;for(s=0;s<t.length;s++)if((r=t[s]).render.visible)for(o=r.parts.length>1?1:0;o<r.parts.length;o++)if((n=r.parts[o]).render.visible){if(l.showSleeping&&r.isSleeping?a.globalAlpha=.5*n.render.opacity:1!==n.render.opacity&&(a.globalAlpha=n.render.opacity),n.render.sprite&&n.render.sprite.texture&&!l.wireframes){var c=n.render.sprite,h=f(e,c.texture);a.translate(n.position.x,n.position.y),a.rotate(n.angle),a.drawImage(h,h.width*-c.xOffset*c.xScale,h.height*-c.yOffset*c.yScale,h.width*c.xScale,h.height*c.yScale),a.rotate(-n.angle),a.translate(-n.position.x,-n.position.y)}else{if(n.circleRadius)a.beginPath(),a.arc(n.position.x,n.position.y,n.circleRadius,0,2*Math.PI);else{a.beginPath(),a.moveTo(n.vertices[0].x,n.vertices[0].y);for(var d=1;d<n.vertices.length;d++)!n.vertices[d-1].isInternal||u?a.lineTo(n.vertices[d].x,n.vertices[d].y):a.moveTo(n.vertices[d].x,n.vertices[d].y),n.vertices[d].isInternal&&!u&&a.moveTo(n.vertices[(d+1)%n.vertices.length].x,n.vertices[(d+1)%n.vertices.length].y);a.lineTo(n.vertices[0].x,n.vertices[0].y),a.closePath()}l.wireframes?(a.lineWidth=1,a.strokeStyle="#bbb",a.stroke()):(a.fillStyle=n.render.fillStyle,n.render.lineWidth&&(a.lineWidth=n.render.lineWidth,a.strokeStyle=n.render.strokeStyle,a.stroke()),a.fill())}a.globalAlpha=1}},r.bodyWireframes=function(e,t,i){var r,n,s,o,a,l=i,u=e.options.showInternalEdges;for(l.beginPath(),s=0;s<t.length;s++)if((r=t[s]).render.visible)for(a=r.parts.length>1?1:0;a<r.parts.length;a++){for(n=r.parts[a],l.moveTo(n.vertices[0].x,n.vertices[0].y),o=1;o<n.vertices.length;o++)!n.vertices[o-1].isInternal||u?l.lineTo(n.vertices[o].x,n.vertices[o].y):l.moveTo(n.vertices[o].x,n.vertices[o].y),n.vertices[o].isInternal&&!u&&l.moveTo(n.vertices[(o+1)%n.vertices.length].x,n.vertices[(o+1)%n.vertices.length].y);l.lineTo(n.vertices[0].x,n.vertices[0].y)}l.lineWidth=1,l.strokeStyle="#bbb",l.stroke()},r.bodyConvexHulls=function(e,t,i){var r,n,s,o=i;for(o.beginPath(),n=0;n<t.length;n++)if((r=t[n]).render.visible&&1!==r.parts.length){for(o.moveTo(r.vertices[0].x,r.vertices[0].y),s=1;s<r.vertices.length;s++)o.lineTo(r.vertices[s].x,r.vertices[s].y);o.lineTo(r.vertices[0].x,r.vertices[0].y)}o.lineWidth=1,o.strokeStyle="rgba(255,255,255,0.2)",o.stroke()},r.vertexNumbers=function(e,t,i){var r,n,s,o=i;for(r=0;r<t.length;r++){var a=t[r].parts;for(s=a.length>1?1:0;s<a.length;s++){var l=a[s];for(n=0;n<l.vertices.length;n++)o.fillStyle="rgba(255,255,255,0.2)",o.fillText(r+"_"+n,l.position.x+.8*(l.vertices[n].x-l.position.x),l.position.y+.8*(l.vertices[n].y-l.position.y))}}},r.mousePosition=function(e,t,i){var r=i;r.fillStyle="rgba(255,255,255,0.8)",r.fillText(t.position.x+"  "+t.position.y,t.position.x+5,t.position.y-5)},r.bodyBounds=function(e,t,i){var r=i,n=(e.engine,e.options);r.beginPath();for(var s=0;s<t.length;s++)if(t[s].render.visible)for(var o=t[s].parts,a=o.length>1?1:0;a<o.length;a++){var l=o[a];r.rect(l.bounds.min.x,l.bounds.min.y,l.bounds.max.x-l.bounds.min.x,l.bounds.max.y-l.bounds.min.y)}n.wireframes?r.strokeStyle="rgba(255,255,255,0.08)":r.strokeStyle="rgba(0,0,0,0.1)",r.lineWidth=1,r.stroke()},r.bodyAxes=function(e,t,i){var r,n,s,o,a=i,l=(e.engine,e.options);for(a.beginPath(),n=0;n<t.length;n++){var u=t[n],c=u.parts;if(u.render.visible)if(l.showAxes)for(s=c.length>1?1:0;s<c.length;s++)for(r=c[s],o=0;o<r.axes.length;o++){var h=r.axes[o];a.moveTo(r.position.x,r.position.y),a.lineTo(r.position.x+20*h.x,r.position.y+20*h.y)}else for(s=c.length>1?1:0;s<c.length;s++)for(r=c[s],o=0;o<r.axes.length;o++)a.moveTo(r.position.x,r.position.y),a.lineTo((r.vertices[0].x+r.vertices[r.vertices.length-1].x)/2,(r.vertices[0].y+r.vertices[r.vertices.length-1].y)/2)}l.wireframes?(a.strokeStyle="indianred",a.lineWidth=1):(a.strokeStyle="rgba(255, 255, 255, 0.4)",a.globalCompositeOperation="overlay",a.lineWidth=2),a.stroke(),a.globalCompositeOperation="source-over"},r.bodyPositions=function(e,t,i){var r,n,s,o,a=i,l=(e.engine,e.options);for(a.beginPath(),s=0;s<t.length;s++)if((r=t[s]).render.visible)for(o=0;o<r.parts.length;o++)n=r.parts[o],a.arc(n.position.x,n.position.y,3,0,2*Math.PI,!1),a.closePath();for(l.wireframes?a.fillStyle="indianred":a.fillStyle="rgba(0,0,0,0.5)",a.fill(),a.beginPath(),s=0;s<t.length;s++)(r=t[s]).render.visible&&(a.arc(r.positionPrev.x,r.positionPrev.y,2,0,2*Math.PI,!1),a.closePath());a.fillStyle="rgba(255,165,0,0.8)",a.fill()},r.bodyVelocity=function(e,t,i){var r=i;r.beginPath();for(var s=0;s<t.length;s++){var o=t[s];if(o.render.visible){var a=n.getVelocity(o);r.moveTo(o.position.x,o.position.y),r.lineTo(o.position.x+a.x,o.position.y+a.y)}}r.lineWidth=3,r.strokeStyle="cornflowerblue",r.stroke()},r.bodyIds=function(e,t,i){var r,n,s=i;for(r=0;r<t.length;r++)if(t[r].render.visible){var o=t[r].parts;for(n=o.length>1?1:0;n<o.length;n++){var a=o[n];s.font="12px Arial",s.fillStyle="rgba(255,255,255,0.5)",s.fillText(a.id,a.position.x+10,a.position.y-10)}}},r.collisions=function(e,t,i){var r,n,s,o,a=i,l=e.options;for(a.beginPath(),s=0;s<t.length;s++)if((r=t[s]).isActive)for(n=r.collision,o=0;o<r.activeContacts.length;o++){var u=r.activeContacts[o].vertex;a.rect(u.x-1.5,u.y-1.5,3.5,3.5)}for(l.wireframes?a.fillStyle="rgba(255,255,255,0.7)":a.fillStyle="orange",a.fill(),a.beginPath(),s=0;s<t.length;s++)if((r=t[s]).isActive&&(n=r.collision,r.activeContacts.length>0)){var c=r.activeContacts[0].vertex.x,h=r.activeContacts[0].vertex.y;2===r.activeContacts.length&&(c=(r.activeContacts[0].vertex.x+r.activeContacts[1].vertex.x)/2,h=(r.activeContacts[0].vertex.y+r.activeContacts[1].vertex.y)/2),n.bodyB===n.supports[0].body||!0===n.bodyA.isStatic?a.moveTo(c-8*n.normal.x,h-8*n.normal.y):a.moveTo(c+8*n.normal.x,h+8*n.normal.y),a.lineTo(c,h)}l.wireframes?a.strokeStyle="rgba(255,165,0,0.7)":a.strokeStyle="orange",a.lineWidth=1,a.stroke()},r.separations=function(e,t,i){var r,n,s,o,a,l=i,u=e.options;for(l.beginPath(),a=0;a<t.length;a++)if((r=t[a]).isActive){s=(n=r.collision).bodyA;var c=1;(o=n.bodyB).isStatic||s.isStatic||(c=.5),o.isStatic&&(c=0),l.moveTo(o.position.x,o.position.y),l.lineTo(o.position.x-n.penetration.x*c,o.position.y-n.penetration.y*c),c=1,o.isStatic||s.isStatic||(c=.5),s.isStatic&&(c=0),l.moveTo(s.position.x,s.position.y),l.lineTo(s.position.x+n.penetration.x*c,s.position.y+n.penetration.y*c)}u.wireframes?l.strokeStyle="rgba(255,165,0,0.5)":l.strokeStyle="orange",l.stroke()},r.inspector=function(e,t){e.engine;var i,r=e.selected,n=e.render,s=n.options;if(s.hasBounds){var o=n.bounds.max.x-n.bounds.min.x,a=n.bounds.max.y-n.bounds.min.y,l=o/n.options.width,u=a/n.options.height;t.scale(1/l,1/u),t.translate(-n.bounds.min.x,-n.bounds.min.y)}for(var c=0;c<r.length;c++){var h=r[c].data;switch(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.9)",t.setLineDash([1,2]),h.type){case"body":i=h.bounds,t.beginPath(),t.rect(Math.floor(i.min.x-3),Math.floor(i.min.y-3),Math.floor(i.max.x-i.min.x+6),Math.floor(i.max.y-i.min.y+6)),t.closePath(),t.stroke();break;case"constraint":var d=h.pointA;h.bodyA&&(d=h.pointB),t.beginPath(),t.arc(d.x,d.y,10,0,2*Math.PI),t.closePath(),t.stroke();break}t.setLineDash([]),t.translate(-.5,-.5)}null!==e.selectStart&&(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.6)",t.fillStyle="rgba(255,165,0,0.1)",i=e.selectBounds,t.beginPath(),t.rect(Math.floor(i.min.x),Math.floor(i.min.y),Math.floor(i.max.x-i.min.x),Math.floor(i.max.y-i.min.y)),t.closePath(),t.stroke(),t.fill(),t.translate(-.5,-.5)),s.hasBounds&&t.setTransform(1,0,0,1,0,0)};var i=function(e,t){var i=e.engine,n=e.timing,s=n.historySize,o=i.timing.timestamp;n.delta=t-n.lastTime||r._goodDelta,n.lastTime=t,n.timestampElapsed=o-n.lastTimestamp||0,n.lastTimestamp=o,n.deltaHistory.unshift(n.delta),n.deltaHistory.length=Math.min(n.deltaHistory.length,s),n.engineDeltaHistory.unshift(i.timing.lastDelta),n.engineDeltaHistory.length=Math.min(n.engineDeltaHistory.length,s),n.timestampElapsedHistory.unshift(n.timestampElapsed),n.timestampElapsedHistory.length=Math.min(n.timestampElapsedHistory.length,s),n.engineElapsedHistory.unshift(i.timing.lastElapsed),n.engineElapsedHistory.length=Math.min(n.engineElapsedHistory.length,s),n.elapsedHistory.unshift(n.lastElapsed),n.elapsedHistory.length=Math.min(n.elapsedHistory.length,s)},h=function(e){for(var t=0,i=0;i<e.length;i+=1)t+=e[i];return t/e.length||0},d=function(e,t){var i=document.createElement("canvas");return i.width=e,i.height=t,i.oncontextmenu=function(){return!1},i.onselectstart=function(){return!1},i},p=function(e){var t=e.getContext("2d");return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},f=function(e,t){var i=e.textures[t];return i||((i=e.textures[t]=new Image).src=t,i)},m=function(e,t){var i=t;/(jpg|gif|png)$/.test(t)&&(i="url("+t+")"),e.canvas.style.background=i,e.canvas.style.backgroundSize="contain",e.currentBackground=t}}()},function(e,t,i){var r={};e.exports=r;var n,s,o,a=i(5),l=i(17),u=i(0);"undefined"!=typeof window&&(n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,s=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),n||(n=function(e){o=setTimeout((function(){e(u.now())}),1e3/60)},s=function(){clearTimeout(o)}),r.create=function(e){var t=u.extend({fps:60,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,frameRequestId:null,isFixed:!1,enabled:!0},e);return t.delta=t.delta||1e3/t.fps,t.deltaMin=t.deltaMin||1e3/t.fps,t.deltaMax=t.deltaMax||1e3/(.5*t.fps),t.fps=1e3/t.delta,t},r.run=function(e,t){return void 0!==e.positionIterations&&(t=e,e=r.create()),function i(s){e.frameRequestId=n(i),s&&e.enabled&&r.tick(e,t,s)}(),e},r.tick=function(e,t,i){var r,n=t.timing;e.isFixed?r=e.delta:(r=i-e.timePrev||e.delta,e.timePrev=i,e.deltaHistory.push(r),e.deltaHistory=e.deltaHistory.slice(-e.deltaSampleSize),r=(r=(r=Math.min.apply(null,e.deltaHistory))<e.deltaMin?e.deltaMin:r)>e.deltaMax?e.deltaMax:r,e.delta=r);var s={timestamp:n.timestamp};a.trigger(e,"beforeTick",s),e.frameCounter+=1,i-e.counterTimestamp>=1e3&&(e.fps=e.frameCounter*((i-e.counterTimestamp)/1e3),e.counterTimestamp=i,e.frameCounter=0),a.trigger(e,"tick",s),a.trigger(e,"beforeUpdate",s),l.update(t,r),a.trigger(e,"afterUpdate",s),a.trigger(e,"afterTick",s)},r.stop=function(e){s(e.frameRequestId)},r.start=function(e,t){r.run(e,t)}},function(e,t,i){var r={};e.exports=r;var n=i(8),s=i(0).deprecated;r.collides=function(e,t){return n.collides(e,t)},s(r,"collides","SAT.collides ➤ replaced by Collision.collides")},function(e,t,i){var r={};e.exports=r,i(1);var n=i(0);r.pathToVertices=function(e,t){"undefined"==typeof window||"SVGPathSeg"in window||n.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,s,o,a,l,u,c,h,d,p,f,m=[],g=0,y=0,v=0;t=t||15;var x=function(e,t,i){var r=i%2==1&&i>1;if(!d||e!=d.x||t!=d.y){d&&r?(p=d.x,f=d.y):(p=0,f=0);var n={x:p+e,y:f+t};!r&&d||(d=n),m.push(n),y=p+e,v=f+t}},_=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":y=e.x,v=e.y;break;case"H":y=e.x;break;case"V":v=e.y;break}x(y,v,e.pathSegType)}};for(r._svgPathToAbsolute(e),o=e.getTotalLength(),u=[],i=0;i<e.pathSegList.numberOfItems;i+=1)u.push(e.pathSegList.getItem(i));for(c=u.concat();g<o;){if((l=u[e.getPathSegAtLength(g)])!=h){for(;c.length&&c[0]!=l;)_(c.shift());h=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":a=e.getPointAtLength(g),x(a.x,a.y,0);break}g+=t}for(i=0,s=c.length;i<s;++i)_(c[i]);return m},r._svgPathToAbsolute=function(e){for(var t,i,r,n,s,o,a=e.pathSegList,l=0,u=0,c=a.numberOfItems,h=0;h<c;++h){var d=a.getItem(h),p=d.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(p))"x"in d&&(l=d.x),"y"in d&&(u=d.y);else switch("x1"in d&&(r=l+d.x1),"x2"in d&&(s=l+d.x2),"y1"in d&&(n=u+d.y1),"y2"in d&&(o=u+d.y2),"x"in d&&(l+=d.x),"y"in d&&(u+=d.y),p){case"m":a.replaceItem(e.createSVGPathSegMovetoAbs(l,u),h);break;case"l":a.replaceItem(e.createSVGPathSegLinetoAbs(l,u),h);break;case"h":a.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(l),h);break;case"v":a.replaceItem(e.createSVGPathSegLinetoVerticalAbs(u),h);break;case"c":a.replaceItem(e.createSVGPathSegCurvetoCubicAbs(l,u,r,n,s,o),h);break;case"s":a.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(l,u,s,o),h);break;case"q":a.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(l,u,r,n),h);break;case"t":a.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(l,u),h);break;case"a":a.replaceItem(e.createSVGPathSegArcAbs(l,u,d.r1,d.r2,d.angle,d.largeArcFlag,d.sweepFlag),h);break;case"z":case"Z":l=t,u=i;break}"M"!=p&&"m"!=p||(t=l,i=u)}}},function(e,t,i){var r={};e.exports=r;var n=i(6);i(0),r.create=n.create,r.add=n.add,r.remove=n.remove,r.clear=n.clear,r.addComposite=n.addComposite,r.addBody=n.addBody,r.addConstraint=n.addConstraint}])},"object"==typeof i&&"object"==typeof t?t.exports=s():"function"==typeof r&&r.amd?r("Matter",[],s):"object"==typeof i?i.Matter=s():n.Matter=s()},{}],X7aj:[function(e,t,i){var r,n,s,o=arguments[3];function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)
/*!
 * matter-js 0.19.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 */}n=this,s=function(){return function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==a(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=20)}([function(e,t){var i={};e.exports=i,function(){i._baseDelta=1e3/60,i._nextId=0,i._seed=0,i._nowStartTime=+new Date,i._warnedOnce={},i._decomp=null,i.extend=function(e,t){var r,n;"boolean"==typeof t?(r=2,n=t):(r=1,n=!0);for(var s=r;s<arguments.length;s++){var o=arguments[s];if(o)for(var a in o)n&&o[a]&&o[a].constructor===Object?e[a]&&e[a].constructor!==Object?e[a]=o[a]:(e[a]=e[a]||{},i.extend(e[a],n,o[a])):e[a]=o[a]}return e},i.clone=function(e,t){return i.extend({},t,e)},i.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var i in e)t.push(i);return t},i.values=function(e){var t=[];if(Object.keys){for(var i=Object.keys(e),r=0;r<i.length;r++)t.push(e[i[r]]);return t}for(var n in e)t.push(e[n]);return t},i.get=function(e,t,i,r){t=t.split(".").slice(i,r);for(var n=0;n<t.length;n+=1)e=e[t[n]];return e},i.set=function(e,t,r,n,s){var o=t.split(".").slice(n,s);return i.get(e,t,0,-1)[o[o.length-1]]=r,r},i.shuffle=function(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(i.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e},i.choose=function(e){return e[Math.floor(i.random()*e.length)]},i.isElement=function(e){return"undefined"!=typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},i.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},i.isFunction=function(e){return"function"==typeof e},i.isPlainObject=function(e){return"object"==a(e)&&e.constructor===Object},i.isString=function(e){return"[object String]"===toString.call(e)},i.clamp=function(e,t,i){return e<t?t:e>i?i:e},i.sign=function(e){return e<0?-1:1},i.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-i._nowStartTime},i.random=function(t,i){return i=void 0!==i?i:1,(t=void 0!==t?t:0)+e()*(i-t)};var e=function(){return i._seed=(9301*i._seed+49297)%233280,i._seed/233280};i.colorToNumber=function(e){return 3==(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},i.logLevel=1,i.log=function(){console&&i.logLevel>0&&i.logLevel},i.info=function(){console&&i.logLevel>0&&i.logLevel},i.warn=function(){console&&i.logLevel>0&&i.logLevel},i.warnOnce=function(){var e=Array.prototype.slice.call(arguments).join(" ");i._warnedOnce[e]||(i.warn(e),i._warnedOnce[e]=!0)},i.deprecated=function(e,t,r){e[t]=i.chain((function(){i.warnOnce("🔅 deprecated 🔅",r)}),e[t])},i.nextId=function(){return i._nextId++},i.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1},i.map=function(e,t){if(e.map)return e.map(t);for(var i=[],r=0;r<e.length;r+=1)i.push(t(e[r]));return i},i.topologicalSort=function(e){var t=[],r=[],n=[];for(var s in e)r[s]||n[s]||i._topologicalSort(s,r,n,e,t);return t},i._topologicalSort=function(e,t,r,n,s){var o=n[e]||[];r[e]=!0;for(var a=0;a<o.length;a+=1){var l=o[a];r[l]||t[l]||i._topologicalSort(l,t,r,n,s)}r[e]=!1,t[e]=!0,s.push(e)},i.chain=function(){for(var e=[],t=0;t<arguments.length;t+=1){var i=arguments[t];i._chained?e.push.apply(e,i._chained):e.push(i)}var r=function(){for(var t,i=new Array(arguments.length),r=0,n=arguments.length;r<n;r++)i[r]=arguments[r];for(r=0;r<e.length;r+=1){var s=e[r].apply(t,i);void 0!==s&&(t=s)}return t};return r._chained=e,r},i.chainPathBefore=function(e,t,r){return i.set(e,t,i.chain(r,i.get(e,t)))},i.chainPathAfter=function(e,t,r){return i.set(e,t,i.chain(i.get(e,t),r))},i.setDecomp=function(e){i._decomp=e},i.getDecomp=function(){var e=i._decomp;try{e||"undefined"==typeof window||(e=window.decomp),e||void 0===o||(e=o.decomp)}catch(t){e=null}return e}}()},function(e,t){var i={};e.exports=i,i.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&i.update(t,e),t},i.update=function(e,t,i){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var r=0;r<t.length;r++){var n=t[r];n.x>e.max.x&&(e.max.x=n.x),n.x<e.min.x&&(e.min.x=n.x),n.y>e.max.y&&(e.max.y=n.y),n.y<e.min.y&&(e.min.y=n.y)}i&&(i.x>0?e.max.x+=i.x:e.min.x+=i.x,i.y>0?e.max.y+=i.y:e.min.y+=i.y)},i.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},i.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},i.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},i.shift=function(e,t){var i=e.max.x-e.min.x,r=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+i,e.min.y=t.y,e.max.y=t.y+r}},function(e,t){var i={};e.exports=i,i.create=function(e,t){return{x:e||0,y:t||0}},i.clone=function(e){return{x:e.x,y:e.y}},i.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},i.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},i.rotate=function(e,t,i){var r=Math.cos(t),n=Math.sin(t);i||(i={});var s=e.x*r-e.y*n;return i.y=e.x*n+e.y*r,i.x=s,i},i.rotateAbout=function(e,t,i,r){var n=Math.cos(t),s=Math.sin(t);r||(r={});var o=i.x+((e.x-i.x)*n-(e.y-i.y)*s);return r.y=i.y+((e.x-i.x)*s+(e.y-i.y)*n),r.x=o,r},i.normalise=function(e){var t=i.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},i.dot=function(e,t){return e.x*t.x+e.y*t.y},i.cross=function(e,t){return e.x*t.y-e.y*t.x},i.cross3=function(e,t,i){return(t.x-e.x)*(i.y-e.y)-(t.y-e.y)*(i.x-e.x)},i.add=function(e,t,i){return i||(i={}),i.x=e.x+t.x,i.y=e.y+t.y,i},i.sub=function(e,t,i){return i||(i={}),i.x=e.x-t.x,i.y=e.y-t.y,i},i.mult=function(e,t){return{x:e.x*t,y:e.y*t}},i.div=function(e,t){return{x:e.x/t,y:e.y/t}},i.perp=function(e,t){return{x:(t=!0===t?-1:1)*-e.y,y:t*e.x}},i.neg=function(e){return{x:-e.x,y:-e.y}},i.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},i._temp=[i.create(),i.create(),i.create(),i.create(),i.create(),i.create()]},function(e,t,i){var r={};e.exports=r;var n=i(2),s=i(0);r.create=function(e,t){for(var i=[],r=0;r<e.length;r++){var n=e[r],s={x:n.x,y:n.y,index:r,body:t,isInternal:!1};i.push(s)}return i},r.fromPath=function(e,t){var i=[];return e.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,(function(e,t,r){i.push({x:parseFloat(t),y:parseFloat(r)})})),r.create(i,t)},r.centre=function(e){for(var t,i,s,o=r.area(e,!0),a={x:0,y:0},l=0;l<e.length;l++)s=(l+1)%e.length,t=n.cross(e[l],e[s]),i=n.mult(n.add(e[l],e[s]),t),a=n.add(a,i);return n.div(a,6*o)},r.mean=function(e){for(var t={x:0,y:0},i=0;i<e.length;i++)t.x+=e[i].x,t.y+=e[i].y;return n.div(t,e.length)},r.area=function(e,t){for(var i=0,r=e.length-1,n=0;n<e.length;n++)i+=(e[r].x-e[n].x)*(e[r].y+e[n].y),r=n;return t?i/2:Math.abs(i)/2},r.inertia=function(e,t){for(var i,r,s=0,o=0,a=e,l=0;l<a.length;l++)r=(l+1)%a.length,s+=(i=Math.abs(n.cross(a[r],a[l])))*(n.dot(a[r],a[r])+n.dot(a[r],a[l])+n.dot(a[l],a[l])),o+=i;return t/6*(s/o)},r.translate=function(e,t,i){i=void 0!==i?i:1;var r,n=e.length,s=t.x*i,o=t.y*i;for(r=0;r<n;r++)e[r].x+=s,e[r].y+=o;return e},r.rotate=function(e,t,i){if(0!==t){var r,n,s,o,a=Math.cos(t),l=Math.sin(t),u=i.x,c=i.y,h=e.length;for(o=0;o<h;o++)n=(r=e[o]).x-u,s=r.y-c,r.x=u+(n*a-s*l),r.y=c+(n*l+s*a);return e}},r.contains=function(e,t){for(var i,r=t.x,n=t.y,s=e.length,o=e[s-1],a=0;a<s;a++){if(i=e[a],(r-o.x)*(i.y-o.y)+(n-o.y)*(o.x-i.x)>0)return!1;o=i}return!0},r.scale=function(e,t,i,s){if(1===t&&1===i)return e;var o,a;s=s||r.centre(e);for(var l=0;l<e.length;l++)o=e[l],a=n.sub(o,s),e[l].x=s.x+a.x*t,e[l].y=s.y+a.y*i;return e},r.chamfer=function(e,t,i,r,o){t="number"==typeof t?[t]:t||[8],i=void 0!==i?i:-1,r=r||2,o=o||14;for(var a=[],l=0;l<e.length;l++){var u=e[l-1>=0?l-1:e.length-1],c=e[l],h=e[(l+1)%e.length],d=t[l<t.length?l:t.length-1];if(0!==d){var p=n.normalise({x:c.y-u.y,y:u.x-c.x}),f=n.normalise({x:h.y-c.y,y:c.x-h.x}),m=Math.sqrt(2*Math.pow(d,2)),g=n.mult(s.clone(p),d),y=n.normalise(n.mult(n.add(p,f),.5)),v=n.sub(c,n.mult(y,m)),x=i;-1===i&&(x=1.75*Math.pow(d,.32)),(x=s.clamp(x,r,o))%2==1&&(x+=1);for(var _=Math.acos(n.dot(p,f))/x,b=0;b<x;b++)a.push(n.add(n.rotate(g,_*b),v))}else a.push(c)}return a},r.clockwiseSort=function(e){var t=r.mean(e);return e.sort((function(e,i){return n.angle(t,e)-n.angle(t,i)})),e},r.isConvex=function(e){var t,i,r,n,s=0,o=e.length;if(o<3)return null;for(t=0;t<o;t++)if(r=(t+2)%o,n=(e[i=(t+1)%o].x-e[t].x)*(e[r].y-e[i].y),(n-=(e[i].y-e[t].y)*(e[r].x-e[i].x))<0?s|=1:n>0&&(s|=2),3===s)return!1;return 0!==s||null},r.hull=function(e){var t,i,r=[],s=[];for((e=e.slice(0)).sort((function(e,t){var i=e.x-t.x;return 0!==i?i:e.y-t.y})),i=0;i<e.length;i+=1){for(t=e[i];s.length>=2&&n.cross3(s[s.length-2],s[s.length-1],t)<=0;)s.pop();s.push(t)}for(i=e.length-1;i>=0;i-=1){for(t=e[i];r.length>=2&&n.cross3(r[r.length-2],r[r.length-1],t)<=0;)r.pop();r.push(t)}return r.pop(),s.pop(),r.concat(s)}},function(e,t,i){var r={};e.exports=r;var n=i(3),s=i(2),o=i(7),a=i(0),l=i(1),u=i(11);!function(){r._timeCorrection=!0,r._inertiaScale=4,r._nextCollidingGroupId=1,r._nextNonCollidingGroupId=-1,r._nextCategory=1,r._baseDelta=1e3/60,r.create=function(t){var i={id:a.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:n.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:1e3/60,_original:null},r=a.extend(i,t);return e(r,t),r},r.nextGroup=function(e){return e?r._nextNonCollidingGroupId--:r._nextCollidingGroupId++},r.nextCategory=function(){return r._nextCategory=r._nextCategory<<1,r._nextCategory};var e=function(e,t){t=t||{},r.set(e,{bounds:e.bounds||l.create(e.vertices),positionPrev:e.positionPrev||s.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),n.rotate(e.vertices,e.angle,e.position),u.rotate(e.axes,e.angle),l.update(e.bounds,e.vertices,e.velocity),r.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia});var i=e.isStatic?"#14151f":a.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),o=e.isStatic?"#555":"#ccc",c=e.isStatic&&null===e.render.fillStyle?1:0;e.render.fillStyle=e.render.fillStyle||i,e.render.strokeStyle=e.render.strokeStyle||o,e.render.lineWidth=e.render.lineWidth||c,e.render.sprite.xOffset+=-(e.bounds.min.x-e.position.x)/(e.bounds.max.x-e.bounds.min.x),e.render.sprite.yOffset+=-(e.bounds.min.y-e.position.y)/(e.bounds.max.y-e.bounds.min.y)};r.set=function(e,t,i){var n;for(n in"string"==typeof t&&(n=t,(t={})[n]=i),t)if(Object.prototype.hasOwnProperty.call(t,n))switch(i=t[n],n){case"isStatic":r.setStatic(e,i);break;case"isSleeping":o.set(e,i);break;case"mass":r.setMass(e,i);break;case"density":r.setDensity(e,i);break;case"inertia":r.setInertia(e,i);break;case"vertices":r.setVertices(e,i);break;case"position":r.setPosition(e,i);break;case"angle":r.setAngle(e,i);break;case"velocity":r.setVelocity(e,i);break;case"angularVelocity":r.setAngularVelocity(e,i);break;case"speed":r.setSpeed(e,i);break;case"angularSpeed":r.setAngularSpeed(e,i);break;case"parts":r.setParts(e,i);break;case"centre":r.setCentre(e,i);break;default:e[n]=i}},r.setStatic=function(e,t){for(var i=0;i<e.parts.length;i++){var r=e.parts[i];r.isStatic=t,t?(r._original={restitution:r.restitution,friction:r.friction,mass:r.mass,inertia:r.inertia,density:r.density,inverseMass:r.inverseMass,inverseInertia:r.inverseInertia},r.restitution=0,r.friction=1,r.mass=r.inertia=r.density=1/0,r.inverseMass=r.inverseInertia=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.angularVelocity=0,r.speed=0,r.angularSpeed=0,r.motion=0):r._original&&(r.restitution=r._original.restitution,r.friction=r._original.friction,r.mass=r._original.mass,r.inertia=r._original.inertia,r.density=r._original.density,r.inverseMass=r._original.inverseMass,r.inverseInertia=r._original.inverseInertia,r._original=null)}},r.setMass=function(e,t){var i=e.inertia/(e.mass/6);e.inertia=i*(t/6),e.inverseInertia=1/e.inertia,e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},r.setDensity=function(e,t){r.setMass(e,t*e.area),e.density=t},r.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},r.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=n.create(t,e),e.axes=u.fromVertices(e.vertices),e.area=n.area(e.vertices),r.setMass(e,e.density*e.area);var i=n.centre(e.vertices);n.translate(e.vertices,i,-1),r.setInertia(e,r._inertiaScale*n.inertia(e.vertices,e.mass)),n.translate(e.vertices,e.position),l.update(e.bounds,e.vertices,e.velocity)},r.setParts=function(e,t,i){var s;for(t=t.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,s=0;s<t.length;s++){var o=t[s];o!==e&&(o.parent=e,e.parts.push(o))}if(1!==e.parts.length){if(i=void 0===i||i){var a=[];for(s=0;s<t.length;s++)a=a.concat(t[s].vertices);n.clockwiseSort(a);var l=n.hull(a),u=n.centre(l);r.setVertices(e,l),n.translate(e.vertices,u)}var c=r._totalProperties(e);e.area=c.area,e.parent=e,e.position.x=c.centre.x,e.position.y=c.centre.y,e.positionPrev.x=c.centre.x,e.positionPrev.y=c.centre.y,r.setMass(e,c.mass),r.setInertia(e,c.inertia),r.setPosition(e,c.centre)}},r.setCentre=function(e,t,i){i?(e.positionPrev.x+=t.x,e.positionPrev.y+=t.y,e.position.x+=t.x,e.position.y+=t.y):(e.positionPrev.x=t.x-(e.position.x-e.positionPrev.x),e.positionPrev.y=t.y-(e.position.y-e.positionPrev.y),e.position.x=t.x,e.position.y=t.y)},r.setPosition=function(e,t,i){var r=s.sub(t,e.position);i?(e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.velocity.x=r.x,e.velocity.y=r.y,e.speed=s.magnitude(r)):(e.positionPrev.x+=r.x,e.positionPrev.y+=r.y);for(var o=0;o<e.parts.length;o++){var a=e.parts[o];a.position.x+=r.x,a.position.y+=r.y,n.translate(a.vertices,r),l.update(a.bounds,a.vertices,e.velocity)}},r.setAngle=function(e,t,i){var r=t-e.angle;i?(e.anglePrev=e.angle,e.angularVelocity=r,e.angularSpeed=Math.abs(r)):e.anglePrev+=r;for(var o=0;o<e.parts.length;o++){var a=e.parts[o];a.angle+=r,n.rotate(a.vertices,r,e.position),u.rotate(a.axes,r),l.update(a.bounds,a.vertices,e.velocity),o>0&&s.rotateAbout(a.position,r,e.position,a.position)}},r.setVelocity=function(e,t){var i=e.deltaTime/r._baseDelta;e.positionPrev.x=e.position.x-t.x*i,e.positionPrev.y=e.position.y-t.y*i,e.velocity.x=(e.position.x-e.positionPrev.x)/i,e.velocity.y=(e.position.y-e.positionPrev.y)/i,e.speed=s.magnitude(e.velocity)},r.getVelocity=function(e){var t=r._baseDelta/e.deltaTime;return{x:(e.position.x-e.positionPrev.x)*t,y:(e.position.y-e.positionPrev.y)*t}},r.getSpeed=function(e){return s.magnitude(r.getVelocity(e))},r.setSpeed=function(e,t){r.setVelocity(e,s.mult(s.normalise(r.getVelocity(e)),t))},r.setAngularVelocity=function(e,t){var i=e.deltaTime/r._baseDelta;e.anglePrev=e.angle-t*i,e.angularVelocity=(e.angle-e.anglePrev)/i,e.angularSpeed=Math.abs(e.angularVelocity)},r.getAngularVelocity=function(e){return(e.angle-e.anglePrev)*r._baseDelta/e.deltaTime},r.getAngularSpeed=function(e){return Math.abs(r.getAngularVelocity(e))},r.setAngularSpeed=function(e,t){r.setAngularVelocity(e,a.sign(r.getAngularVelocity(e))*t)},r.translate=function(e,t,i){r.setPosition(e,s.add(e.position,t),i)},r.rotate=function(e,t,i,n){if(i){var s=Math.cos(t),o=Math.sin(t),a=e.position.x-i.x,l=e.position.y-i.y;r.setPosition(e,{x:i.x+(a*s-l*o),y:i.y+(a*o+l*s)},n),r.setAngle(e,e.angle+t,n)}else r.setAngle(e,e.angle+t,n)},r.scale=function(e,t,i,s){var o=0,a=0;s=s||e.position;for(var c=0;c<e.parts.length;c++){var h=e.parts[c];n.scale(h.vertices,t,i,s),h.axes=u.fromVertices(h.vertices),h.area=n.area(h.vertices),r.setMass(h,e.density*h.area),n.translate(h.vertices,{x:-h.position.x,y:-h.position.y}),r.setInertia(h,r._inertiaScale*n.inertia(h.vertices,h.mass)),n.translate(h.vertices,{x:h.position.x,y:h.position.y}),c>0&&(o+=h.area,a+=h.inertia),h.position.x=s.x+(h.position.x-s.x)*t,h.position.y=s.y+(h.position.y-s.y)*i,l.update(h.bounds,h.vertices,e.velocity)}e.parts.length>1&&(e.area=o,e.isStatic||(r.setMass(e,e.density*o),r.setInertia(e,a))),e.circleRadius&&(t===i?e.circleRadius*=t:e.circleRadius=null)},r.update=function(e,t){var i=(t=(void 0!==t?t:1e3/60)*e.timeScale)*t,o=r._timeCorrection?t/(e.deltaTime||t):1,c=1-e.frictionAir*(t/a._baseDelta),h=(e.position.x-e.positionPrev.x)*o,d=(e.position.y-e.positionPrev.y)*o;e.velocity.x=h*c+e.force.x/e.mass*i,e.velocity.y=d*c+e.force.y/e.mass*i,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.deltaTime=t,e.angularVelocity=(e.angle-e.anglePrev)*c*o+e.torque/e.inertia*i,e.anglePrev=e.angle,e.angle+=e.angularVelocity;for(var p=0;p<e.parts.length;p++){var f=e.parts[p];n.translate(f.vertices,e.velocity),p>0&&(f.position.x+=e.velocity.x,f.position.y+=e.velocity.y),0!==e.angularVelocity&&(n.rotate(f.vertices,e.angularVelocity,e.position),u.rotate(f.axes,e.angularVelocity),p>0&&s.rotateAbout(f.position,e.angularVelocity,e.position,f.position)),l.update(f.bounds,f.vertices,e.velocity)}},r.updateVelocities=function(e){var t=r._baseDelta/e.deltaTime,i=e.velocity;i.x=(e.position.x-e.positionPrev.x)*t,i.y=(e.position.y-e.positionPrev.y)*t,e.speed=Math.sqrt(i.x*i.x+i.y*i.y),e.angularVelocity=(e.angle-e.anglePrev)*t,e.angularSpeed=Math.abs(e.angularVelocity)},r.applyForce=function(e,t,i){var r=t.x-e.position.x,n=t.y-e.position.y;e.force.x+=i.x,e.force.y+=i.y,e.torque+=r*i.y-n*i.x},r._totalProperties=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},i=1===e.parts.length?0:1;i<e.parts.length;i++){var r=e.parts[i],n=r.mass!==1/0?r.mass:1;t.mass+=n,t.area+=r.area,t.inertia+=r.inertia,t.centre=s.add(t.centre,s.mult(r.position,n))}return t.centre=s.div(t.centre,t.mass),t}}()},function(e,t,i){var r={};e.exports=r;var n=i(0);r.on=function(e,t,i){for(var r,n=t.split(" "),s=0;s<n.length;s++)r=n[s],e.events=e.events||{},e.events[r]=e.events[r]||[],e.events[r].push(i);return i},r.off=function(e,t,i){if(t){"function"==typeof t&&(i=t,t=n.keys(e.events).join(" "));for(var r=t.split(" "),s=0;s<r.length;s++){var o=e.events[r[s]],a=[];if(i&&o)for(var l=0;l<o.length;l++)o[l]!==i&&a.push(o[l]);e.events[r[s]]=a}}else e.events={}},r.trigger=function(e,t,i){var r,s,o,a,l=e.events;if(l&&n.keys(l).length>0){i||(i={}),r=t.split(" ");for(var u=0;u<r.length;u++)if(o=l[s=r[u]]){(a=n.clone(i,!1)).name=s,a.source=e;for(var c=0;c<o.length;c++)o[c].apply(e,[a])}}}},function(e,t,i){var r={};e.exports=r;var n=i(5),s=i(0),o=i(1),a=i(4);r.create=function(e){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},r.setModified=function(e,t,i,n){if(e.isModified=t,t&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),i&&e.parent&&r.setModified(e.parent,t,i,n),n)for(var s=0;s<e.composites.length;s++){var o=e.composites[s];r.setModified(o,t,i,n)}},r.add=function(e,t){var i=[].concat(t);n.trigger(e,"beforeAdd",{object:t});for(var o=0;o<i.length;o++){var a=i[o];switch(a.type){case"body":if(a.parent!==a){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}r.addBody(e,a);break;case"constraint":r.addConstraint(e,a);break;case"composite":r.addComposite(e,a);break;case"mouseConstraint":r.addConstraint(e,a.constraint)}}return n.trigger(e,"afterAdd",{object:t}),e},r.remove=function(e,t,i){var s=[].concat(t);n.trigger(e,"beforeRemove",{object:t});for(var o=0;o<s.length;o++){var a=s[o];switch(a.type){case"body":r.removeBody(e,a,i);break;case"constraint":r.removeConstraint(e,a,i);break;case"composite":r.removeComposite(e,a,i);break;case"mouseConstraint":r.removeConstraint(e,a.constraint)}}return n.trigger(e,"afterRemove",{object:t}),e},r.addComposite=function(e,t){return e.composites.push(t),t.parent=e,r.setModified(e,!0,!0,!1),e},r.removeComposite=function(e,t,i){var n=s.indexOf(e.composites,t);if(-1!==n&&r.removeCompositeAt(e,n),i)for(var o=0;o<e.composites.length;o++)r.removeComposite(e.composites[o],t,!0);return e},r.removeCompositeAt=function(e,t){return e.composites.splice(t,1),r.setModified(e,!0,!0,!1),e},r.addBody=function(e,t){return e.bodies.push(t),r.setModified(e,!0,!0,!1),e},r.removeBody=function(e,t,i){var n=s.indexOf(e.bodies,t);if(-1!==n&&r.removeBodyAt(e,n),i)for(var o=0;o<e.composites.length;o++)r.removeBody(e.composites[o],t,!0);return e},r.removeBodyAt=function(e,t){return e.bodies.splice(t,1),r.setModified(e,!0,!0,!1),e},r.addConstraint=function(e,t){return e.constraints.push(t),r.setModified(e,!0,!0,!1),e},r.removeConstraint=function(e,t,i){var n=s.indexOf(e.constraints,t);if(-1!==n&&r.removeConstraintAt(e,n),i)for(var o=0;o<e.composites.length;o++)r.removeConstraint(e.composites[o],t,!0);return e},r.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),r.setModified(e,!0,!0,!1),e},r.clear=function(e,t,i){if(i)for(var n=0;n<e.composites.length;n++)r.clear(e.composites[n],t,!0);return t?e.bodies=e.bodies.filter((function(e){return e.isStatic})):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,r.setModified(e,!0,!0,!1),e},r.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var t=[].concat(e.bodies),i=0;i<e.composites.length;i++)t=t.concat(r.allBodies(e.composites[i]));return e.cache&&(e.cache.allBodies=t),t},r.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var t=[].concat(e.constraints),i=0;i<e.composites.length;i++)t=t.concat(r.allConstraints(e.composites[i]));return e.cache&&(e.cache.allConstraints=t),t},r.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var t=[].concat(e.composites),i=0;i<e.composites.length;i++)t=t.concat(r.allComposites(e.composites[i]));return e.cache&&(e.cache.allComposites=t),t},r.get=function(e,t,i){var n,s;switch(i){case"body":n=r.allBodies(e);break;case"constraint":n=r.allConstraints(e);break;case"composite":n=r.allComposites(e).concat(e)}return n?0===(s=n.filter((function(e){return e.id.toString()===t.toString()}))).length?null:s[0]:null},r.move=function(e,t,i){return r.remove(e,t),r.add(i,t),e},r.rebase=function(e){for(var t=r.allBodies(e).concat(r.allConstraints(e)).concat(r.allComposites(e)),i=0;i<t.length;i++)t[i].id=s.nextId();return e},r.translate=function(e,t,i){for(var n=i?r.allBodies(e):e.bodies,s=0;s<n.length;s++)a.translate(n[s],t);return e},r.rotate=function(e,t,i,n){for(var s=Math.cos(t),o=Math.sin(t),l=n?r.allBodies(e):e.bodies,u=0;u<l.length;u++){var c=l[u],h=c.position.x-i.x,d=c.position.y-i.y;a.setPosition(c,{x:i.x+(h*s-d*o),y:i.y+(h*o+d*s)}),a.rotate(c,t)}return e},r.scale=function(e,t,i,n,s){for(var o=s?r.allBodies(e):e.bodies,l=0;l<o.length;l++){var u=o[l],c=u.position.x-n.x,h=u.position.y-n.y;a.setPosition(u,{x:n.x+c*t,y:n.y+h*i}),a.scale(u,t,i)}return e},r.bounds=function(e){for(var t=r.allBodies(e),i=[],n=0;n<t.length;n+=1){var s=t[n];i.push(s.bounds.min,s.bounds.max)}return o.create(i)}},function(e,t,i){var r={};e.exports=r;var n=i(4),s=i(5),o=i(0);r._motionWakeThreshold=.18,r._motionSleepThreshold=.08,r._minBias=.9,r.update=function(e,t){for(var i=t/o._baseDelta,s=r._motionSleepThreshold,a=0;a<e.length;a++){var l=e[a],u=n.getSpeed(l),c=n.getAngularSpeed(l),h=u*u+c*c;if(0===l.force.x&&0===l.force.y){var d=Math.min(l.motion,h),p=Math.max(l.motion,h);l.motion=r._minBias*d+(1-r._minBias)*p,l.sleepThreshold>0&&l.motion<s?(l.sleepCounter+=1,l.sleepCounter>=l.sleepThreshold/i&&r.set(l,!0)):l.sleepCounter>0&&(l.sleepCounter-=1)}else r.set(l,!1)}},r.afterCollisions=function(e){for(var t=r._motionSleepThreshold,i=0;i<e.length;i++){var n=e[i];if(n.isActive){var s=n.collision,o=s.bodyA.parent,a=s.bodyB.parent;if(!(o.isSleeping&&a.isSleeping||o.isStatic||a.isStatic)&&(o.isSleeping||a.isSleeping)){var l=o.isSleeping&&!o.isStatic?o:a,u=l===o?a:o;!l.isStatic&&u.motion>t&&r.set(l,!1)}}}},r.set=function(e,t){var i=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,i||s.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,i&&s.trigger(e,"sleepEnd"))}},function(e,t,i){var r={};e.exports=r;var n,s,o,a=i(3),l=i(9);n=[],s={overlap:0,axis:null},o={overlap:0,axis:null},r.create=function(e,t){return{pair:null,collided:!1,bodyA:e,bodyB:t,parentA:e.parent,parentB:t.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},r.collides=function(e,t,i){if(r._overlapAxes(s,e.vertices,t.vertices,e.axes),s.overlap<=0)return null;if(r._overlapAxes(o,t.vertices,e.vertices,t.axes),o.overlap<=0)return null;var n,u,c=i&&i.table[l.id(e,t)];c?n=c.collision:((n=r.create(e,t)).collided=!0,n.bodyA=e.id<t.id?e:t,n.bodyB=e.id<t.id?t:e,n.parentA=n.bodyA.parent,n.parentB=n.bodyB.parent),e=n.bodyA,t=n.bodyB,u=s.overlap<o.overlap?s:o;var h=n.normal,d=n.supports,p=u.axis,f=p.x,m=p.y;f*(t.position.x-e.position.x)+m*(t.position.y-e.position.y)<0?(h.x=f,h.y=m):(h.x=-f,h.y=-m),n.tangent.x=-h.y,n.tangent.y=h.x,n.depth=u.overlap,n.penetration.x=h.x*n.depth,n.penetration.y=h.y*n.depth;var g=r._findSupports(e,t,h,1),y=0;if(a.contains(e.vertices,g[0])&&(d[y++]=g[0]),a.contains(e.vertices,g[1])&&(d[y++]=g[1]),y<2){var v=r._findSupports(t,e,h,-1);a.contains(t.vertices,v[0])&&(d[y++]=v[0]),y<2&&a.contains(t.vertices,v[1])&&(d[y++]=v[1])}return 0===y&&(d[y++]=g[0]),d.length=y,n},r._overlapAxes=function(e,t,i,r){var n,s,o,a,l,u,c=t.length,h=i.length,d=t[0].x,p=t[0].y,f=i[0].x,m=i[0].y,g=r.length,y=Number.MAX_VALUE,v=0;for(l=0;l<g;l++){var x=r[l],_=x.x,b=x.y,S=d*_+p*b,T=f*_+m*b,w=S,E=T;for(u=1;u<c;u+=1)(a=t[u].x*_+t[u].y*b)>w?w=a:a<S&&(S=a);for(u=1;u<h;u+=1)(a=i[u].x*_+i[u].y*b)>E?E=a:a<T&&(T=a);if((n=(s=w-T)<(o=E-S)?s:o)<y&&(y=n,v=l,n<=0))break}e.axis=r[v],e.overlap=y},r._projectToAxis=function(e,t,i){for(var r=t[0].x*i.x+t[0].y*i.y,n=r,s=1;s<t.length;s+=1){var o=t[s].x*i.x+t[s].y*i.y;o>n?n=o:o<r&&(r=o)}e.min=r,e.max=n},r._findSupports=function(e,t,i,r){var s,o,a,l,u,c=t.vertices,h=c.length,d=e.position.x,p=e.position.y,f=i.x*r,m=i.y*r,g=Number.MAX_VALUE;for(u=0;u<h;u+=1)(l=f*(d-(o=c[u]).x)+m*(p-o.y))<g&&(g=l,s=o);return g=f*(d-(a=c[(h+s.index-1)%h]).x)+m*(p-a.y),f*(d-(o=c[(s.index+1)%h]).x)+m*(p-o.y)<g?(n[0]=s,n[1]=o,n):(n[0]=s,n[1]=a,n)}},function(e,t,i){var r={};e.exports=r;var n=i(16);r.create=function(e,t){var i=e.bodyA,n=e.bodyB,s={id:r.id(i,n),bodyA:i,bodyB:n,collision:e,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:i.isSensor||n.isSensor,timeCreated:t,timeUpdated:t,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return r.update(s,e,t),s},r.update=function(e,t,i){var r=e.contacts,s=t.supports,o=e.activeContacts,a=t.parentA,l=t.parentB,u=a.vertices.length;e.isActive=!0,e.timeUpdated=i,e.collision=t,e.separation=t.depth,e.inverseMass=a.inverseMass+l.inverseMass,e.friction=a.friction<l.friction?a.friction:l.friction,e.frictionStatic=a.frictionStatic>l.frictionStatic?a.frictionStatic:l.frictionStatic,e.restitution=a.restitution>l.restitution?a.restitution:l.restitution,e.slop=a.slop>l.slop?a.slop:l.slop,t.pair=e,o.length=0;for(var c=0;c<s.length;c++){var h=s[c],d=h.body===a?h.index:u+h.index,p=r[d];p?o.push(p):o.push(r[d]=n.create(h))}},r.setActive=function(e,t,i){t?(e.isActive=!0,e.timeUpdated=i):(e.isActive=!1,e.activeContacts.length=0)},r.id=function(e,t){return e.id<t.id?"A"+e.id+"B"+t.id:"A"+t.id+"B"+e.id}},function(e,t,i){var r={};e.exports=r;var n=i(3),s=i(2),o=i(7),a=i(1),l=i(11),u=i(0);r._warming=.4,r._torqueDampen=1,r._minLength=1e-6,r.create=function(e){var t=e;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var i=t.bodyA?s.add(t.bodyA.position,t.pointA):t.pointA,r=t.bodyB?s.add(t.bodyB.position,t.pointB):t.pointB,n=s.magnitude(s.sub(i,r));t.length=void 0!==t.length?t.length:n,t.id=t.id||u.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var o={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===t.length&&t.stiffness>.1?(o.type="pin",o.anchors=!1):t.stiffness<.9&&(o.type="spring"),t.render=u.extend(o,t.render),t},r.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var i=e[t],r=i.constraintImpulse;i.isStatic||0===r.x&&0===r.y&&0===r.angle||(i.position.x+=r.x,i.position.y+=r.y,i.angle+=r.angle)}},r.solveAll=function(e,t){for(var i=u.clamp(t/u._baseDelta,0,1),n=0;n<e.length;n+=1){var s=e[n],o=!s.bodyA||s.bodyA&&s.bodyA.isStatic,a=!s.bodyB||s.bodyB&&s.bodyB.isStatic;(o||a)&&r.solve(e[n],i)}for(n=0;n<e.length;n+=1)o=!(s=e[n]).bodyA||s.bodyA&&s.bodyA.isStatic,a=!s.bodyB||s.bodyB&&s.bodyB.isStatic,o||a||r.solve(e[n],i)},r.solve=function(e,t){var i=e.bodyA,n=e.bodyB,o=e.pointA,a=e.pointB;if(i||n){i&&!i.isStatic&&(s.rotate(o,i.angle-e.angleA,o),e.angleA=i.angle),n&&!n.isStatic&&(s.rotate(a,n.angle-e.angleB,a),e.angleB=n.angle);var l=o,u=a;if(i&&(l=s.add(i.position,o)),n&&(u=s.add(n.position,a)),l&&u){var c=s.sub(l,u),h=s.magnitude(c);h<r._minLength&&(h=r._minLength);var d,p,f,m,g,y=(h-e.length)/h,v=e.stiffness>=1||0===e.length?e.stiffness*t:e.stiffness*t*t,x=e.damping*t,_=s.mult(c,y*v),b=(i?i.inverseMass:0)+(n?n.inverseMass:0),S=b+((i?i.inverseInertia:0)+(n?n.inverseInertia:0));if(x>0){var T=s.create();f=s.div(c,h),g=s.sub(n&&s.sub(n.position,n.positionPrev)||T,i&&s.sub(i.position,i.positionPrev)||T),m=s.dot(f,g)}i&&!i.isStatic&&(p=i.inverseMass/b,i.constraintImpulse.x-=_.x*p,i.constraintImpulse.y-=_.y*p,i.position.x-=_.x*p,i.position.y-=_.y*p,x>0&&(i.positionPrev.x-=x*f.x*m*p,i.positionPrev.y-=x*f.y*m*p),d=s.cross(o,_)/S*r._torqueDampen*i.inverseInertia*(1-e.angularStiffness),i.constraintImpulse.angle-=d,i.angle-=d),n&&!n.isStatic&&(p=n.inverseMass/b,n.constraintImpulse.x+=_.x*p,n.constraintImpulse.y+=_.y*p,n.position.x+=_.x*p,n.position.y+=_.y*p,x>0&&(n.positionPrev.x+=x*f.x*m*p,n.positionPrev.y+=x*f.y*m*p),d=s.cross(a,_)/S*r._torqueDampen*n.inverseInertia*(1-e.angularStiffness),n.constraintImpulse.angle+=d,n.angle+=d)}}},r.postSolveAll=function(e){for(var t=0;t<e.length;t++){var i=e[t],u=i.constraintImpulse;if(!(i.isStatic||0===u.x&&0===u.y&&0===u.angle)){o.set(i,!1);for(var c=0;c<i.parts.length;c++){var h=i.parts[c];n.translate(h.vertices,u),c>0&&(h.position.x+=u.x,h.position.y+=u.y),0!==u.angle&&(n.rotate(h.vertices,u.angle,i.position),l.rotate(h.axes,u.angle),c>0&&s.rotateAbout(h.position,u.angle,i.position,h.position)),a.update(h.bounds,h.vertices,i.velocity)}u.angle*=r._warming,u.x*=r._warming,u.y*=r._warming}}},r.pointAWorld=function(e){return{x:(e.bodyA?e.bodyA.position.x:0)+(e.pointA?e.pointA.x:0),y:(e.bodyA?e.bodyA.position.y:0)+(e.pointA?e.pointA.y:0)}},r.pointBWorld=function(e){return{x:(e.bodyB?e.bodyB.position.x:0)+(e.pointB?e.pointB.x:0),y:(e.bodyB?e.bodyB.position.y:0)+(e.pointB?e.pointB.y:0)}}},function(e,t,i){var r={};e.exports=r;var n=i(2),s=i(0);r.fromVertices=function(e){for(var t={},i=0;i<e.length;i++){var r=(i+1)%e.length,o=n.normalise({x:e[r].y-e[i].y,y:e[i].x-e[r].x}),a=0===o.y?1/0:o.x/o.y;t[a=a.toFixed(3).toString()]=o}return s.values(t)},r.rotate=function(e,t){if(0!==t)for(var i=Math.cos(t),r=Math.sin(t),n=0;n<e.length;n++){var s,o=e[n];s=o.x*i-o.y*r,o.y=o.x*r+o.y*i,o.x=s}}},function(e,t,i){var r={};e.exports=r;var n=i(3),s=i(0),o=i(4),a=i(1),l=i(2);r.rectangle=function(e,t,i,r,a){a=a||{};var l={label:"Rectangle Body",position:{x:e,y:t},vertices:n.fromPath("L 0 0 L "+i+" 0 L "+i+" "+r+" L 0 "+r)};if(a.chamfer){var u=a.chamfer;l.vertices=n.chamfer(l.vertices,u.radius,u.quality,u.qualityMin,u.qualityMax),delete a.chamfer}return o.create(s.extend({},l,a))},r.trapezoid=function(e,t,i,r,a,l){l=l||{};var u,c=i*(a*=.5),h=c+(1-2*a)*i,d=h+c;u=a<.5?"L 0 0 L "+c+" "+-r+" L "+h+" "+-r+" L "+d+" 0":"L 0 0 L "+h+" "+-r+" L "+d+" 0";var p={label:"Trapezoid Body",position:{x:e,y:t},vertices:n.fromPath(u)};if(l.chamfer){var f=l.chamfer;p.vertices=n.chamfer(p.vertices,f.radius,f.quality,f.qualityMin,f.qualityMax),delete l.chamfer}return o.create(s.extend({},p,l))},r.circle=function(e,t,i,n,o){n=n||{};var a={label:"Circle Body",circleRadius:i};o=o||25;var l=Math.ceil(Math.max(10,Math.min(o,i)));return l%2==1&&(l+=1),r.polygon(e,t,l,i,s.extend({},a,n))},r.polygon=function(e,t,i,a,l){if(l=l||{},i<3)return r.circle(e,t,a,l);for(var u=2*Math.PI/i,c="",h=.5*u,d=0;d<i;d+=1){var p=h+d*u,f=Math.cos(p)*a,m=Math.sin(p)*a;c+="L "+f.toFixed(3)+" "+m.toFixed(3)+" "}var g={label:"Polygon Body",position:{x:e,y:t},vertices:n.fromPath(c)};if(l.chamfer){var y=l.chamfer;g.vertices=n.chamfer(g.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete l.chamfer}return o.create(s.extend({},g,l))},r.fromVertices=function(e,t,i,r,u,c,h,d){var p,f,m,g,y,v,x,_,b,S,T=s.getDecomp();for(p=Boolean(T&&T.quickDecomp),r=r||{},m=[],u=void 0!==u&&u,c=void 0!==c?c:.01,h=void 0!==h?h:10,d=void 0!==d?d:.01,s.isArray(i[0])||(i=[i]),b=0;b<i.length;b+=1)if(y=i[b],!(g=n.isConvex(y))&&!p&&s.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),g||!p)y=g?n.clockwiseSort(y):n.hull(y),m.push({position:{x:e,y:t},vertices:y});else{var w=y.map((function(e){return[e.x,e.y]}));T.makeCCW(w),!1!==c&&T.removeCollinearPoints(w,c),!1!==d&&T.removeDuplicatePoints&&T.removeDuplicatePoints(w,d);var E=T.quickDecomp(w);for(v=0;v<E.length;v++){var P=E[v].map((function(e){return{x:e[0],y:e[1]}}));h>0&&n.area(P)<h||m.push({position:n.centre(P),vertices:P})}}for(v=0;v<m.length;v++)m[v]=o.create(s.extend(m[v],r));if(u)for(v=0;v<m.length;v++){var A=m[v];for(x=v+1;x<m.length;x++){var M=m[x];if(a.overlaps(A.bounds,M.bounds)){var O=A.vertices,C=M.vertices;for(_=0;_<A.vertices.length;_++)for(S=0;S<M.vertices.length;S++){var j=l.magnitudeSquared(l.sub(O[(_+1)%O.length],C[S])),R=l.magnitudeSquared(l.sub(O[_],C[(S+1)%C.length]));j<5&&R<5&&(O[_].isInternal=!0,C[S].isInternal=!0)}}}}return m.length>1?(f=o.create(s.extend({parts:m.slice(0)},r)),o.setPosition(f,{x:e,y:t}),f):m[0]}},function(e,t,i){var r={};e.exports=r;var n=i(0),s=i(8);r.create=function(e){return n.extend({bodies:[],pairs:null},e)},r.setBodies=function(e,t){e.bodies=t.slice(0)},r.clear=function(e){e.bodies=[]},r.collisions=function(e){var t,i,n=[],o=e.pairs,a=e.bodies,l=a.length,u=r.canCollide,c=s.collides;for(a.sort(r._compareBoundsX),t=0;t<l;t++){var h=a[t],d=h.bounds,p=h.bounds.max.x,f=h.bounds.max.y,m=h.bounds.min.y,g=h.isStatic||h.isSleeping,y=h.parts.length,v=1===y;for(i=t+1;i<l;i++){var x=a[i];if((A=x.bounds).min.x>p)break;if(!(f<A.min.y||m>A.max.y)&&(!g||!x.isStatic&&!x.isSleeping)&&u(h.collisionFilter,x.collisionFilter)){var _=x.parts.length;if(v&&1===_)(E=c(h,x,o))&&n.push(E);else for(var b=_>1?1:0,S=y>1?1:0;S<y;S++)for(var T=h.parts[S],w=(d=T.bounds,b);w<_;w++){var E,P=x.parts[w],A=P.bounds;d.min.x>A.max.x||d.max.x<A.min.x||d.max.y<A.min.y||d.min.y>A.max.y||(E=c(T,P,o))&&n.push(E)}}}}return n},r.canCollide=function(e,t){return e.group===t.group&&0!==e.group?e.group>0:0!=(e.mask&t.category)&&0!=(t.mask&e.category)},r._compareBoundsX=function(e,t){return e.bounds.min.x-t.bounds.min.x}},function(e,t,i){var r={};e.exports=r;var n=i(0);r.create=function(e){var t={};return e||n.log("Mouse.create: element was undefined, defaulting to document.body","warn"),t.element=e||document.body,t.absolute={x:0,y:0},t.position={x:0,y:0},t.mousedownPosition={x:0,y:0},t.mouseupPosition={x:0,y:0},t.offset={x:0,y:0},t.scale={x:1,y:1},t.wheelDelta=0,t.button=-1,t.pixelRatio=parseInt(t.element.getAttribute("data-pixel-ratio"),10)||1,t.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},t.mousemove=function(e){var i=r._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&(t.button=0,e.preventDefault()),t.absolute.x=i.x,t.absolute.y=i.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.sourceEvents.mousemove=e},t.mousedown=function(e){var i=r._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches?(t.button=0,e.preventDefault()):t.button=e.button,t.absolute.x=i.x,t.absolute.y=i.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mousedownPosition.x=t.position.x,t.mousedownPosition.y=t.position.y,t.sourceEvents.mousedown=e},t.mouseup=function(e){var i=r._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&e.preventDefault(),t.button=-1,t.absolute.x=i.x,t.absolute.y=i.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mouseupPosition.x=t.position.x,t.mouseupPosition.y=t.position.y,t.sourceEvents.mouseup=e},t.mousewheel=function(e){t.wheelDelta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),e.preventDefault()},r.setElement(t,t.element),t},r.setElement=function(e,t){e.element=t,t.addEventListener("mousemove",e.mousemove),t.addEventListener("mousedown",e.mousedown),t.addEventListener("mouseup",e.mouseup),t.addEventListener("mousewheel",e.mousewheel),t.addEventListener("DOMMouseScroll",e.mousewheel),t.addEventListener("touchmove",e.mousemove),t.addEventListener("touchstart",e.mousedown),t.addEventListener("touchend",e.mouseup)},r.clearSourceEvents=function(e){e.sourceEvents.mousemove=null,e.sourceEvents.mousedown=null,e.sourceEvents.mouseup=null,e.sourceEvents.mousewheel=null,e.wheelDelta=0},r.setOffset=function(e,t){e.offset.x=t.x,e.offset.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},r.setScale=function(e,t){e.scale.x=t.x,e.scale.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},r._getRelativeMousePosition=function(e,t,i){var r,n,s=t.getBoundingClientRect(),o=document.documentElement||document.body.parentNode||document.body,a=void 0!==window.pageXOffset?window.pageXOffset:o.scrollLeft,l=void 0!==window.pageYOffset?window.pageYOffset:o.scrollTop,u=e.changedTouches;return u?(r=u[0].pageX-s.left-a,n=u[0].pageY-s.top-l):(r=e.pageX-s.left-a,n=e.pageY-s.top-l),{x:r/(t.clientWidth/(t.width||t.clientWidth)*i),y:n/(t.clientHeight/(t.height||t.clientHeight)*i)}}},function(e,t,i){var r={};e.exports=r;var n=i(0);r._registry={},r.register=function(e){if(r.isPlugin(e)||n.warn("Plugin.register:",r.toString(e),"does not implement all required fields."),e.name in r._registry){var t=r._registry[e.name],i=r.versionParse(e.version).number,s=r.versionParse(t.version).number;i>s?(n.warn("Plugin.register:",r.toString(t),"was upgraded to",r.toString(e)),r._registry[e.name]=e):i<s?n.warn("Plugin.register:",r.toString(t),"can not be downgraded to",r.toString(e)):e!==t&&n.warn("Plugin.register:",r.toString(e),"is already registered to different plugin object")}else r._registry[e.name]=e;return e},r.resolve=function(e){return r._registry[r.dependencyParse(e).name]},r.toString=function(e){return"string"==typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},r.isPlugin=function(e){return e&&e.name&&e.version&&e.install},r.isUsed=function(e,t){return e.used.indexOf(t)>-1},r.isFor=function(e,t){var i=e.for&&r.dependencyParse(e.for);return!e.for||t.name===i.name&&r.versionSatisfies(t.version,i.range)},r.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0!==e.uses.length){for(var i=r.dependencies(e),s=n.topologicalSort(i),o=[],a=0;a<s.length;a+=1)if(s[a]!==e.name){var l=r.resolve(s[a]);l?r.isUsed(e,l.name)||(r.isFor(l,e)||(n.warn("Plugin.use:",r.toString(l),"is for",l.for,"but installed on",r.toString(e)+"."),l._warned=!0),l.install?l.install(e):(n.warn("Plugin.use:",r.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(o.push("🔶 "+r.toString(l)),delete l._warned):o.push("✅ "+r.toString(l)),e.used.push(l.name)):o.push("❌ "+s[a])}o.length>0&&n.info(o.join("  "))}else n.warn("Plugin.use:",r.toString(e),"does not specify any dependencies to install.")},r.dependencies=function(e,t){var i=r.dependencyParse(e),s=i.name;if(!(s in(t=t||{}))){e=r.resolve(e)||e,t[s]=n.map(e.uses||[],(function(t){r.isPlugin(t)&&r.register(t);var s=r.dependencyParse(t),o=r.resolve(t);return o&&!r.versionSatisfies(o.version,s.range)?(n.warn("Plugin.dependencies:",r.toString(o),"does not satisfy",r.toString(s),"used by",r.toString(i)+"."),o._warned=!0,e._warned=!0):o||(n.warn("Plugin.dependencies:",r.toString(t),"used by",r.toString(i),"could not be resolved."),e._warned=!0),s.name}));for(var o=0;o<t[s].length;o+=1)r.dependencies(t[s][o],t);return t}},r.dependencyParse=function(e){return n.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(e)||n.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},r.versionParse=function(e){var t=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;t.test(e)||n.warn("Plugin.versionParse:",e,"is not a valid version or range.");var i=t.exec(e),r=Number(i[4]),s=Number(i[5]),o=Number(i[6]);return{isRange:Boolean(i[1]||i[2]),version:i[3],range:e,operator:i[1]||i[2]||"",major:r,minor:s,patch:o,parts:[r,s,o],prerelease:i[7],number:1e8*r+1e4*s+o}},r.versionSatisfies=function(e,t){t=t||"*";var i=r.versionParse(t),n=r.versionParse(e);if(i.isRange){if("*"===i.operator||"*"===e)return!0;if(">"===i.operator)return n.number>i.number;if(">="===i.operator)return n.number>=i.number;if("~"===i.operator)return n.major===i.major&&n.minor===i.minor&&n.patch>=i.patch;if("^"===i.operator)return i.major>0?n.major===i.major&&n.number>=i.number:i.minor>0?n.minor===i.minor&&n.patch>=i.patch:n.patch===i.patch}return e===t||"*"===e}},function(e,t){var i={};e.exports=i,i.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}},function(e,t,i){var r={};e.exports=r;var n=i(7),s=i(18),o=i(13),a=i(19),l=i(5),u=i(6),c=i(10),h=i(0),d=i(4);r.create=function(e){e=e||{};var t=h.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},e);return t.world=e.world||u.create({label:"World"}),t.pairs=e.pairs||a.create(),t.detector=e.detector||o.create(),t.grid={buckets:[]},t.world.gravity=t.gravity,t.broadphase=t.grid,t.metrics={},t},r.update=function(e,t){var i,d=h.now(),p=e.world,f=e.detector,m=e.pairs,g=e.timing,y=g.timestamp;t=void 0!==t?t:h._baseDelta,t*=g.timeScale,g.timestamp+=t,g.lastDelta=t;var v={timestamp:g.timestamp,delta:t};l.trigger(e,"beforeUpdate",v);var x=u.allBodies(p),_=u.allConstraints(p);for(p.isModified&&(o.setBodies(f,x),u.setModified(p,!1,!1,!0)),e.enableSleeping&&n.update(x,t),r._bodiesApplyGravity(x,e.gravity),t>0&&r._bodiesUpdate(x,t),c.preSolveAll(x),i=0;i<e.constraintIterations;i++)c.solveAll(_,t);c.postSolveAll(x),f.pairs=e.pairs;var b=o.collisions(f);a.update(m,b,y),e.enableSleeping&&n.afterCollisions(m.list),m.collisionStart.length>0&&l.trigger(e,"collisionStart",{pairs:m.collisionStart});var S=h.clamp(20/e.positionIterations,0,1);for(s.preSolvePosition(m.list),i=0;i<e.positionIterations;i++)s.solvePosition(m.list,t,S);for(s.postSolvePosition(x),c.preSolveAll(x),i=0;i<e.constraintIterations;i++)c.solveAll(_,t);for(c.postSolveAll(x),s.preSolveVelocity(m.list),i=0;i<e.velocityIterations;i++)s.solveVelocity(m.list,t);return r._bodiesUpdateVelocities(x),m.collisionActive.length>0&&l.trigger(e,"collisionActive",{pairs:m.collisionActive}),m.collisionEnd.length>0&&l.trigger(e,"collisionEnd",{pairs:m.collisionEnd}),r._bodiesClearForces(x),l.trigger(e,"afterUpdate",v),e.timing.lastElapsed=h.now()-d,e},r.merge=function(e,t){if(h.extend(e,t),t.world){e.world=t.world,r.clear(e);for(var i=u.allBodies(e.world),s=0;s<i.length;s++){var o=i[s];n.set(o,!1),o.id=h.nextId()}}},r.clear=function(e){a.clear(e.pairs),o.clear(e.detector)},r._bodiesClearForces=function(e){for(var t=e.length,i=0;i<t;i++){var r=e[i];r.force.x=0,r.force.y=0,r.torque=0}},r._bodiesApplyGravity=function(e,t){var i=void 0!==t.scale?t.scale:.001,r=e.length;if((0!==t.x||0!==t.y)&&0!==i)for(var n=0;n<r;n++){var s=e[n];s.isStatic||s.isSleeping||(s.force.y+=s.mass*t.y*i,s.force.x+=s.mass*t.x*i)}},r._bodiesUpdate=function(e,t){for(var i=e.length,r=0;r<i;r++){var n=e[r];n.isStatic||n.isSleeping||d.update(n,t)}},r._bodiesUpdateVelocities=function(e){for(var t=e.length,i=0;i<t;i++)d.updateVelocities(e[i])}},function(e,t,i){var r={};e.exports=r;var n=i(3),s=i(0),o=i(1);r._restingThresh=2,r._restingThreshTangent=Math.sqrt(6),r._positionDampen=.9,r._positionWarming=.8,r._frictionNormalMultiplier=5,r._frictionMaxStatic=Number.MAX_VALUE,r.preSolvePosition=function(e){var t,i,r,n=e.length;for(t=0;t<n;t++)(i=e[t]).isActive&&(r=i.activeContacts.length,i.collision.parentA.totalContacts+=r,i.collision.parentB.totalContacts+=r)},r.solvePosition=function(e,t,i){var n,o,a,l,u,c,h,d,p=r._positionDampen*(i||1),f=s.clamp(t/s._baseDelta,0,1),m=e.length;for(n=0;n<m;n++)(o=e[n]).isActive&&!o.isSensor&&(l=(a=o.collision).parentA,u=a.parentB,c=a.normal,o.separation=c.x*(u.positionImpulse.x+a.penetration.x-l.positionImpulse.x)+c.y*(u.positionImpulse.y+a.penetration.y-l.positionImpulse.y));for(n=0;n<m;n++)(o=e[n]).isActive&&!o.isSensor&&(l=(a=o.collision).parentA,u=a.parentB,c=a.normal,d=o.separation-o.slop*f,(l.isStatic||u.isStatic)&&(d*=2),l.isStatic||l.isSleeping||(h=p/l.totalContacts,l.positionImpulse.x+=c.x*d*h,l.positionImpulse.y+=c.y*d*h),u.isStatic||u.isSleeping||(h=p/u.totalContacts,u.positionImpulse.x-=c.x*d*h,u.positionImpulse.y-=c.y*d*h))},r.postSolvePosition=function(e){for(var t=r._positionWarming,i=e.length,s=n.translate,a=o.update,l=0;l<i;l++){var u=e[l],c=u.positionImpulse,h=c.x,d=c.y,p=u.velocity;if(u.totalContacts=0,0!==h||0!==d){for(var f=0;f<u.parts.length;f++){var m=u.parts[f];s(m.vertices,c),a(m.bounds,m.vertices,p),m.position.x+=h,m.position.y+=d}u.positionPrev.x+=h,u.positionPrev.y+=d,h*p.x+d*p.y<0?(c.x=0,c.y=0):(c.x*=t,c.y*=t)}}},r.preSolveVelocity=function(e){var t,i,r=e.length;for(t=0;t<r;t++){var n=e[t];if(n.isActive&&!n.isSensor){var s=n.activeContacts,o=s.length,a=n.collision,l=a.parentA,u=a.parentB,c=a.normal,h=a.tangent;for(i=0;i<o;i++){var d=s[i],p=d.vertex,f=d.normalImpulse,m=d.tangentImpulse;if(0!==f||0!==m){var g=c.x*f+h.x*m,y=c.y*f+h.y*m;l.isStatic||l.isSleeping||(l.positionPrev.x+=g*l.inverseMass,l.positionPrev.y+=y*l.inverseMass,l.anglePrev+=l.inverseInertia*((p.x-l.position.x)*y-(p.y-l.position.y)*g)),u.isStatic||u.isSleeping||(u.positionPrev.x-=g*u.inverseMass,u.positionPrev.y-=y*u.inverseMass,u.anglePrev-=u.inverseInertia*((p.x-u.position.x)*y-(p.y-u.position.y)*g))}}}}},r.solveVelocity=function(e,t){var i,n,o,a,l=t/s._baseDelta,u=l*l*l,c=-r._restingThresh*l,h=r._restingThreshTangent,d=r._frictionNormalMultiplier*l,p=r._frictionMaxStatic,f=e.length;for(o=0;o<f;o++){var m=e[o];if(m.isActive&&!m.isSensor){var g=m.collision,y=g.parentA,v=g.parentB,x=y.velocity,_=v.velocity,b=g.normal.x,S=g.normal.y,T=g.tangent.x,w=g.tangent.y,E=m.activeContacts,P=E.length,A=1/P,M=y.inverseMass+v.inverseMass,O=m.friction*m.frictionStatic*d;for(x.x=y.position.x-y.positionPrev.x,x.y=y.position.y-y.positionPrev.y,_.x=v.position.x-v.positionPrev.x,_.y=v.position.y-v.positionPrev.y,y.angularVelocity=y.angle-y.anglePrev,v.angularVelocity=v.angle-v.anglePrev,a=0;a<P;a++){var C=E[a],j=C.vertex,R=j.x-y.position.x,I=j.y-y.position.y,B=j.x-v.position.x,D=j.y-v.position.y,k=x.x-I*y.angularVelocity,F=x.y+R*y.angularVelocity,L=k-(_.x-D*v.angularVelocity),N=F-(_.y+B*v.angularVelocity),U=b*L+S*N,G=T*L+w*N,H=m.separation+U,V=Math.min(H,1),W=(V=H<0?0:V)*O;G<-W||G>W?(n=G>0?G:-G,(i=m.friction*(G>0?1:-1)*u)<-n?i=-n:i>n&&(i=n)):(i=G,n=p);var z=R*S-I*b,Y=B*S-D*b,X=A/(M+y.inverseInertia*z*z+v.inverseInertia*Y*Y),q=(1+m.restitution)*U*X;if(i*=X,U<c)C.normalImpulse=0;else{var $=C.normalImpulse;C.normalImpulse+=q,C.normalImpulse>0&&(C.normalImpulse=0),q=C.normalImpulse-$}if(G<-h||G>h)C.tangentImpulse=0;else{var K=C.tangentImpulse;C.tangentImpulse+=i,C.tangentImpulse<-n&&(C.tangentImpulse=-n),C.tangentImpulse>n&&(C.tangentImpulse=n),i=C.tangentImpulse-K}var Q=b*q+T*i,Z=S*q+w*i;y.isStatic||y.isSleeping||(y.positionPrev.x+=Q*y.inverseMass,y.positionPrev.y+=Z*y.inverseMass,y.anglePrev+=(R*Z-I*Q)*y.inverseInertia),v.isStatic||v.isSleeping||(v.positionPrev.x-=Q*v.inverseMass,v.positionPrev.y-=Z*v.inverseMass,v.anglePrev-=(B*Z-D*Q)*v.inverseInertia)}}}}},function(e,t,i){var r={};e.exports=r;var n=i(9),s=i(0);r.create=function(e){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},r.update=function(e,t,i){var r,s,o,a,l=e.list,u=l.length,c=e.table,h=t.length,d=e.collisionStart,p=e.collisionEnd,f=e.collisionActive;for(d.length=0,p.length=0,f.length=0,a=0;a<u;a++)l[a].confirmedActive=!1;for(a=0;a<h;a++)(o=(r=t[a]).pair)?(o.isActive?f.push(o):d.push(o),n.update(o,r,i),o.confirmedActive=!0):(c[(o=n.create(r,i)).id]=o,d.push(o),l.push(o));var m=[];for(u=l.length,a=0;a<u;a++)(o=l[a]).confirmedActive||(n.setActive(o,!1,i),p.push(o),o.collision.bodyA.isSleeping||o.collision.bodyB.isSleeping||m.push(a));for(a=0;a<m.length;a++)o=l[s=m[a]-a],l.splice(s,1),delete c[o.id]},r.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}},function(e,t,i){var r=e.exports=i(21);r.Axes=i(11),r.Bodies=i(12),r.Body=i(4),r.Bounds=i(1),r.Collision=i(8),r.Common=i(0),r.Composite=i(6),r.Composites=i(22),r.Constraint=i(10),r.Contact=i(16),r.Detector=i(13),r.Engine=i(17),r.Events=i(5),r.Grid=i(23),r.Mouse=i(14),r.MouseConstraint=i(24),r.Pair=i(9),r.Pairs=i(19),r.Plugin=i(15),r.Query=i(25),r.Render=i(26),r.Resolver=i(18),r.Runner=i(27),r.SAT=i(28),r.Sleeping=i(7),r.Svg=i(29),r.Vector=i(2),r.Vertices=i(3),r.World=i(30),r.Engine.run=r.Runner.run,r.Common.deprecated(r.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(e,t,i){var r={};e.exports=r;var n=i(15),s=i(0);r.name="matter-js",r.version="0.19.0",r.uses=[],r.used=[],r.use=function(){n.use(r,Array.prototype.slice.call(arguments))},r.before=function(e,t){return e=e.replace(/^Matter./,""),s.chainPathBefore(r,e,t)},r.after=function(e,t){return e=e.replace(/^Matter./,""),s.chainPathAfter(r,e,t)}},function(e,t,i){var r={};e.exports=r;var n=i(6),s=i(10),o=i(0),a=i(4),l=i(12),u=o.deprecated;r.stack=function(e,t,i,r,s,o,l){for(var u,c=n.create({label:"Stack"}),h=e,d=t,p=0,f=0;f<r;f++){for(var m=0,g=0;g<i;g++){var y=l(h,d,g,f,u,p);if(y){var v=y.bounds.max.y-y.bounds.min.y,x=y.bounds.max.x-y.bounds.min.x;v>m&&(m=v),a.translate(y,{x:.5*x,y:.5*v}),h=y.bounds.max.x+s,n.addBody(c,y),u=y,p+=1}else h+=s}d+=m+o,h=e}return c},r.chain=function(e,t,i,r,a,l){for(var u=e.bodies,c=1;c<u.length;c++){var h=u[c-1],d=u[c],p=h.bounds.max.y-h.bounds.min.y,f=h.bounds.max.x-h.bounds.min.x,m=d.bounds.max.y-d.bounds.min.y,g={bodyA:h,pointA:{x:f*t,y:p*i},bodyB:d,pointB:{x:(d.bounds.max.x-d.bounds.min.x)*r,y:m*a}},y=o.extend(g,l);n.addConstraint(e,s.create(y))}return e.label+=" Chain",e},r.mesh=function(e,t,i,r,a){var l,u,c,h,d,p=e.bodies;for(l=0;l<i;l++){for(u=1;u<t;u++)c=p[u-1+l*t],h=p[u+l*t],n.addConstraint(e,s.create(o.extend({bodyA:c,bodyB:h},a)));if(l>0)for(u=0;u<t;u++)c=p[u+(l-1)*t],h=p[u+l*t],n.addConstraint(e,s.create(o.extend({bodyA:c,bodyB:h},a))),r&&u>0&&(d=p[u-1+(l-1)*t],n.addConstraint(e,s.create(o.extend({bodyA:d,bodyB:h},a)))),r&&u<t-1&&(d=p[u+1+(l-1)*t],n.addConstraint(e,s.create(o.extend({bodyA:d,bodyB:h},a))))}return e.label+=" Mesh",e},r.pyramid=function(e,t,i,n,s,o,l){return r.stack(e,t,i,n,s,o,(function(t,r,o,u,c,h){var d=Math.min(n,Math.ceil(i/2)),p=c?c.bounds.max.x-c.bounds.min.x:0;if(!(u>d||o<(u=d-u)||o>i-1-u))return 1===h&&a.translate(c,{x:(o+(i%2==1?1:-1))*p,y:0}),l(e+(c?o*p:0)+o*s,r,o,u,c,h)}))},r.newtonsCradle=function(e,t,i,r,o){for(var a=n.create({label:"Newtons Cradle"}),u=0;u<i;u++){var c=l.circle(e+u*(1.9*r),t+o,r,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),h=s.create({pointA:{x:e+u*(1.9*r),y:t},bodyB:c});n.addBody(a,c),n.addConstraint(a,h)}return a},u(r,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),r.car=function(e,t,i,r,o){var u=a.nextGroup(!0),c=.5*-i+20,h=.5*i-20,d=n.create({label:"Car"}),p=l.rectangle(e,t,i,r,{collisionFilter:{group:u},chamfer:{radius:.5*r},density:2e-4}),f=l.circle(e+c,t+0,o,{collisionFilter:{group:u},friction:.8}),m=l.circle(e+h,t+0,o,{collisionFilter:{group:u},friction:.8}),g=s.create({bodyB:p,pointB:{x:c,y:0},bodyA:f,stiffness:1,length:0}),y=s.create({bodyB:p,pointB:{x:h,y:0},bodyA:m,stiffness:1,length:0});return n.addBody(d,p),n.addBody(d,f),n.addBody(d,m),n.addConstraint(d,g),n.addConstraint(d,y),d},u(r,"car","Composites.car ➤ moved to car example"),r.softBody=function(e,t,i,n,s,a,u,c,h,d){h=o.extend({inertia:1/0},h),d=o.extend({stiffness:.2,render:{type:"line",anchors:!1}},d);var p=r.stack(e,t,i,n,s,a,(function(e,t){return l.circle(e,t,c,h)}));return r.mesh(p,i,n,u,d),p.label="Soft Body",p},u(r,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")},function(e,t,i){var r={};e.exports=r;var n=i(9),s=i(0),o=s.deprecated;r.create=function(e){return s.extend({buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48},e)},r.update=function(e,t,i,n){var s,o,a,l,u,c=i.world,h=e.buckets,d=!1;for(s=0;s<t.length;s++){var p=t[s];if((!p.isSleeping||n)&&(!c.bounds||!(p.bounds.max.x<c.bounds.min.x||p.bounds.min.x>c.bounds.max.x||p.bounds.max.y<c.bounds.min.y||p.bounds.min.y>c.bounds.max.y))){var f=r._getRegion(e,p);if(!p.region||f.id!==p.region.id||n){p.region&&!n||(p.region=f);var m=r._regionUnion(f,p.region);for(o=m.startCol;o<=m.endCol;o++)for(a=m.startRow;a<=m.endRow;a++){l=h[u=r._getBucketId(o,a)];var g=o>=f.startCol&&o<=f.endCol&&a>=f.startRow&&a<=f.endRow,y=o>=p.region.startCol&&o<=p.region.endCol&&a>=p.region.startRow&&a<=p.region.endRow;!g&&y&&y&&l&&r._bucketRemoveBody(e,l,p),(p.region===f||g&&!y||n)&&(l||(l=r._createBucket(h,u)),r._bucketAddBody(e,l,p))}p.region=f,d=!0}}}d&&(e.pairsList=r._createActivePairsList(e))},o(r,"update","Grid.update ➤ replaced by Matter.Detector"),r.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},o(r,"clear","Grid.clear ➤ replaced by Matter.Detector"),r._regionUnion=function(e,t){var i=Math.min(e.startCol,t.startCol),n=Math.max(e.endCol,t.endCol),s=Math.min(e.startRow,t.startRow),o=Math.max(e.endRow,t.endRow);return r._createRegion(i,n,s,o)},r._getRegion=function(e,t){var i=t.bounds,n=Math.floor(i.min.x/e.bucketWidth),s=Math.floor(i.max.x/e.bucketWidth),o=Math.floor(i.min.y/e.bucketHeight),a=Math.floor(i.max.y/e.bucketHeight);return r._createRegion(n,s,o,a)},r._createRegion=function(e,t,i,r){return{id:e+","+t+","+i+","+r,startCol:e,endCol:t,startRow:i,endRow:r}},r._getBucketId=function(e,t){return"C"+e+"R"+t},r._createBucket=function(e,t){return e[t]=[]},r._bucketAddBody=function(e,t,i){var r,s=e.pairs,o=n.id,a=t.length;for(r=0;r<a;r++){var l=t[r];if(!(i.id===l.id||i.isStatic&&l.isStatic)){var u=o(i,l),c=s[u];c?c[2]+=1:s[u]=[i,l,1]}}t.push(i)},r._bucketRemoveBody=function(e,t,i){var r,o=e.pairs,a=n.id;t.splice(s.indexOf(t,i),1);var l=t.length;for(r=0;r<l;r++){var u=o[a(i,t[r])];u&&(u[2]-=1)}},r._createActivePairsList=function(e){var t,i,r=e.pairs,n=s.keys(r),o=n.length,a=[];for(i=0;i<o;i++)(t=r[n[i]])[2]>0?a.push(t):delete r[n[i]];return a}},function(e,t,i){var r={};e.exports=r;var n=i(3),s=i(7),o=i(14),a=i(5),l=i(13),u=i(10),c=i(6),h=i(0),d=i(1);r.create=function(e,t){var i=(e?e.mouse:null)||(t?t.mouse:null);i||(e&&e.render&&e.render.canvas?i=o.create(e.render.canvas):t&&t.element?i=o.create(t.element):(i=o.create(),h.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var n={type:"mouseConstraint",mouse:i,element:null,body:null,constraint:u.create({label:"Mouse Constraint",pointA:i.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),collisionFilter:{category:1,mask:4294967295,group:0}},s=h.extend(n,t);return a.on(e,"beforeUpdate",(function(){var t=c.allBodies(e.world);r.update(s,t),r._triggerEvents(s)})),s},r.update=function(e,t){var i=e.mouse,r=e.constraint,o=e.body;if(0===i.button){if(r.bodyB)s.set(r.bodyB,!1),r.pointA=i.position;else for(var u=0;u<t.length;u++)if(o=t[u],d.contains(o.bounds,i.position)&&l.canCollide(o.collisionFilter,e.collisionFilter))for(var c=o.parts.length>1?1:0;c<o.parts.length;c++){var h=o.parts[c];if(n.contains(h.vertices,i.position)){r.pointA=i.position,r.bodyB=e.body=o,r.pointB={x:i.position.x-o.position.x,y:i.position.y-o.position.y},r.angleB=o.angle,s.set(o,!1),a.trigger(e,"startdrag",{mouse:i,body:o});break}}}else r.bodyB=e.body=null,r.pointB=null,o&&a.trigger(e,"enddrag",{mouse:i,body:o})},r._triggerEvents=function(e){var t=e.mouse,i=t.sourceEvents;i.mousemove&&a.trigger(e,"mousemove",{mouse:t}),i.mousedown&&a.trigger(e,"mousedown",{mouse:t}),i.mouseup&&a.trigger(e,"mouseup",{mouse:t}),o.clearSourceEvents(t)}},function(e,t,i){var r={};e.exports=r;var n=i(2),s=i(8),o=i(1),a=i(12),l=i(3);r.collides=function(e,t){for(var i=[],r=t.length,n=e.bounds,a=s.collides,l=o.overlaps,u=0;u<r;u++){var c=t[u],h=c.parts.length,d=1===h?0:1;if(l(c.bounds,n))for(var p=d;p<h;p++){var f=c.parts[p];if(l(f.bounds,n)){var m=a(f,e);if(m){i.push(m);break}}}}return i},r.ray=function(e,t,i,s){s=s||1e-100;for(var o=n.angle(t,i),l=n.magnitude(n.sub(t,i)),u=.5*(i.x+t.x),c=.5*(i.y+t.y),h=a.rectangle(u,c,l,s,{angle:o}),d=r.collides(h,e),p=0;p<d.length;p+=1){var f=d[p];f.body=f.bodyB=f.bodyA}return d},r.region=function(e,t,i){for(var r=[],n=0;n<e.length;n++){var s=e[n],a=o.overlaps(s.bounds,t);(a&&!i||!a&&i)&&r.push(s)}return r},r.point=function(e,t){for(var i=[],r=0;r<e.length;r++){var n=e[r];if(o.contains(n.bounds,t))for(var s=1===n.parts.length?0:1;s<n.parts.length;s++){var a=n.parts[s];if(o.contains(a.bounds,t)&&l.contains(a.vertices,t)){i.push(n);break}}}return i}},function(e,t,i){var r={};e.exports=r;var n=i(4),s=i(0),o=i(6),a=i(1),l=i(5),u=i(2),c=i(14);!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout((function(){e(s.now())}),1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r._goodFps=30,r._goodDelta=1e3/60,r.create=function(e){var t={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!e.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},i=s.extend(t,e);return i.canvas&&(i.canvas.width=i.options.width||i.canvas.width,i.canvas.height=i.options.height||i.canvas.height),i.mouse=e.mouse,i.engine=e.engine,i.canvas=i.canvas||d(i.options.width,i.options.height),i.context=i.canvas.getContext("2d"),i.textures={},i.bounds=i.bounds||{min:{x:0,y:0},max:{x:i.canvas.width,y:i.canvas.height}},i.controller=r,i.options.showBroadphase=!1,1!==i.options.pixelRatio&&r.setPixelRatio(i,i.options.pixelRatio),s.isElement(i.element)&&i.element.appendChild(i.canvas),i},r.run=function(t){!function n(s){t.frameRequestId=e(n),i(t,s),r.world(t,s),(t.options.showStats||t.options.showDebug)&&r.stats(t,t.context,s),(t.options.showPerformance||t.options.showDebug)&&r.performance(t,t.context,s)}()},r.stop=function(e){t(e.frameRequestId)},r.setPixelRatio=function(e,t){var i=e.options,r=e.canvas;"auto"===t&&(t=p(r)),i.pixelRatio=t,r.setAttribute("data-pixel-ratio",t),r.width=i.width*t,r.height=i.height*t,r.style.width=i.width+"px",r.style.height=i.height+"px"},r.lookAt=function(e,t,i,r){r=void 0===r||r,t=s.isArray(t)?t:[t],i=i||{x:0,y:0};for(var n={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},o=0;o<t.length;o+=1){var a=t[o],l=a.bounds?a.bounds.min:a.min||a.position||a,u=a.bounds?a.bounds.max:a.max||a.position||a;l&&u&&(l.x<n.min.x&&(n.min.x=l.x),u.x>n.max.x&&(n.max.x=u.x),l.y<n.min.y&&(n.min.y=l.y),u.y>n.max.y&&(n.max.y=u.y))}var h=n.max.x-n.min.x+2*i.x,d=n.max.y-n.min.y+2*i.y,p=e.canvas.height,f=e.canvas.width/p,m=h/d,g=1,y=1;m>f?y=m/f:g=f/m,e.options.hasBounds=!0,e.bounds.min.x=n.min.x,e.bounds.max.x=n.min.x+h*g,e.bounds.min.y=n.min.y,e.bounds.max.y=n.min.y+d*y,r&&(e.bounds.min.x+=.5*h-h*g*.5,e.bounds.max.x+=.5*h-h*g*.5,e.bounds.min.y+=.5*d-d*y*.5,e.bounds.max.y+=.5*d-d*y*.5),e.bounds.min.x-=i.x,e.bounds.max.x-=i.x,e.bounds.min.y-=i.y,e.bounds.max.y-=i.y,e.mouse&&(c.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),c.setOffset(e.mouse,e.bounds.min))},r.startViewTransform=function(e){var t=e.bounds.max.x-e.bounds.min.x,i=e.bounds.max.y-e.bounds.min.y,r=t/e.options.width,n=i/e.options.height;e.context.setTransform(e.options.pixelRatio/r,0,0,e.options.pixelRatio/n,0,0),e.context.translate(-e.bounds.min.x,-e.bounds.min.y)},r.endViewTransform=function(e){e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0)},r.world=function(e,t){var i,n=s.now(),h=e.engine,d=h.world,p=e.canvas,f=e.context,g=e.options,y=e.timing,v=o.allBodies(d),x=o.allConstraints(d),_=g.wireframes?g.wireframeBackground:g.background,b=[],S=[],T={timestamp:h.timing.timestamp};if(l.trigger(e,"beforeRender",T),e.currentBackground!==_&&m(e,_),f.globalCompositeOperation="source-in",f.fillStyle="transparent",f.fillRect(0,0,p.width,p.height),f.globalCompositeOperation="source-over",g.hasBounds){for(i=0;i<v.length;i++){var w=v[i];a.overlaps(w.bounds,e.bounds)&&b.push(w)}for(i=0;i<x.length;i++){var E=x[i],P=E.bodyA,A=E.bodyB,M=E.pointA,O=E.pointB;P&&(M=u.add(P.position,E.pointA)),A&&(O=u.add(A.position,E.pointB)),M&&O&&(a.contains(e.bounds,M)||a.contains(e.bounds,O))&&S.push(E)}r.startViewTransform(e),e.mouse&&(c.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.options.width,y:(e.bounds.max.y-e.bounds.min.y)/e.options.height}),c.setOffset(e.mouse,e.bounds.min))}else S=x,b=v,1!==e.options.pixelRatio&&e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0);!g.wireframes||h.enableSleeping&&g.showSleeping?r.bodies(e,b,f):(g.showConvexHulls&&r.bodyConvexHulls(e,b,f),r.bodyWireframes(e,b,f)),g.showBounds&&r.bodyBounds(e,b,f),(g.showAxes||g.showAngleIndicator)&&r.bodyAxes(e,b,f),g.showPositions&&r.bodyPositions(e,b,f),g.showVelocity&&r.bodyVelocity(e,b,f),g.showIds&&r.bodyIds(e,b,f),g.showSeparations&&r.separations(e,h.pairs.list,f),g.showCollisions&&r.collisions(e,h.pairs.list,f),g.showVertexNumbers&&r.vertexNumbers(e,b,f),g.showMousePosition&&r.mousePosition(e,e.mouse,f),r.constraints(S,f),g.hasBounds&&r.endViewTransform(e),l.trigger(e,"afterRender",T),y.lastElapsed=s.now()-n},r.stats=function(e,t,i){for(var r=e.engine,n=r.world,s=o.allBodies(n),a=0,l=0,u=0;u<s.length;u+=1)a+=s[u].parts.length;var c={Part:a,Body:s.length,Cons:o.allConstraints(n).length,Comp:o.allComposites(n).length,Pair:r.pairs.list.length};for(var h in t.fillStyle="#0e0f19",t.fillRect(l,0,302.5,44),t.font="12px Arial",t.textBaseline="top",t.textAlign="right",c){var d=c[h];t.fillStyle="#aaa",t.fillText(h,l+55,8),t.fillStyle="#eee",t.fillText(d,l+55,26),l+=55}},r.performance=function(e,t){var i=e.engine,n=e.timing,s=n.deltaHistory,o=n.elapsedHistory,a=n.timestampElapsedHistory,l=n.engineDeltaHistory,u=n.engineElapsedHistory,c=i.timing.lastDelta,d=h(s),p=h(o),f=h(l),m=h(u),g=h(a)/d||0,y=1e3/d||0;t.fillStyle="#0e0f19",t.fillRect(0,50,370,34),r.status(t,10,69,60,4,s.length,Math.round(y)+" fps",y/r._goodFps,(function(e){return s[e]/d-1})),r.status(t,82,69,60,4,l.length,c.toFixed(2)+" dt",r._goodDelta/c,(function(e){return l[e]/f-1})),r.status(t,154,69,60,4,u.length,m.toFixed(2)+" ut",1-m/r._goodFps,(function(e){return u[e]/m-1})),r.status(t,226,69,60,4,o.length,p.toFixed(2)+" rt",1-p/r._goodFps,(function(e){return o[e]/p-1})),r.status(t,298,69,60,4,a.length,g.toFixed(2)+" x",g*g*g,(function(e){return(a[e]/s[e]/g||0)-1}))},r.status=function(e,t,i,r,n,o,a,l,u){e.strokeStyle="#888",e.fillStyle="#444",e.lineWidth=1,e.fillRect(t,i+7,r,1),e.beginPath(),e.moveTo(t,i+7-n*s.clamp(.4*u(0),-2,2));for(var c=0;c<r;c+=1)e.lineTo(t+c,i+7-(c<o?n*s.clamp(.4*u(c),-2,2):0));e.stroke(),e.fillStyle="hsl("+s.clamp(25+95*l,0,120)+",100%,60%)",e.fillRect(t,i-7,4,4),e.font="12px Arial",e.textBaseline="middle",e.textAlign="right",e.fillStyle="#eee",e.fillText(a,t+r,i-5)},r.constraints=function(e,t){for(var i=t,r=0;r<e.length;r++){var n=e[r];if(n.render.visible&&n.pointA&&n.pointB){var o,a,l=n.bodyA,c=n.bodyB;if(o=l?u.add(l.position,n.pointA):n.pointA,"pin"===n.render.type)i.beginPath(),i.arc(o.x,o.y,3,0,2*Math.PI),i.closePath();else{if(a=c?u.add(c.position,n.pointB):n.pointB,i.beginPath(),i.moveTo(o.x,o.y),"spring"===n.render.type)for(var h,d=u.sub(a,o),p=u.perp(u.normalise(d)),f=Math.ceil(s.clamp(n.length/5,12,20)),m=1;m<f;m+=1)h=m%2==0?1:-1,i.lineTo(o.x+d.x*(m/f)+p.x*h*4,o.y+d.y*(m/f)+p.y*h*4);i.lineTo(a.x,a.y)}n.render.lineWidth&&(i.lineWidth=n.render.lineWidth,i.strokeStyle=n.render.strokeStyle,i.stroke()),n.render.anchors&&(i.fillStyle=n.render.strokeStyle,i.beginPath(),i.arc(o.x,o.y,3,0,2*Math.PI),i.arc(a.x,a.y,3,0,2*Math.PI),i.closePath(),i.fill())}}},r.bodies=function(e,t,i){var r,n,s,o,a=i,l=(e.engine,e.options),u=l.showInternalEdges||!l.wireframes;for(s=0;s<t.length;s++)if((r=t[s]).render.visible)for(o=r.parts.length>1?1:0;o<r.parts.length;o++)if((n=r.parts[o]).render.visible){if(l.showSleeping&&r.isSleeping?a.globalAlpha=.5*n.render.opacity:1!==n.render.opacity&&(a.globalAlpha=n.render.opacity),n.render.sprite&&n.render.sprite.texture&&!l.wireframes){var c=n.render.sprite,h=f(e,c.texture);a.translate(n.position.x,n.position.y),a.rotate(n.angle),a.drawImage(h,h.width*-c.xOffset*c.xScale,h.height*-c.yOffset*c.yScale,h.width*c.xScale,h.height*c.yScale),a.rotate(-n.angle),a.translate(-n.position.x,-n.position.y)}else{if(n.circleRadius)a.beginPath(),a.arc(n.position.x,n.position.y,n.circleRadius,0,2*Math.PI);else{a.beginPath(),a.moveTo(n.vertices[0].x,n.vertices[0].y);for(var d=1;d<n.vertices.length;d++)!n.vertices[d-1].isInternal||u?a.lineTo(n.vertices[d].x,n.vertices[d].y):a.moveTo(n.vertices[d].x,n.vertices[d].y),n.vertices[d].isInternal&&!u&&a.moveTo(n.vertices[(d+1)%n.vertices.length].x,n.vertices[(d+1)%n.vertices.length].y);a.lineTo(n.vertices[0].x,n.vertices[0].y),a.closePath()}l.wireframes?(a.lineWidth=1,a.strokeStyle="#bbb",a.stroke()):(a.fillStyle=n.render.fillStyle,n.render.lineWidth&&(a.lineWidth=n.render.lineWidth,a.strokeStyle=n.render.strokeStyle,a.stroke()),a.fill())}a.globalAlpha=1}},r.bodyWireframes=function(e,t,i){var r,n,s,o,a,l=i,u=e.options.showInternalEdges;for(l.beginPath(),s=0;s<t.length;s++)if((r=t[s]).render.visible)for(a=r.parts.length>1?1:0;a<r.parts.length;a++){for(n=r.parts[a],l.moveTo(n.vertices[0].x,n.vertices[0].y),o=1;o<n.vertices.length;o++)!n.vertices[o-1].isInternal||u?l.lineTo(n.vertices[o].x,n.vertices[o].y):l.moveTo(n.vertices[o].x,n.vertices[o].y),n.vertices[o].isInternal&&!u&&l.moveTo(n.vertices[(o+1)%n.vertices.length].x,n.vertices[(o+1)%n.vertices.length].y);l.lineTo(n.vertices[0].x,n.vertices[0].y)}l.lineWidth=1,l.strokeStyle="#bbb",l.stroke()},r.bodyConvexHulls=function(e,t,i){var r,n,s,o=i;for(o.beginPath(),n=0;n<t.length;n++)if((r=t[n]).render.visible&&1!==r.parts.length){for(o.moveTo(r.vertices[0].x,r.vertices[0].y),s=1;s<r.vertices.length;s++)o.lineTo(r.vertices[s].x,r.vertices[s].y);o.lineTo(r.vertices[0].x,r.vertices[0].y)}o.lineWidth=1,o.strokeStyle="rgba(255,255,255,0.2)",o.stroke()},r.vertexNumbers=function(e,t,i){var r,n,s,o=i;for(r=0;r<t.length;r++){var a=t[r].parts;for(s=a.length>1?1:0;s<a.length;s++){var l=a[s];for(n=0;n<l.vertices.length;n++)o.fillStyle="rgba(255,255,255,0.2)",o.fillText(r+"_"+n,l.position.x+.8*(l.vertices[n].x-l.position.x),l.position.y+.8*(l.vertices[n].y-l.position.y))}}},r.mousePosition=function(e,t,i){var r=i;r.fillStyle="rgba(255,255,255,0.8)",r.fillText(t.position.x+"  "+t.position.y,t.position.x+5,t.position.y-5)},r.bodyBounds=function(e,t,i){var r=i,n=(e.engine,e.options);r.beginPath();for(var s=0;s<t.length;s++)if(t[s].render.visible)for(var o=t[s].parts,a=o.length>1?1:0;a<o.length;a++){var l=o[a];r.rect(l.bounds.min.x,l.bounds.min.y,l.bounds.max.x-l.bounds.min.x,l.bounds.max.y-l.bounds.min.y)}n.wireframes?r.strokeStyle="rgba(255,255,255,0.08)":r.strokeStyle="rgba(0,0,0,0.1)",r.lineWidth=1,r.stroke()},r.bodyAxes=function(e,t,i){var r,n,s,o,a=i,l=(e.engine,e.options);for(a.beginPath(),n=0;n<t.length;n++){var u=t[n],c=u.parts;if(u.render.visible)if(l.showAxes)for(s=c.length>1?1:0;s<c.length;s++)for(r=c[s],o=0;o<r.axes.length;o++){var h=r.axes[o];a.moveTo(r.position.x,r.position.y),a.lineTo(r.position.x+20*h.x,r.position.y+20*h.y)}else for(s=c.length>1?1:0;s<c.length;s++)for(r=c[s],o=0;o<r.axes.length;o++)a.moveTo(r.position.x,r.position.y),a.lineTo((r.vertices[0].x+r.vertices[r.vertices.length-1].x)/2,(r.vertices[0].y+r.vertices[r.vertices.length-1].y)/2)}l.wireframes?(a.strokeStyle="indianred",a.lineWidth=1):(a.strokeStyle="rgba(255, 255, 255, 0.4)",a.globalCompositeOperation="overlay",a.lineWidth=2),a.stroke(),a.globalCompositeOperation="source-over"},r.bodyPositions=function(e,t,i){var r,n,s,o,a=i,l=(e.engine,e.options);for(a.beginPath(),s=0;s<t.length;s++)if((r=t[s]).render.visible)for(o=0;o<r.parts.length;o++)n=r.parts[o],a.arc(n.position.x,n.position.y,3,0,2*Math.PI,!1),a.closePath();for(l.wireframes?a.fillStyle="indianred":a.fillStyle="rgba(0,0,0,0.5)",a.fill(),a.beginPath(),s=0;s<t.length;s++)(r=t[s]).render.visible&&(a.arc(r.positionPrev.x,r.positionPrev.y,2,0,2*Math.PI,!1),a.closePath());a.fillStyle="rgba(255,165,0,0.8)",a.fill()},r.bodyVelocity=function(e,t,i){var r=i;r.beginPath();for(var s=0;s<t.length;s++){var o=t[s];if(o.render.visible){var a=n.getVelocity(o);r.moveTo(o.position.x,o.position.y),r.lineTo(o.position.x+a.x,o.position.y+a.y)}}r.lineWidth=3,r.strokeStyle="cornflowerblue",r.stroke()},r.bodyIds=function(e,t,i){var r,n,s=i;for(r=0;r<t.length;r++)if(t[r].render.visible){var o=t[r].parts;for(n=o.length>1?1:0;n<o.length;n++){var a=o[n];s.font="12px Arial",s.fillStyle="rgba(255,255,255,0.5)",s.fillText(a.id,a.position.x+10,a.position.y-10)}}},r.collisions=function(e,t,i){var r,n,s,o,a=i,l=e.options;for(a.beginPath(),s=0;s<t.length;s++)if((r=t[s]).isActive)for(n=r.collision,o=0;o<r.activeContacts.length;o++){var u=r.activeContacts[o].vertex;a.rect(u.x-1.5,u.y-1.5,3.5,3.5)}for(l.wireframes?a.fillStyle="rgba(255,255,255,0.7)":a.fillStyle="orange",a.fill(),a.beginPath(),s=0;s<t.length;s++)if((r=t[s]).isActive&&(n=r.collision,r.activeContacts.length>0)){var c=r.activeContacts[0].vertex.x,h=r.activeContacts[0].vertex.y;2===r.activeContacts.length&&(c=(r.activeContacts[0].vertex.x+r.activeContacts[1].vertex.x)/2,h=(r.activeContacts[0].vertex.y+r.activeContacts[1].vertex.y)/2),n.bodyB===n.supports[0].body||!0===n.bodyA.isStatic?a.moveTo(c-8*n.normal.x,h-8*n.normal.y):a.moveTo(c+8*n.normal.x,h+8*n.normal.y),a.lineTo(c,h)}l.wireframes?a.strokeStyle="rgba(255,165,0,0.7)":a.strokeStyle="orange",a.lineWidth=1,a.stroke()},r.separations=function(e,t,i){var r,n,s,o,a,l=i,u=e.options;for(l.beginPath(),a=0;a<t.length;a++)if((r=t[a]).isActive){s=(n=r.collision).bodyA;var c=1;(o=n.bodyB).isStatic||s.isStatic||(c=.5),o.isStatic&&(c=0),l.moveTo(o.position.x,o.position.y),l.lineTo(o.position.x-n.penetration.x*c,o.position.y-n.penetration.y*c),c=1,o.isStatic||s.isStatic||(c=.5),s.isStatic&&(c=0),l.moveTo(s.position.x,s.position.y),l.lineTo(s.position.x+n.penetration.x*c,s.position.y+n.penetration.y*c)}u.wireframes?l.strokeStyle="rgba(255,165,0,0.5)":l.strokeStyle="orange",l.stroke()},r.inspector=function(e,t){e.engine;var i,r=e.selected,n=e.render,s=n.options;if(s.hasBounds){var o=n.bounds.max.x-n.bounds.min.x,a=n.bounds.max.y-n.bounds.min.y,l=o/n.options.width,u=a/n.options.height;t.scale(1/l,1/u),t.translate(-n.bounds.min.x,-n.bounds.min.y)}for(var c=0;c<r.length;c++){var h=r[c].data;switch(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.9)",t.setLineDash([1,2]),h.type){case"body":i=h.bounds,t.beginPath(),t.rect(Math.floor(i.min.x-3),Math.floor(i.min.y-3),Math.floor(i.max.x-i.min.x+6),Math.floor(i.max.y-i.min.y+6)),t.closePath(),t.stroke();break;case"constraint":var d=h.pointA;h.bodyA&&(d=h.pointB),t.beginPath(),t.arc(d.x,d.y,10,0,2*Math.PI),t.closePath(),t.stroke()}t.setLineDash([]),t.translate(-.5,-.5)}null!==e.selectStart&&(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.6)",t.fillStyle="rgba(255,165,0,0.1)",i=e.selectBounds,t.beginPath(),t.rect(Math.floor(i.min.x),Math.floor(i.min.y),Math.floor(i.max.x-i.min.x),Math.floor(i.max.y-i.min.y)),t.closePath(),t.stroke(),t.fill(),t.translate(-.5,-.5)),s.hasBounds&&t.setTransform(1,0,0,1,0,0)};var i=function(e,t){var i=e.engine,n=e.timing,s=n.historySize,o=i.timing.timestamp;n.delta=t-n.lastTime||r._goodDelta,n.lastTime=t,n.timestampElapsed=o-n.lastTimestamp||0,n.lastTimestamp=o,n.deltaHistory.unshift(n.delta),n.deltaHistory.length=Math.min(n.deltaHistory.length,s),n.engineDeltaHistory.unshift(i.timing.lastDelta),n.engineDeltaHistory.length=Math.min(n.engineDeltaHistory.length,s),n.timestampElapsedHistory.unshift(n.timestampElapsed),n.timestampElapsedHistory.length=Math.min(n.timestampElapsedHistory.length,s),n.engineElapsedHistory.unshift(i.timing.lastElapsed),n.engineElapsedHistory.length=Math.min(n.engineElapsedHistory.length,s),n.elapsedHistory.unshift(n.lastElapsed),n.elapsedHistory.length=Math.min(n.elapsedHistory.length,s)},h=function(e){for(var t=0,i=0;i<e.length;i+=1)t+=e[i];return t/e.length||0},d=function(e,t){var i=document.createElement("canvas");return i.width=e,i.height=t,i.oncontextmenu=function(){return!1},i.onselectstart=function(){return!1},i},p=function(e){var t=e.getContext("2d");return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},f=function(e,t){var i=e.textures[t];return i||((i=e.textures[t]=new Image).src=t,i)},m=function(e,t){var i=t;/(jpg|gif|png)$/.test(t)&&(i="url("+t+")"),e.canvas.style.background=i,e.canvas.style.backgroundSize="contain",e.currentBackground=t}}()},function(e,t,i){var r={};e.exports=r;var n=i(5),s=i(17),o=i(0);!function(){var e,t,i;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e||(e=function(e){i=setTimeout((function(){e(o.now())}),1e3/60)},t=function(){clearTimeout(i)}),r.create=function(e){var t=o.extend({fps:60,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,frameRequestId:null,isFixed:!1,enabled:!0},e);return t.delta=t.delta||1e3/t.fps,t.deltaMin=t.deltaMin||1e3/t.fps,t.deltaMax=t.deltaMax||1e3/(.5*t.fps),t.fps=1e3/t.delta,t},r.run=function(t,i){return void 0!==t.positionIterations&&(i=t,t=r.create()),function n(s){t.frameRequestId=e(n),s&&t.enabled&&r.tick(t,i,s)}(),t},r.tick=function(e,t,i){var r,o=t.timing;e.isFixed?r=e.delta:(r=i-e.timePrev||e.delta,e.timePrev=i,e.deltaHistory.push(r),e.deltaHistory=e.deltaHistory.slice(-e.deltaSampleSize),r=(r=(r=Math.min.apply(null,e.deltaHistory))<e.deltaMin?e.deltaMin:r)>e.deltaMax?e.deltaMax:r,e.delta=r);var a={timestamp:o.timestamp};n.trigger(e,"beforeTick",a),e.frameCounter+=1,i-e.counterTimestamp>=1e3&&(e.fps=e.frameCounter*((i-e.counterTimestamp)/1e3),e.counterTimestamp=i,e.frameCounter=0),n.trigger(e,"tick",a),n.trigger(e,"beforeUpdate",a),s.update(t,r),n.trigger(e,"afterUpdate",a),n.trigger(e,"afterTick",a)},r.stop=function(e){t(e.frameRequestId)},r.start=function(e,t){r.run(e,t)}}()},function(e,t,i){var r={};e.exports=r;var n=i(8),s=i(0).deprecated;r.collides=function(e,t){return n.collides(e,t)},s(r,"collides","SAT.collides ➤ replaced by Collision.collides")},function(e,t,i){var r={};e.exports=r,i(1);var n=i(0);r.pathToVertices=function(e,t){"undefined"==typeof window||"SVGPathSeg"in window||n.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,s,o,a,l,u,c,h,d,p,f,m=[],g=0,y=0,v=0;t=t||15;var x=function(e,t,i){var r=i%2==1&&i>1;if(!d||e!=d.x||t!=d.y){d&&r?(p=d.x,f=d.y):(p=0,f=0);var n={x:p+e,y:f+t};!r&&d||(d=n),m.push(n),y=p+e,v=f+t}},_=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":y=e.x,v=e.y;break;case"H":y=e.x;break;case"V":v=e.y}x(y,v,e.pathSegType)}};for(r._svgPathToAbsolute(e),o=e.getTotalLength(),u=[],i=0;i<e.pathSegList.numberOfItems;i+=1)u.push(e.pathSegList.getItem(i));for(c=u.concat();g<o;){if((l=u[e.getPathSegAtLength(g)])!=h){for(;c.length&&c[0]!=l;)_(c.shift());h=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":a=e.getPointAtLength(g),x(a.x,a.y,0)}g+=t}for(i=0,s=c.length;i<s;++i)_(c[i]);return m},r._svgPathToAbsolute=function(e){for(var t,i,r,n,s,o,a=e.pathSegList,l=0,u=0,c=a.numberOfItems,h=0;h<c;++h){var d=a.getItem(h),p=d.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(p))"x"in d&&(l=d.x),"y"in d&&(u=d.y);else switch("x1"in d&&(r=l+d.x1),"x2"in d&&(s=l+d.x2),"y1"in d&&(n=u+d.y1),"y2"in d&&(o=u+d.y2),"x"in d&&(l+=d.x),"y"in d&&(u+=d.y),p){case"m":a.replaceItem(e.createSVGPathSegMovetoAbs(l,u),h);break;case"l":a.replaceItem(e.createSVGPathSegLinetoAbs(l,u),h);break;case"h":a.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(l),h);break;case"v":a.replaceItem(e.createSVGPathSegLinetoVerticalAbs(u),h);break;case"c":a.replaceItem(e.createSVGPathSegCurvetoCubicAbs(l,u,r,n,s,o),h);break;case"s":a.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(l,u,s,o),h);break;case"q":a.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(l,u,r,n),h);break;case"t":a.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(l,u),h);break;case"a":a.replaceItem(e.createSVGPathSegArcAbs(l,u,d.r1,d.r2,d.angle,d.largeArcFlag,d.sweepFlag),h);break;case"z":case"Z":l=t,u=i}"M"!=p&&"m"!=p||(t=l,i=u)}}},function(e,t,i){var r={};e.exports=r;var n=i(6);i(0),r.create=n.create,r.add=n.add,r.remove=n.remove,r.clear=n.clear,r.addComposite=n.addComposite,r.addBody=n.addBody,r.addConstraint=n.addConstraint}])},"object"==(void 0===i?"undefined":a(i))&&"object"==(void 0===t?"undefined":a(t))?t.exports=s():"function"==typeof r&&r.amd?r("Matter",[],s):"object"==(void 0===i?"undefined":a(i))?i.Matter=s():n.Matter=s()},{}],rGCC:[function(e,t,i){var r,n;function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}r=this,n=function(e){return function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(t,i){t.exports=e},function(e,t,i){var r={name:"matter-collision-events",version:"0.1.5",for:"matter-js@^0.12.0",install:function(e){var t=e.Body.create;e.Body.create=function(){var e=t.apply(null,arguments);return e.onCollide=function(t){e._mceOC=t},e.onCollideEnd=function(t){e._mceOCE=t},e.onCollideActive=function(t){e._mceOCA=t},e},e.after("Engine.create",(function(){e.Events.on(this,"collisionStart",(function(t){t.pairs.map((function(t){e.Events.trigger(t.bodyA,"onCollide",{pair:t}),e.Events.trigger(t.bodyB,"onCollide",{pair:t}),t.bodyA._mceOC&&t.bodyA._mceOC(t),t.bodyB._mceOC&&t.bodyB._mceOC(t)}))})),e.Events.on(this,"collisionActive",(function(t){t.pairs.map((function(t){e.Events.trigger(t.bodyA,"onCollideActive",{pair:t}),e.Events.trigger(t.bodyB,"onCollideActive",{pair:t}),t.bodyA._mceOCA&&t.bodyA._mceOCA(t),t.bodyB._mceOCA&&t.bodyB._mceOCA(t)}))})),e.Events.on(this,"collisionEnd",(function(t){t.pairs.map((function(t){e.Events.trigger(t.bodyA,"onCollideEnd",{pair:t}),e.Events.trigger(t.bodyB,"onCollideEnd",{pair:t}),t.bodyA._mceOCE&&t.bodyA._mceOCE(t),t.bodyB._mceOCE&&t.bodyB._mceOCE(t)}))}))}))}};i(0).Plugin.register(r),e.exports.MatterCollisionEvents=r}])},"object"==(void 0===i?"undefined":s(i))&&"object"==(void 0===t?"undefined":s(t))?t.exports=n(e("matter-js")):"object"==(void 0===i?"undefined":s(i))?i.MatterCollisionEvents=n(e("matter-js")):r.MatterCollisionEvents=n(r.Matter)},{"matter-js":"mG0D"}],XUD9:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.mainPhysicsScene=void 0;var r=e("matter-js"),n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=a(t);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}r.default=e,i&&i.set(e,r);return r}(e("./../lib/matter")),s=e("./../lib/matterCollisionEvents"),o=e("./constants");function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(a=function(e){return e?i:t})(e)}var l=new(function(){function e(){this.value=Math.random(),this.init()}return e.prototype.removePixiCanvas=function(){var e=document.querySelector(".game-wrap");document.body.removeChild(e)},e.prototype.initCanvasRenderer=function(){var e=r.Render.create({element:document.body.querySelector(".game-wrap"),engine:this.engineInstance,options:{width:window.innerWidth,height:window.innerHeight,showAngleIndicator:!0,wireframes:!1}});e.canvas.id="physicsCanvas";var t=r.Mouse.create(e.canvas),i=r.MouseConstraint.create(this.engineInstance,{mouse:t,constraint:{stiffness:.2,render:{visible:!1}}});r.Composite.add(this.worldInstance,i),e.mouse=t,r.Render.lookAt(e,{min:{x:0,y:0},max:{x:window.innerWidth,y:window.innerHeight}}),r.Render.run(e)},e.prototype.init=function(){var e=n.Engine,t=(n.Render,n.Runner),i=n.Composite;n.Composites,n.Common,n.MouseConstraint,n.Mouse,n.Events,n.Bodies;n.use(s.MatterCollisionEvents),this.Matter=n;var r=e.create(),a=r.world;this.engineInstance=r,this.worldInstance=a,r.world.gravity.y=0,r.world.gravity.x=0,r.timing.timeScale=.5;var l=t.create();t.run(l,r);var u=window.innerWidth,c=window.innerHeight,h=100,d=(n.Bodies.rectangle(u/2,-50,u,h,{isStatic:!0,restitution:0}),n.Bodies.rectangle(u/2,c+50-20,u,h,{isStatic:!0,restitution:0,render:{fillStyle:"transparent",lineWidth:3,strokeStyle:"limegreen"}})),p=n.Bodies.rectangle(-30,c,h,2*o.LEVEL_HEIGHT,{isStatic:!0,restitution:0}),f=n.Bodies.rectangle(o.LEVEL_WIDTH+50-20,c,h,2*o.LEVEL_HEIGHT,{isStatic:!0,restitution:0});i.add(a,[d,p,f])},e}());i.mainPhysicsScene=l},{"matter-js":"mG0D","./../lib/matter":"X7aj","./../lib/matterCollisionEvents":"rGCC","./constants":"ucSG"}],Rk1N:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=function(){function e(e,t){this.tempfn=function(){},this.elements=e,this.settings=t,this.breakpoints={desktop:1980,laptop:1440,tablet:1024,mobile:575},this.init()}return e.prototype.init=function(){var e=this,t=function(){var t=window.matchMedia("(max-width: ".concat(e.breakpoints.desktop,"px)")).matches,i=window.matchMedia("(min-width: ".concat(e.breakpoints.desktop,"px)")).matches,r=window.matchMedia("(max-width: ".concat(e.breakpoints.laptop,"px)")).matches,n=window.matchMedia("(min-width: ".concat(e.breakpoints.laptop,"px)")).matches,s=window.matchMedia("(max-width: ".concat(e.breakpoints.tablet,"px)")).matches,o=window.matchMedia("(min-width: ".concat(e.breakpoints.tablet,"px)")).matches,a=window.matchMedia("(max-width: ".concat(e.breakpoints.mobile,"px)")).matches,l=window.matchMedia("(min-width: ".concat(e.breakpoints.mobile,"px)")).matches;i&&(e.tempfn=e.settings.onWideScreen),t&&n&&(e.tempfn=e.settings.onDesktop),r&&o&&(e.tempfn=e.settings.onLaptop),s&&l&&(e.tempfn=e.settings.onTablet),a&&(e.tempfn=e.settings.onMobile),e.tempfn(e)};t(),window.addEventListener("resize",t)},e}();i.default=r},{}],TVsF:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.appLayoutStyles=void 0;i.appLayoutStyles={onWideScreen:function(e){},onDesktop:function(e){},onLaptop:function(e){},onTablet:function(e){},onMobile:function(e){}}},{}],qhI1:[function(e,t,i){var r=arguments[3];Object.defineProperty(i,"__esModule",{value:!0}),i.Wheel=i.Viewport=i.SnapZoom=i.Snap=i.PluginManager=i.Plugin=i.Pinch=i.MouseEdges=i.InputManager=i.Follow=i.Drag=i.Decelerate=i.ClampZoom=i.Clamp=i.Bounce=i.Animate=void 0;var n=e("@pixi/core"),s=e("@pixi/display"),o=Object.defineProperty,a=(e,t,i)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,l=(e,t,i)=>(a(e,"symbol"!=typeof t?t+"":t,i),i);class u{constructor(e){l(this,"parent"),l(this,"paused"),this.parent=e,this.paused=!1}destroy(){}down(e){return!1}move(e){return!1}up(e){return!1}wheel(e){return!1}update(e){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}}i.Plugin=u;var c,h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof r<"u"?r:typeof self<"u"?self:{},d={exports:{}};c=d,function(){var e,t;t=e={linear:function(e,t,i,r){return i*e/r+t},easeInQuad:function(e,t,i,r){return i*(e/=r)*e+t},easeOutQuad:function(e,t,i,r){return-i*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,i,r){return(e/=r/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,i,r){return i*(e/=r)*e*e+t},easeOutCubic:function(e,t,i,r){return i*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,i,r){return(e/=r/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,i,r){return i*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,i,r){return-i*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,i,r){return(e/=r/2)<1?i/2*e*e*e*e+t:-i/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,i,r){return i*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,i,r){return i*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,i,r){return(e/=r/2)<1?i/2*e*e*e*e*e+t:i/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,i,r){return-i*Math.cos(e/r*(Math.PI/2))+i+t},easeOutSine:function(e,t,i,r){return i*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,i,r){return-i/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,i,r){return 0===e?t:i*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,i,r){return e===r?t+i:i*(1-Math.pow(2,-10*e/r))+t},easeInOutExpo:function(e,t,i,r){return(e/=r/2)<1?i/2*Math.pow(2,10*(e-1))+t:i/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,i,r){return-i*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,i,r){return i*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,i,r){return(e/=r/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+t:i/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,i,r){var n,s,o;return o=1.70158,0===e||(e/=r),(s=0)||(s=.3*r),(n=i)<Math.abs(i)?(n=i,o=s/4):o=s/(2*Math.PI)*Math.asin(i/n),-n*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/s)+t},easeOutElastic:function(e,t,i,r){var n,s,o;return o=1.70158,0===e||(e/=r),(s=0)||(s=.3*r),(n=i)<Math.abs(i)?(n=i,o=s/4):o=s/(2*Math.PI)*Math.asin(i/n),n*Math.pow(2,-10*e)*Math.sin((e*r-o)*(2*Math.PI)/s)+i+t},easeInOutElastic:function(e,t,i,r){var n,s,o;return o=1.70158,0===e||(e/=r/2),(s=0)||(s=r*(.3*1.5)),(n=i)<Math.abs(i)?(n=i,o=s/4):o=s/(2*Math.PI)*Math.asin(i/n),e<1?n*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/s)*-.5+t:n*Math.pow(2,-10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/s)*.5+i+t},easeInBack:function(e,t,i,r,n){return void 0===n&&(n=1.70158),i*(e/=r)*e*((n+1)*e-n)+t},easeOutBack:function(e,t,i,r,n){return void 0===n&&(n=1.70158),i*((e=e/r-1)*e*((n+1)*e+n)+1)+t},easeInOutBack:function(e,t,i,r,n){return void 0===n&&(n=1.70158),(e/=r/2)<1?i/2*(e*e*((1+(n*=1.525))*e-n))+t:i/2*((e-=2)*e*((1+(n*=1.525))*e+n)+2)+t},easeInBounce:function(t,i,r,n){return r-e.easeOutBounce(n-t,0,r,n)+i},easeOutBounce:function(e,t,i,r){return(e/=r)<1/2.75?i*(7.5625*e*e)+t:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+t:i*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(t,i,r,n){return t<n/2?.5*e.easeInBounce(2*t,0,r,n)+i:.5*e.easeOutBounce(2*t-n,0,r,n)+.5*r+i}},c.exports=t}.call(h);const p=d.exports;function f(e,t){return e?"function"==typeof e?e:"string"==typeof e?p[e]:void 0:p[t]}const m={removeOnInterrupt:!1,ease:"linear",time:1e3};class g extends u{constructor(e,t={}){super(e),l(this,"options"),l(this,"startX"),l(this,"startY"),l(this,"deltaX"),l(this,"deltaY"),l(this,"keepCenter"),l(this,"startWidth",null),l(this,"startHeight",null),l(this,"deltaWidth",null),l(this,"deltaHeight",null),l(this,"width",null),l(this,"height",null),l(this,"time",0),this.options=Object.assign({},m,t),this.options.ease=f(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}setupPosition(){typeof this.options.position<"u"?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,typeof this.options.scale<"u"?this.width=this.parent.screenWidth/this.options.scale:typeof this.options.scaleX<"u"||typeof this.options.scaleY<"u"?(typeof this.options.scaleX<"u"&&(this.width=this.parent.screenWidth/this.options.scaleX),typeof this.options.scaleY<"u"&&(this.height=this.parent.screenHeight/this.options.scaleY)):(typeof this.options.width<"u"&&(this.width=this.options.width),typeof this.options.height<"u"&&(this.height=this.options.height)),null!==this.width&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),null!==this.height&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),null!==this.width&&this.parent.fitWidth(this.width,this.keepCenter,null===this.height),null!==this.height&&this.parent.fitHeight(this.height,this.keepCenter,null===this.width),!this.keepCenter&&this.options.position&&this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(e){if(this.paused)return;this.time+=e;const t=new n.Point(this.parent.scale.x,this.parent.scale.y);if(this.time>=this.options.time){const e=this.parent.width,i=this.parent.height;this.complete(),(e!==this.parent.width||i!==this.parent.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:t,type:"animate"})}else{const e=this.options.ease(this.time,0,1,this.options.time);if(null!==this.width){const t=this.startWidth,i=this.deltaWidth;this.parent.fitWidth(t+i*e,this.keepCenter,null===this.height)}if(null!==this.height){const t=this.startHeight,i=this.deltaHeight;this.parent.fitHeight(t+i*e,this.keepCenter,null===this.width)}if(null===this.width?this.parent.scale.x=this.parent.scale.y:null===this.height&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const t=this.startX,i=this.startY,r=this.deltaX,s=this.deltaY,o=new n.Point(this.parent.x,this.parent.y);this.parent.moveCenter(t+r*e,i+s*e),this.parent.emit("moved",{viewport:this.parent,original:o,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:t,type:"animate"})}}}i.Animate=g;const y={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};class v extends u{constructor(e,t={}){super(e),l(this,"options"),l(this,"left"),l(this,"top"),l(this,"right"),l(this,"bottom"),l(this,"underflowX"),l(this,"underflowY"),l(this,"ease"),l(this,"toX"),l(this,"toY"),this.options=Object.assign({},y,t),this.ease=f(this.options.ease,"easeInOutSine"),this.options.sides?"all"===this.options.sides?this.top=this.bottom=this.left=this.right=!0:"horizontal"===this.options.sides?(this.right=this.left=!0,this.top=this.bottom=!1):"vertical"===this.options.sides?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=-1!==this.options.sides.indexOf("top"),this.bottom=-1!==this.options.sides.indexOf("bottom"),this.left=-1!==this.options.sides.indexOf("left"),this.right=-1!==this.options.sides.indexOf("right")):this.left=this.top=this.right=this.bottom=!1;const i=this.options.underflow.toLowerCase();"center"===i?(this.underflowX=0,this.underflowY=0):(this.underflowX=-1!==i.indexOf("left")?-1:-1!==i.indexOf("right")?1:0,this.underflowY=-1!==i.indexOf("top")?-1:-1!==i.indexOf("bottom")?1:0),this.reset()}isActive(){return null!==this.toX||null!==this.toY}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(e){if(!this.paused){if(this.bounce(),this.toX){const t=this.toX;t.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),t.time>=this.options.time?(this.parent.x=t.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(t.time,t.start,t.delta,this.options.time)}if(this.toY){const t=this.toY;t.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),t.time>=this.options.time?(this.parent.y=t.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(t.time,t.start,t.delta,this.options.time)}}}calcUnderflowX(){let e;switch(this.underflowX){case-1:e=0;break;case 1:e=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:e=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return e}calcUnderflowY(){let e;switch(this.underflowY){case-1:e=0;break;case 1:e=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:e=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return e}oob(){const e=this.options.bounceBox;if(e){const t=typeof e.x>"u"?0:e.x,i=typeof e.y>"u"?0:e.y,r=typeof e.width>"u"?this.parent.worldWidth:e.width,s=typeof e.height>"u"?this.parent.worldHeight:e.height;return{left:this.parent.left<t,right:this.parent.right>r,top:this.parent.top<i,bottom:this.parent.bottom>s,topLeft:new n.Point(t*this.parent.scale.x,i*this.parent.scale.y),bottomRight:new n.Point(r*this.parent.scale.x-this.parent.screenWidth,s*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new n.Point(0,0),bottomRight:new n.Point(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){var e,t;if(this.paused)return;let i,r=this.parent.plugins.get("decelerate",!0);r&&(r.x||r.y)&&(r.x&&r.percentChangeX===(null==(e=r.options)?void 0:e.friction)||r.y&&r.percentChangeY===(null==(t=r.options)?void 0:t.friction))&&(i=this.oob(),(i.left&&this.left||i.right&&this.right)&&(r.percentChangeX=this.options.friction),(i.top&&this.top||i.bottom&&this.bottom)&&(r.percentChangeY=this.options.friction));const n=this.parent.plugins.get("drag",!0)||{},s=this.parent.plugins.get("pinch",!0)||{};if(r=r||{},!(null!=n&&n.active||null!=s&&s.active||this.toX&&this.toY||r.x&&r.y)){i=i||this.oob();const e=i.topLeft,t=i.bottomRight;if(!this.toX&&!r.x){let r=null;i.left&&this.left?r=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-e.x:i.right&&this.right&&(r=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-t.x),null!==r&&this.parent.x!==r&&(this.toX={time:0,start:this.parent.x,delta:r-this.parent.x,end:r},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!r.y){let r=null;i.top&&this.top?r=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-e.y:i.bottom&&this.bottom&&(r=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-t.y),null!==r&&this.parent.y!==r&&(this.toY={time:0,start:this.parent.y,delta:r-this.parent.y,end:r},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}}i.Bounce=v;const x={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class _ extends u{constructor(e,t={}){super(e),l(this,"options"),l(this,"last"),l(this,"noUnderflow"),l(this,"underflowX"),l(this,"underflowY"),this.options=Object.assign({},x,t),this.options.direction&&(this.options.left="x"===this.options.direction||"all"===this.options.direction||null,this.options.right="x"===this.options.direction||"all"===this.options.direction||null,this.options.top="y"===this.options.direction||"all"===this.options.direction||null,this.options.bottom="y"===this.options.direction||"all"===this.options.direction||null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const e=this.options.underflow.toLowerCase();"none"===e?this.noUnderflow=!0:"center"===e?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=-1!==e.indexOf("left")?-1:-1!==e.indexOf("right")?1:0,this.underflowY=-1!==e.indexOf("top")?-1:-1!==e.indexOf("bottom")?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused||this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const e=new n.Point(this.parent.x,this.parent.y),t=this.parent.plugins.decelerate||{};if(null!==this.options.left||null!==this.options.right){let i=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:0!==this.parent.x&&(this.parent.x=0,i=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,i=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,i=!0)}else null!==this.options.left&&this.parent.left<(!0===this.options.left?0:this.options.left)&&(this.parent.x=-(!0===this.options.left?0:this.options.left)*this.parent.scale.x,t.x=0,i=!0),null!==this.options.right&&this.parent.right>(!0===this.options.right?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(!0===this.options.right?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,t.x=0,i=!0);i&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-x"})}if(null!==this.options.top||null!==this.options.bottom){let i=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:0!==this.parent.y&&(this.parent.y=0,i=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,i=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,i=!0)}else null!==this.options.top&&this.parent.top<(!0===this.options.top?0:this.options.top)&&(this.parent.y=-(!0===this.options.top?0:this.options.top)*this.parent.scale.y,t.y=0,i=!0),null!==this.options.bottom&&this.parent.bottom>(!0===this.options.bottom?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(!0===this.options.bottom?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,t.y=0,i=!0);i&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}i.Clamp=_;const b={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class S extends u{constructor(e,t={}){super(e),l(this,"options"),this.options=Object.assign({},b,t),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused)if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let e=this.parent.worldScreenWidth,t=this.parent.worldScreenHeight;if(null!==this.options.minWidth&&e<this.options.minWidth){const i=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/i,e=this.parent.worldScreenWidth,t=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.maxWidth&&e>this.options.maxWidth){const i=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/i,e=this.parent.worldScreenWidth,t=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.minHeight&&t<this.options.minHeight){const i=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/i,e=this.parent.worldScreenWidth,t=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.maxHeight&&t>this.options.maxHeight){const e=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/e,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){const e={x:null,y:null},t={x:null,y:null};if("number"==typeof this.options.minScale)e.x=this.options.minScale,e.y=this.options.minScale;else if(null!==this.options.minScale){const t=this.options.minScale;e.x=typeof t.x>"u"?null:t.x,e.y=typeof t.y>"u"?null:t.y}if("number"==typeof this.options.maxScale)t.x=this.options.maxScale,t.y=this.options.maxScale;else if(null!==this.options.maxScale){const e=this.options.maxScale;t.x=typeof e.x>"u"?null:e.x,t.y=typeof e.y>"u"?null:e.y}let i=this.parent.scale.x,r=this.parent.scale.y;null!==e.x&&i<e.x&&(i=e.x),null!==t.x&&i>t.x&&(i=t.x),null!==e.y&&r<e.y&&(r=e.y),null!==t.y&&r>t.y&&(r=t.y),(i!==this.parent.scale.x||r!==this.parent.scale.y)&&(this.parent.scale.set(i,r),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}reset(){this.clamp()}}i.ClampZoom=S;const T={friction:.98,bounce:.8,minSpeed:.01},w=16;class E extends u{constructor(e,t={}){super(e),l(this,"options"),l(this,"x"),l(this,"y"),l(this,"percentChangeX"),l(this,"percentChangeY"),l(this,"saved"),l(this,"timeSinceRelease"),this.options=Object.assign({},T,t),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",(e=>this.handleMoved(e)))}down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!(!this.x&&!this.y)}move(){if(this.paused)return!1;const e=this.parent.input.count();return(1===e||e>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}handleMoved(e){if(this.saved.length){const t=this.saved[this.saved.length-1];"clamp-x"===e.type&&e.original?t.x===e.original.x&&(t.x=this.parent.x):"clamp-y"===e.type&&e.original&&t.y===e.original.y&&(t.y=this.parent.y)}}up(){if(0===this.parent.input.count()&&this.saved.length){const e=performance.now();for(const t of this.saved)if(t.time>=e-100){const i=e-t.time;this.x=(this.parent.x-t.x)/i,this.y=(this.parent.y-t.y)/i,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(e){typeof(e=e||{}).x<"u"&&(this.x=e.x,this.percentChangeX=this.options.friction),typeof e.y<"u"&&(this.y=e.y,this.percentChangeY=this.options.friction)}update(e){if(this.paused)return;const t=this.x||this.y,i=this.timeSinceRelease,r=this.timeSinceRelease+e;if(this.x){const t=this.percentChangeX,n=Math.log(t);this.parent.x+=this.x*w/n*(Math.pow(t,r/w)-Math.pow(t,i/w)),this.x*=Math.pow(this.percentChangeX,e/w)}if(this.y){const t=this.percentChangeY,n=Math.log(t);this.parent.y+=this.y*w/n*(Math.pow(t,r/w)-Math.pow(t,i/w)),this.y*=Math.pow(this.percentChangeY,e/w)}this.timeSinceRelease+=e,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),t&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}i.Decelerate=E;const P={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20,wheelSwapAxes:!1};class A extends u{constructor(e,t={}){super(e),l(this,"options"),l(this,"moved"),l(this,"reverse"),l(this,"xDirection"),l(this,"yDirection"),l(this,"keyIsPressed"),l(this,"mouse"),l(this,"underflowX"),l(this,"underflowY"),l(this,"last"),l(this,"current"),l(this,"windowEventHandlers",[]),this.options=Object.assign({},P,t),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||"all"===this.options.direction||"x"===this.options.direction,this.yDirection=!this.options.direction||"all"===this.options.direction||"y"===this.options.direction,this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){this.addWindowEventHandler("keyup",(t=>{e.includes(t.code)&&(this.keyIsPressed=!1)})),this.addWindowEventHandler("keydown",(t=>{e.includes(t.code)&&(this.keyIsPressed=!0)}))}addWindowEventHandler(e,t){window.addEventListener(e,t),this.windowEventHandlers.push({event:e,handler:t})}destroy(){this.windowEventHandlers.forEach((({event:e,handler:t})=>{window.removeEventListener(e,t)}))}mouseButtons(e){this.mouse=e&&"all"!==e?[-1!==e.indexOf("left"),-1!==e.indexOf("middle"),-1!==e.indexOf("right")]:[!0,!0,!0]}parseUnderflow(){const e=this.options.underflow.toLowerCase();"center"===e?(this.underflowX=0,this.underflowY=0):(e.includes("left")?this.underflowX=-1:e.includes("right")?this.underflowX=1:this.underflowX=0,e.includes("top")?this.underflowY=-1:e.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(e){const t="mouse"===e.pointerType,i=this.parent.input.count();return!(!(1===i||i>1&&!this.parent.plugins.get("pinch",!0))||t&&!this.mouse[e.button])}checkKeyPress(e){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&"touch"===e.data.pointerType}down(e){return!(this.paused||!this.options.pressDrag)&&(this.checkButtons(e)&&this.checkKeyPress(e)?(this.last={x:e.global.x,y:e.global.y},this.current=e.pointerId,!0):(this.last=null,!1))}get active(){return this.moved}move(e){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===e.data.pointerId){const t=e.global.x,i=e.global.y,r=this.parent.input.count();if(1===r||r>1&&!this.parent.plugins.get("pinch",!0)){const r=t-this.last.x,s=i-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(r)||this.yDirection&&this.parent.input.checkThreshold(s)){const r={x:t,y:i};return this.xDirection&&(this.parent.x+=(r.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(r.y-this.last.y)*this.options.factor),this.last=r,this.moved||this.parent.emit("drag-start",{event:e,screen:new n.Point(this.last.x,this.last.y),world:this.parent.toWorld(new n.Point(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}return!1}up(e){if(this.paused)return!1;const t=this.parent.input.touches;if(1===t.length){const e=t[0];return e.last&&(this.last={x:e.last.x,y:e.last.y},this.current=e.id),this.moved=!1,!0}if(this.last&&this.moved){const t=new n.Point(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:e,screen:t,world:this.parent.toWorld(t),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(e){if(this.paused)return!1;if(this.options.wheel){const t=this.parent.plugins.get("wheel",!0);if(!t||!t.options.wheelZoom&&!e.ctrlKey){const t=e.deltaMode?this.options.lineHeight:1,i=[e.deltaX,e.deltaY],[r,n]=this.options.wheelSwapAxes?i.reverse():i;return this.xDirection&&(this.parent.x+=r*t*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=n*t*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||e.preventDefault(),this.parent.options.stopPropagation&&e.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){const e=this.parent.plugins.get("decelerate",!0)||{};if("y"!==this.options.clampWheel)if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,e.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,e.x=0);if("x"!==this.options.clampWheel)if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,e.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,e.y=0)}}i.Drag=A;const M={speed:0,acceleration:null,radius:null};class O extends u{constructor(e,t,i={}){super(e),l(this,"options"),l(this,"target"),l(this,"velocity"),this.target=t,this.options=Object.assign({},M,i),this.velocity={x:0,y:0}}update(e){if(this.paused)return;const t=this.parent.center;let i=this.target.x,r=this.target.y;if(this.options.radius){if(!(Math.sqrt(Math.pow(this.target.y-t.y,2)+Math.pow(this.target.x-t.x,2))>this.options.radius))return;{const e=Math.atan2(this.target.y-t.y,this.target.x-t.x);i=this.target.x-Math.cos(e)*this.options.radius,r=this.target.y-Math.sin(e)*this.options.radius}}const n=i-t.x,s=r-t.y;if(n||s)if(this.options.speed)if(this.options.acceleration){const e=Math.atan2(r-t.y,i-t.x),o=Math.sqrt(Math.pow(n,2)+Math.pow(s,2));if(o){const a=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);this.velocity=o>a?{x:Math.min(this.velocity.x+(this.options.acceleration,this.options.speed)),y:Math.min(this.velocity.y+(this.options.acceleration,this.options.speed))}:{x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const l=Math.cos(e)*this.velocity.x,u=Math.sin(e)*this.velocity.y,c=Math.abs(l)>Math.abs(n)?i:t.x+l,h=Math.abs(u)>Math.abs(s)?r:t.y+u;this.parent.moveCenter(c,h),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const e=Math.atan2(r-t.y,i-t.x),o=Math.cos(e)*this.options.speed,a=Math.sin(e)*this.options.speed,l=Math.abs(o)>Math.abs(n)?i:t.x+o,u=Math.abs(a)>Math.abs(s)?r:t.y+a;this.parent.moveCenter(l,u),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(i,r),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}i.Follow=O;const C={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class j extends u{constructor(e,t={}){super(e),l(this,"options"),l(this,"reverse"),l(this,"radiusSquared"),l(this,"left"),l(this,"top"),l(this,"right"),l(this,"bottom"),l(this,"horizontal"),l(this,"vertical"),this.options=Object.assign({},C,t),this.reverse=this.options.reverse?1:-1,this.radiusSquared="number"==typeof this.options.radius?Math.pow(this.options.radius,2):null,this.resize()}resize(){const e=this.options.distance;null!==e?(this.left=e,this.top=e,this.right=this.parent.screenWidth-e,this.bottom=this.parent.screenHeight-e):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=null===this.options.right?null:this.parent.screenWidth-this.options.right,this.bottom=null===this.options.bottom?null:this.parent.screenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(e){if(this.paused||"mouse"!==e.pointerType&&1!==e.pointerId||!this.options.allowButtons&&0!==e.buttons)return!1;const t=e.global.x,i=e.global.y;if(this.radiusSquared){const e=this.parent.toScreen(this.parent.center);if(Math.pow(e.x-t,2)+Math.pow(e.y-i,2)>=this.radiusSquared){const r=Math.atan2(e.y-i,e.x-t);this.options.linear?(this.horizontal=Math.round(Math.cos(r))*this.options.speed*this.reverse*.06,this.vertical=Math.round(Math.sin(r))*this.options.speed*this.reverse*.06):(this.horizontal=Math.cos(r)*this.options.speed*this.reverse*.06,this.vertical=Math.sin(r)*this.options.speed*this.reverse*.06)}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else null!==this.left&&t<this.left?this.horizontal=Number(this.reverse)*this.options.speed*.06:null!==this.right&&t>this.right?this.horizontal=-1*this.reverse*this.options.speed*.06:(this.decelerateHorizontal(),this.horizontal=0),null!==this.top&&i<this.top?this.vertical=Number(this.reverse)*this.options.speed*.06:null!==this.bottom&&i>this.bottom?this.vertical=-1*this.reverse*this.options.speed*.06:(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){const e=this.parent.plugins.get("decelerate",!0);this.horizontal&&e&&!this.options.noDecelerate&&e.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const e=this.parent.plugins.get("decelerate",!0);this.vertical&&e&&!this.options.noDecelerate&&e.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){const e=this.parent.center;this.horizontal&&(e.x+=this.horizontal*this.options.speed),this.vertical&&(e.y+=this.vertical*this.options.speed),this.parent.moveCenter(e),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}i.MouseEdges=j;const R={noDrag:!1,percent:1,center:null,factor:1,axis:"all"};class I extends u{constructor(e,t={}){super(e),l(this,"options"),l(this,"active",!1),l(this,"pinching",!1),l(this,"moved",!1),l(this,"lastCenter"),this.options=Object.assign({},R,t)}down(){return this.parent.input.count()>=2&&(this.active=!0,!0)}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(e){if(this.paused||!this.active)return!1;const t=e.global.x,i=e.global.y,r=this.parent.input.touches;if(r.length>=2){const s=r[0],o=r[1],a=s.last&&o.last?Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2)):null;if(s.id===e.pointerId?s.last={x:t,y:i,data:e}:o.id===e.pointerId&&(o.last={x:t,y:i,data:e}),a){let e;const t=new n.Point(s.last.x+(o.last.x-s.last.x)/2,s.last.y+(o.last.y-s.last.y)/2);this.options.center||(e=this.parent.toLocal(t));let i=Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2));i=0===i?i=1e-10:i;const r=(1-a/i)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=r),this.isAxisY()&&(this.parent.scale.y+=r),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:t});const l=this.parent.plugins.get("clamp-zoom",!0);if(l&&l.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const i=this.parent.toGlobal(e);this.parent.x+=(t.x-i.x)*this.options.factor,this.parent.y+=(t.y-i.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(t.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(t.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=t,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return!!(this.pinching&&this.parent.input.touches.length<=1)&&(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0)}}i.Pinch=I;const B={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class D extends u{constructor(e,t,i,r={}){super(e),l(this,"options"),l(this,"ease"),l(this,"x"),l(this,"y"),l(this,"percent"),l(this,"snapping"),l(this,"deltaX"),l(this,"deltaY"),l(this,"startX"),l(this,"startY"),this.options=Object.assign({},B,r),this.ease=f(r.ease,"easeInOutSine"),this.x=t,this.y=i,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const e=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-e.x,this.deltaY=this.y-e.y,this.startX=e.x,this.startY=e.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(0===this.parent.input.count()){const e=this.parent.plugins.get("decelerate",!0);e&&(e.x||e.y)&&(e.percentChangeX=e.percentChangeY=this.options.friction)}return!1}update(e){if(!(this.paused||this.options.interrupt&&0!==this.parent.input.count()))if(this.snapping){const t=this.snapping;let i,r,n;t.time+=e;const s=this.startX,o=this.startY,a=this.deltaX,l=this.deltaY;if(t.time>this.options.time)i=!0,r=s+a,n=o+l;else{const e=this.ease(t.time,0,1,this.options.time);r=s+a*e,n=o+l*e}this.options.topLeft?this.parent.moveCorner(r,n):this.parent.moveCenter(r,n),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),i&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const e=this.options.topLeft?this.parent.corner:this.parent.center;(e.x!==this.x||e.y!==this.y)&&this.snapStart()}}}i.Snap=D;const k={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};class F extends u{constructor(e,t={}){super(e),l(this,"options"),l(this,"ease"),l(this,"xScale"),l(this,"yScale"),l(this,"xIndependent"),l(this,"yIndependent"),l(this,"snapping"),this.options=Object.assign({},k,t),this.ease=f(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=e.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=e.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,0===this.options.time?(e.container.scale.x=this.xScale,e.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):t.forceStart&&this.createSnapping()}createSnapping(){const e=this.parent.worldScreenWidth,t=this.parent.worldScreenHeight,i=this.parent.screenWidth/this.xScale,r=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:e,startY:t,deltaX:i-e,deltaY:r-t},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(e){if(this.paused||this.options.interrupt&&0!==this.parent.input.count())return;let t;if(!this.options.center&&!this.options.noMove&&(t=this.parent.center),this.snapping){if(this.snapping){const i=this.snapping;if(i.time+=e,i.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const e=this.snapping,t=this.ease(e.time,e.startX,e.deltaX,this.options.time),i=this.ease(e.time,e.startY,e.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/t,this.parent.scale.y=this.parent.screenHeight/i}const r=this.parent.plugins.get("clamp-zoom",!0);r&&r.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(t))}}else(this.parent.scale.x!==this.xScale||this.parent.scale.y!==this.yScale)&&this.createSnapping()}resume(){this.snapping=null,super.resume()}}i.SnapZoom=F;const L={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};class N extends u{constructor(e,t={}){super(e),l(this,"options"),l(this,"smoothing"),l(this,"smoothingCenter"),l(this,"smoothingCount"),l(this,"keyIsPressed"),this.options=Object.assign({},L,t),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){window.addEventListener("keydown",(t=>{e.includes(t.code)&&(this.keyIsPressed=!0)})),window.addEventListener("keyup",(t=>{e.includes(t.code)&&(this.keyIsPressed=!1)}))}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const e=this.smoothingCenter,t=this.smoothing;let i;this.options.center||(i=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x+=t.x),this.isAxisY()&&(this.parent.scale.y+=t.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const r=this.parent.plugins.get("clamp-zoom",!0);if(r&&r.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const t=this.parent.toGlobal(i);this.parent.x+=e.x-t.x,this.parent.y+=e.y-t.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(e){if(this.paused)return;const t=this.parent.input.getPointerPosition(e),i=-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/200,r=Math.pow(2,(1+this.options.percent)*i);let n;this.options.center||(n=this.parent.toLocal(t)),this.isAxisX()&&(this.parent.scale.x*=r),this.isAxisY()&&(this.parent.scale.y*=r),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const s=this.parent.plugins.get("clamp-zoom",!0);if(s&&s.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const e=this.parent.toGlobal(n);this.parent.x+=t.x-e.x,this.parent.y+=t.y-e.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}wheel(e){if(this.paused||!this.checkKeyPress())return!1;if(e.ctrlKey&&this.options.trackpadPinch)this.pinch(e);else if(this.options.wheelZoom){const t=this.parent.input.getPointerPosition(e),i=(this.options.reverse?-1:1)*-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/500,r=Math.pow(2,(1+this.options.percent)*i);if(this.options.smooth){const e={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+e.x)*r-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+e.y)*r-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=t}else{let e;this.options.center||(e=this.parent.toLocal(t)),this.isAxisX()&&(this.parent.scale.x*=r),this.isAxisY()&&(this.parent.scale.y*=r),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const i=this.parent.plugins.get("clamp-zoom",!0);if(i&&i.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const i=this.parent.toGlobal(e);this.parent.x+=t.x-i.x,this.parent.y+=t.y-i.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}return!this.parent.options.passiveWheel}}i.Wheel=N;class U{constructor(e){l(this,"viewport"),l(this,"clickedAvailable"),l(this,"isMouseDown"),l(this,"last"),l(this,"wheelFunction"),l(this,"touches"),this.viewport=e,this.touches=[],this.addListeners()}addListeners(){this.viewport.eventMode="static",this.viewport.forceHitArea||(this.viewport.hitArea=new n.Rectangle(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.options.allowPreserveDragOutside?this.viewport.on("globalpointermove",this.move,this):this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.options.allowPreserveDragOutside||this.viewport.on("pointerleave",this.up,this),this.wheelFunction=e=>this.handleWheel(e),this.viewport.options.events.domElement.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){this.viewport.options.events.domElement.removeEventListener("wheel",this.wheelFunction)}down(e){if(!this.viewport.pause&&this.viewport.worldVisible){if("mouse"===e.pointerType?this.isMouseDown=!0:this.get(e.pointerId)||this.touches.push({id:e.pointerId,last:null}),1===this.count()){this.last=e.global.clone();const t=this.viewport.plugins.get("decelerate",!0),i=this.viewport.plugins.get("bounce",!0);t&&t.isActive()||i&&i.isActive()?this.clickedAvailable=!1:this.clickedAvailable=!0}else this.clickedAvailable=!1;this.viewport.plugins.down(e)&&this.viewport.options.stopPropagation&&e.stopPropagation()}}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(e){return Math.abs(e)>=this.viewport.threshold}move(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const t=this.viewport.plugins.move(e);if(this.clickedAvailable&&this.last){const t=e.global.x-this.last.x,i=e.global.y-this.last.y;(this.checkThreshold(t)||this.checkThreshold(i))&&(this.clickedAvailable=!1)}t&&this.viewport.options.stopPropagation&&e.stopPropagation()}up(e){if(this.viewport.pause||!this.viewport.worldVisible)return;"mouse"===e.pointerType&&(this.isMouseDown=!1),"mouse"!==e.pointerType&&this.remove(e.pointerId);const t=this.viewport.plugins.up(e);this.clickedAvailable&&0===this.count()&&this.last&&(this.viewport.emit("clicked",{event:e,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this.viewport}),this.clickedAvailable=!1),t&&this.viewport.options.stopPropagation&&e.stopPropagation()}getPointerPosition(e){const t=new n.Point;return this.viewport.options.events.mapPositionToPoint(t,e.clientX,e.clientY),t}handleWheel(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const t=this.viewport.toLocal(this.getPointerPosition(e));this.viewport.left<=t.x&&t.x<=this.viewport.right&&this.viewport.top<=t.y&&t.y<=this.viewport.bottom&&this.viewport.plugins.wheel(e)&&!this.viewport.options.passiveWheel&&e.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(e){for(const t of this.touches)if(t.id===e)return t;return null}remove(e){for(let t=0;t<this.touches.length;t++)if(this.touches[t].id===e)return void this.touches.splice(t,1)}count(){return(this.isMouseDown?1:0)+this.touches.length}}i.InputManager=U;const G=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];class H{constructor(e){l(this,"plugins"),l(this,"list"),l(this,"viewport"),this.viewport=e,this.list=[],this.plugins={}}add(e,t,i=G.length){const r=this.plugins[e];r&&r.destroy(),this.plugins[e]=t;const n=G.indexOf(e);-1!==n&&G.splice(n,1),G.splice(i,0,e),this.sort()}get(e,t){var i;return t&&null!=(i=this.plugins[e])&&i.paused?null:this.plugins[e]}update(e){for(const t of this.list)t.update(e)}resize(){for(const e of this.list)e.resize()}reset(){for(const e of this.list)e.reset()}removeAll(){this.list.forEach((e=>{e.destroy()})),this.plugins={},this.sort()}remove(e){var t;this.plugins[e]&&(null==(t=this.plugins[e])||t.destroy(),delete this.plugins[e],this.viewport.emit("plugin-remove",e),this.sort())}pause(e){var t;null==(t=this.plugins[e])||t.pause()}resume(e){var t;null==(t=this.plugins[e])||t.resume()}sort(){this.list=[];for(const e of G)this.plugins[e]&&this.list.push(this.plugins[e])}down(e){let t=!1;for(const i of this.list)i.down(e)&&(t=!0);return t}move(e){let t=!1;for(const i of this.viewport.plugins.list)i.move(e)&&(t=!0);return t}up(e){let t=!1;for(const i of this.list)i.up(e)&&(t=!0);return t}wheel(e){let t=!1;for(const i of this.list)i.wheel(e)&&(t=!0);return t}}i.PluginManager=H;const V={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,disableOnContextMenu:!1,ticker:n.Ticker.shared,allowPreserveDragOutside:!1};class W extends s.Container{constructor(e){super(),l(this,"moving"),l(this,"screenWidth"),l(this,"screenHeight"),l(this,"threshold"),l(this,"input"),l(this,"plugins"),l(this,"zooming"),l(this,"lastViewport"),l(this,"options"),l(this,"_dirty"),l(this,"_forceHitArea"),l(this,"_hitAreaDefault"),l(this,"_pause"),l(this,"tickerFunction"),l(this,"_worldWidth"),l(this,"_worldHeight"),l(this,"_disableOnContextMenu",(e=>e.preventDefault())),this.options={...V,...e},this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.disableOnContextMenu&&this.options.events.domElement.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new U(this),this.plugins=new H(this)}destroy(e){!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&this.options.events.domElement.removeEventListener("contextmenu",this._disableOnContextMenu),this.input.destroy(),super.destroy(e)}update(e){this.pause||(this.plugins.update(e),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new n.Rectangle(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(e=window.innerWidth,t=window.innerHeight,i,r){this.screenWidth=e,this.screenHeight=t,typeof i<"u"&&(this._worldWidth=i),typeof r<"u"&&(this._worldHeight=r),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(e){this._worldWidth=e,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(e){this._worldHeight=e,this.plugins.resize()}getVisibleBounds(){return new n.Rectangle(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(e,t){return 2===arguments.length?this.toLocal(new n.Point(e,t)):this.toLocal(e)}toScreen(e,t){return 2===arguments.length?this.toGlobal(new n.Point(e,t)):this.toGlobal(e)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new n.Point(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(e){this.moveCenter(e)}moveCenter(...e){let t,i;"number"==typeof e[0]?(t=e[0],i=e[1]):(t=e[0].x,i=e[0].y);const r=(this.worldScreenWidth/2-t)*this.scale.x,n=(this.worldScreenHeight/2-i)*this.scale.y;return(this.x!==r||this.y!==n)&&(this.position.set(r,n),this.plugins.reset(),this.dirty=!0),this}get corner(){return new n.Point(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(e){this.moveCorner(e)}moveCorner(...e){let t,i;return 1===e.length?(t=-e[0].x*this.scale.x,i=-e[0].y*this.scale.y):(t=-e[0]*this.scale.x,i=-e[1]*this.scale.y),(t!==this.x||i!==this.y)&&(this.position.set(t,i),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(e){return this.screenWidth/e}findFitHeight(e){return this.screenHeight/e}findFit(e,t){const i=this.screenWidth/e,r=this.screenHeight/t;return Math.min(i,r)}findCover(e,t){const i=this.screenWidth/e,r=this.screenHeight/t;return Math.max(i,r)}fitWidth(e=this.worldWidth,t,i=!0,r){let n;t&&(n=this.center),this.scale.x=this.screenWidth/e,i&&(this.scale.y=this.scale.x);const s=this.plugins.get("clamp-zoom",!0);return!r&&s&&s.clamp(),t&&n&&this.moveCenter(n),this}fitHeight(e=this.worldHeight,t,i=!0,r){let n;t&&(n=this.center),this.scale.y=this.screenHeight/e,i&&(this.scale.x=this.scale.y);const s=this.plugins.get("clamp-zoom",!0);return!r&&s&&s.clamp(),t&&n&&this.moveCenter(n),this}fitWorld(e){let t;e&&(t=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const i=this.plugins.get("clamp-zoom",!0);return i&&i.clamp(),e&&t&&this.moveCenter(t),this}fit(e,t=this.worldWidth,i=this.worldHeight){let r;e&&(r=this.center),this.scale.x=this.screenWidth/t,this.scale.y=this.screenHeight/i,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const n=this.plugins.get("clamp-zoom",!0);return n&&n.clamp(),e&&r&&this.moveCenter(r),this}setZoom(e,t){let i;t&&(i=this.center),this.scale.set(e);const r=this.plugins.get("clamp-zoom",!0);return r&&r.clamp(),t&&i&&this.moveCenter(i),this}zoomPercent(e,t){return this.setZoom(this.scale.x+this.scale.x*e,t)}zoom(e,t){return this.fitWidth(e+this.worldScreenWidth,t),this}get scaled(){return this.scale.x}set scaled(e){this.setZoom(e,!0)}snapZoom(e){return this.plugins.add("snap-zoom",new F(this,e)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new n.Point(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(e){this.x=-e*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(e){this.x=-e*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(e){this.y=-e*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(e){this.y=-e*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(e){this._dirty=e}get forceHitArea(){return this._forceHitArea}set forceHitArea(e){e?(this._forceHitArea=e,this.hitArea=e):(this._forceHitArea=null,this.hitArea=new n.Rectangle(0,0,this.worldWidth,this.worldHeight))}drag(e){return this.plugins.add("drag",new A(this,e)),this}clamp(e){return this.plugins.add("clamp",new _(this,e)),this}decelerate(e){return this.plugins.add("decelerate",new E(this,e)),this}bounce(e){return this.plugins.add("bounce",new v(this,e)),this}pinch(e){return this.plugins.add("pinch",new I(this,e)),this}snap(e,t,i){return this.plugins.add("snap",new D(this,e,t,i)),this}follow(e,t){return this.plugins.add("follow",new O(this,e,t)),this}wheel(e){return this.plugins.add("wheel",new N(this,e)),this}animate(e){return this.plugins.add("animate",new g(this,e)),this}clampZoom(e){return this.plugins.add("clamp-zoom",new S(this,e)),this}mouseEdges(e){return this.plugins.add("mouse-edges",new j(this,e)),this}get pause(){return!!this._pause}set pause(e){this._pause=e,this.lastViewport=null,this.moving=!1,this.zooming=!1,e&&this.input.pause()}ensureVisible(e,t,i,r,n){n&&(i>this.worldScreenWidth||r>this.worldScreenHeight)&&(this.fit(!0,i,r),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let s=!1;e<this.left?(this.left=e,s=!0):e+i>this.right&&(this.right=e+i,s=!0),t<this.top?(this.top=t,s=!0):t+r>this.bottom&&(this.bottom=t+r,s=!0),s&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}i.Viewport=W},{"@pixi/core":"OszA","@pixi/display":"a2dh"}],oJTQ:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.mainViewport=void 0;var r=e("pixi-viewport"),n=e("./scene"),s=e("./constants"),o=new(function(){function e(){this.init()}return e.prototype.init=function(){var e=new r.Viewport({screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:1440,worldHeight:s.LEVEL_HEIGHT,events:n.mainScene.app.renderer.events});this.viewport=e,e.decelerate()},e}());i.mainViewport=o},{"pixi-viewport":"qhI1","./scene":"iReV","./constants":"ucSG"}],m1YV:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=u(e("pixi.js")),n=e("./constants"),s=u(e("./../lib/matter")),o=e("./physicsScene"),a=e("./viewport");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(l=function(e){return e?i:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=l(t);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,i&&i.set(e,r),r}var c=function(){function e(e){this.settings={img:null,name:"",arrows:""},this.speed=3,this.momentum=0,this.maxMomentum=5,this.moveState={left:!1,right:!1,forward:!1,back:!1,sleep:!1},this.TAU=2*Math.PI,this.settings.img=e.img,this.settings.name=this.settings.img.textureCacheIds[1],this.settings.arrows=e.arrows,this.carSprite=r.Sprite.from(this.settings.img),this.init(),this.reset()}return e.prototype.init=function(){this.placeSpriteOnScene(),this.placePhysicsBodyOnScene(),this.bindSpriteAndPhysics(),this.initViewport(),this.controls()},e.prototype.reset=function(){},e.prototype.controls=function(){var e=this;window.addEventListener("keypress",(function(t){t.code==n.KEYCODES.W&&(e.moveState.forward=!0),t.code==n.KEYCODES.S&&(e.moveState.back=!0),t.code==n.KEYCODES.A&&(e.moveState.left=!0),t.code==n.KEYCODES.D&&(e.moveState.right=!0),e.moveState.sleep=!1})),window.onkeydown=function(t){t.code==n.KEYCODES_ARROWS.W&&(e.moveState.forward=!0),t.code==n.KEYCODES_ARROWS.S&&(e.moveState.back=!0),t.code==n.KEYCODES_ARROWS.A&&(e.moveState.left=!0),t.code==n.KEYCODES_ARROWS.D&&(e.moveState.right=!0),e.moveState.sleep=!1},window.addEventListener("keyup",(function(t){e.moveState.sleep=!0,t.code==n.KEYCODES.W&&(e.moveState.forward=!1),t.code==n.KEYCODES.S&&(e.moveState.back=!1),t.code==n.KEYCODES.A&&(e.moveState.left=!1),t.code==n.KEYCODES.D&&(e.moveState.right=!1)})),window.onkeyup=function(t){e.moveState.sleep=!0,t.code==n.KEYCODES_ARROWS.W&&(e.moveState.forward=!1),t.code==n.KEYCODES_ARROWS.S&&(e.moveState.back=!1),t.code==n.KEYCODES_ARROWS.A&&(e.moveState.left=!1),t.code==n.KEYCODES_ARROWS.D&&(e.moveState.right=!1)}},e.prototype.placeSpriteOnScene=function(){this.element=new r.Container,this.element.addChild(this.carSprite),this.carSprite.rotation=this.TAU/360*90;var e=this.element.height-40;this.element.pivot.x=-60,this.element.pivot.y=e},e.prototype.placePhysicsBodyOnScene=function(){this.physicsBody=s.Bodies.rectangle(743.2,690,120,60,{isStatic:!1,render:{fillStyle:"transparent",lineWidth:3,strokeStyle:"limegreen"},friction:0,inertia:1/0}),this.physicsBody.name="player",s.Body.rotate(this.physicsBody,2*Math.PI/360*-90),s.Composite.add(o.mainPhysicsScene.worldInstance,[this.physicsBody])},e.prototype.bindSpriteAndPhysics=function(){var e=this;s.Events.on(o.mainPhysicsScene.engineInstance,"beforeUpdate",(function(t){e.physicsBody.velocity.x>3&&s.Body.setVelocity(e.physicsBody,{x:3,y:e.physicsBody.velocity.y}),e.physicsBody.velocity.x<-3&&s.Body.setVelocity(e.physicsBody,{x:-3,y:e.physicsBody.velocity.y}),e.physicsBody.velocity.y>3&&s.Body.setVelocity(e.physicsBody,{x:e.physicsBody.velocity.x,y:3}),e.physicsBody.velocity.y<-3&&s.Body.setVelocity(e.physicsBody,{x:-e.physicsBody.velocity.x,y:-3}),s.Body.translate(e.physicsBody,{x:Math.cos(e.physicsBody.angle)*t.delta*.3*e.momentum,y:Math.sin(e.physicsBody.angle)*t.delta*.3*e.momentum}),e.element.position=e.physicsBody.position,e.element.rotation=e.physicsBody.angle,e.moveState.forward&&(e.momentum>e.maxMomentum&&(e.momentum=e.maxMomentum),e.momentum+=.03),e.moveState.back&&(e.momentum-=.01*t.delta,e.momentum<0&&(e.momentum=0)),e.moveState.left&&e.momentum>0&&s.Body.rotate(e.physicsBody,2*-Math.PI/360),e.moveState.right&&e.momentum>0&&s.Body.rotate(e.physicsBody,2*Math.PI/360),e.moveState.sleep&&(e.momentum-=.0035*t.delta,e.momentum<0&&(e.momentum=0))}))},e.prototype.initViewport=function(){a.mainViewport.viewport.x=n.CANVAS_SIZE.WIDTH-this.element.x-n.CANVAS_SIZE.WIDTH+n.CANVAS_SIZE.WIDTH/2},e.prototype.updateViewport=function(){a.mainViewport.viewport.y=window.innerHeight-window.innerHeight/100*25-this.element.y,a.mainViewport.viewport.y<0&&(a.mainViewport.viewport.y=0),a.mainViewport.viewport.y>11945&&(a.mainViewport.viewport.y=11945),n.CANVAS_SIZE.WIDTH>=n.LEVEL_WIDTH?a.mainViewport.viewport.x=0:a.mainViewport.viewport.x=n.CANVAS_SIZE.WIDTH-this.physicsBody.position.x-n.CANVAS_SIZE.WIDTH+n.CANVAS_SIZE.WIDTH/2,a.mainViewport.viewport.x>0?a.mainViewport.viewport.x=0:n.CANVAS_SIZE.WIDTH<n.LEVEL_WIDTH&&a.mainViewport.viewport.x<-(n.LEVEL_WIDTH-n.CANVAS_SIZE.WIDTH)&&(a.mainViewport.viewport.x=-(n.LEVEL_WIDTH-n.CANVAS_SIZE.WIDTH))},e.prototype.updateControls=function(){var e=this.settings.arrows.moveState;this.moveState=e},e.prototype.update=function(e){this.updateControls(),this.updateViewport()},e}();i.default=c},{"pixi.js":"DFIJ","./constants":"ucSG","./../lib/matter":"X7aj","./physicsScene":"XUD9","./viewport":"oJTQ"}],KkZG:[function(e,t,i){"use strict";function r(e,t){var i=e.__state.conversionName.toString(),r=Math.round(e.r),n=Math.round(e.g),s=Math.round(e.b),o=e.a,a=Math.round(e.h),l=e.s.toFixed(1),u=e.v.toFixed(1);if(t||"THREE_CHAR_HEX"===i||"SIX_CHAR_HEX"===i){for(var c=e.hex.toString(16);c.length<6;)c="0"+c;return"#"+c}return"CSS_RGB"===i?"rgb("+r+","+n+","+s+")":"CSS_RGBA"===i?"rgba("+r+","+n+","+s+","+o+")":"HEX"===i?"0x"+e.hex.toString(16):"RGB_ARRAY"===i?"["+r+","+n+","+s+"]":"RGBA_ARRAY"===i?"["+r+","+n+","+s+","+o+"]":"RGB_OBJ"===i?"{r:"+r+",g:"+n+",b:"+s+"}":"RGBA_OBJ"===i?"{r:"+r+",g:"+n+",b:"+s+",a:"+o+"}":"HSV_OBJ"===i?"{h:"+a+",s:"+l+",v:"+u+"}":"HSVA_OBJ"===i?"{h:"+a+",s:"+l+",v:"+u+",a:"+o+"}":"unknown format"}Object.defineProperty(i,"__esModule",{value:!0}),i.gui=i.dom=i.default=i.controllers=i.color=i.GUI=void 0;var n=Array.prototype.forEach,s=Array.prototype.slice,o={BREAK:{},extend:function(e){return this.each(s.call(arguments,1),(function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(i){this.isUndefined(t[i])||(e[i]=t[i])}.bind(this))}),this),e},defaults:function(e){return this.each(s.call(arguments,1),(function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(i){this.isUndefined(e[i])&&(e[i]=t[i])}.bind(this))}),this),e},compose:function(){var e=s.call(arguments);return function(){for(var t=s.call(arguments),i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},each:function(e,t,i){if(e)if(n&&e.forEach&&e.forEach===n)e.forEach(t,i);else if(e.length===e.length+0){var r,s=void 0;for(s=0,r=e.length;s<r;s++)if(s in e&&t.call(i,e[s],s)===this.BREAK)return}else for(var o in e)if(t.call(i,e[o],o)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(e,t,i){var r=void 0;return function(){var n=this,s=arguments;function o(){r=null,i||e.apply(n,s)}var a=i||!r;clearTimeout(r),r=setTimeout(o,t),a&&e.apply(n,s)}},toArray:function(e){return e.toArray?e.toArray():s.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return isNaN(e)})),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return e instanceof Function}},a=[{litmus:o.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:r},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:r},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:r},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:r}}},{litmus:o.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:o.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:o.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(o.isNumber(e.r)&&o.isNumber(e.g)&&o.isNumber(e.b)&&o.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(o.isNumber(e.r)&&o.isNumber(e.g)&&o.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(o.isNumber(e.h)&&o.isNumber(e.s)&&o.isNumber(e.v)&&o.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(o.isNumber(e.h)&&o.isNumber(e.s)&&o.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],l=void 0,u=void 0,c=function(){u=!1;var e=arguments.length>1?o.toArray(arguments):arguments[0];return o.each(a,(function(t){if(t.litmus(e))return o.each(t.conversions,(function(t,i){if(l=t.read(e),!1===u&&!1!==l)return u=l,l.conversionName=i,l.conversion=t,o.BREAK})),o.BREAK})),u},h=void 0,d={hsv_to_rgb:function(e,t,i){var r=Math.floor(e/60)%6,n=e/60-Math.floor(e/60),s=i*(1-t),o=i*(1-n*t),a=i*(1-(1-n)*t),l=[[i,a,s],[o,i,s],[s,i,a],[s,o,i],[a,s,i],[i,s,o]][r];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,i){var r=Math.min(e,t,i),n=Math.max(e,t,i),s=n-r,o=void 0;return 0===n?{h:NaN,s:0,v:0}:(o=e===n?(t-i)/s:t===n?2+(i-e)/s:4+(e-t)/s,(o/=6)<0&&(o+=1),{h:360*o,s:s/n,v:n/255})},rgb_to_hex:function(e,t,i){var r=this.hex_with_component(0,2,e);return r=this.hex_with_component(r,1,t),r=this.hex_with_component(r,0,i)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,i){return i<<(h=8*t)|e&~(255<<h)}},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},m=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),g=function e(t,i,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,i);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,i,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},y=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},v=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},x=function(){function e(){if(f(this,e),this.__state=c.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return m(e,[{key:"toString",value:function(){return r(this)}},{key:"toHexString",value:function(){return r(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),e}();function _(e,t,i){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space||x.recalculateRGB(this,t,i),this.__state[t]},set:function(e){"RGB"!==this.__state.space&&(x.recalculateRGB(this,t,i),this.__state.space="RGB"),this.__state[t]=e}})}function b(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space||x.recalculateHSV(this),this.__state[t]},set:function(e){"HSV"!==this.__state.space&&(x.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}x.recalculateRGB=function(e,t,i){if("HEX"===e.__state.space)e.__state[t]=d.component_from_hex(e.__state.hex,i);else{if("HSV"!==e.__state.space)throw new Error("Corrupted color state");o.extend(e.__state,d.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},x.recalculateHSV=function(e){var t=d.rgb_to_hsv(e.r,e.g,e.b);o.extend(e.__state,{s:t.s,v:t.v}),o.isNaN(t.h)?o.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},x.COMPONENTS=["r","g","b","h","s","v","hex","a"],_(x.prototype,"r",2),_(x.prototype,"g",1),_(x.prototype,"b",0),b(x.prototype,"h"),b(x.prototype,"s"),b(x.prototype,"v"),Object.defineProperty(x.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(x.prototype,"hex",{get:function(){return"HEX"!==this.__state.space&&(this.__state.hex=d.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var S=function(){function e(t,i){f(this,e),this.initialValue=t[i],this.domElement=document.createElement("div"),this.object=t,this.property=i,this.__onChange=void 0,this.__onFinishChange=void 0}return m(e,[{key:"onChange",value:function(e){return this.__onChange=e,this}},{key:"onFinishChange",value:function(e){return this.__onFinishChange=e,this}},{key:"setValue",value:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),e}(),T={};o.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},(function(e,t){o.each(e,(function(e){T[e]=t}))}));var w=/(\d+(\.\d+)?)px/;function E(e){if("0"===e||o.isUndefined(e))return 0;var t=e.match(w);return o.isNull(t)?0:parseFloat(t[1])}var P={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,i){var r=i,n=t;o.isUndefined(n)&&(n=!0),o.isUndefined(r)&&(r=!0),e.style.position="absolute",n&&(e.style.left=0,e.style.right=0),r&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,i,r){var n=i||{},s=T[t];if(!s)throw new Error("Event type "+t+" not supported.");var a=document.createEvent(s);switch(s){case"MouseEvents":var l=n.x||n.clientX||0,u=n.y||n.clientY||0;a.initMouseEvent(t,n.bubbles||!1,n.cancelable||!0,window,n.clickCount||1,0,0,l,u,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var c=a.initKeyboardEvent||a.initKeyEvent;o.defaults(n,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),c(t,n.bubbles||!1,n.cancelable,window,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.keyCode,n.charCode);break;default:a.initEvent(t,n.bubbles||!1,n.cancelable||!0);break}o.defaults(a,r),e.dispatchEvent(a)},bind:function(e,t,i,r){var n=r||!1;return e.addEventListener?e.addEventListener(t,i,n):e.attachEvent&&e.attachEvent("on"+t,i),P},unbind:function(e,t,i,r){var n=r||!1;return e.removeEventListener?e.removeEventListener(t,i,n):e.detachEvent&&e.detachEvent("on"+t,i),P},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var i=e.className.split(/ +/);-1===i.indexOf(t)&&(i.push(t),e.className=i.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return P},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute("class");else{var i=e.className.split(/ +/),r=i.indexOf(t);-1!==r&&(i.splice(r,1),e.className=i.join(" "))}else e.className=void 0;return P},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return E(t["border-left-width"])+E(t["border-right-width"])+E(t["padding-left"])+E(t["padding-right"])+E(t.width)},getHeight:function(e){var t=getComputedStyle(e);return E(t["border-top-width"])+E(t["border-bottom-width"])+E(t["padding-top"])+E(t["padding-bottom"])+E(t.height)},getOffset:function(e){var t=e,i={left:0,top:0};if(t.offsetParent)do{i.left+=t.offsetLeft,i.top+=t.offsetTop,t=t.offsetParent}while(t);return i},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},A=function(e){function t(e,i){f(this,t);var r=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),n=r;return r.__prev=r.getValue(),r.__checkbox=document.createElement("input"),r.__checkbox.setAttribute("type","checkbox"),P.bind(r.__checkbox,"change",(function(){n.setValue(!n.__prev)}),!1),r.domElement.appendChild(r.__checkbox),r.updateDisplay(),r}return y(t,e),m(t,[{key:"setValue",value:function(e){var i=g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),i}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(S),M=function(e){function t(e,i,r){f(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),s=r,a=n;if(n.__select=document.createElement("select"),o.isArray(s)){var l={};o.each(s,(function(e){l[e]=e})),s=l}return o.each(s,(function(e,t){var i=document.createElement("option");i.innerHTML=t,i.setAttribute("value",e),a.__select.appendChild(i)})),n.updateDisplay(),P.bind(n.__select,"change",(function(){var e=this.options[this.selectedIndex].value;a.setValue(e)})),n.domElement.appendChild(n.__select),n}return y(t,e),m(t,[{key:"setValue",value:function(e){var i=g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),i}},{key:"updateDisplay",value:function(){return P.isActive(this.__select)?this:(this.__select.value=this.getValue(),g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this))}}]),t}(S),O=function(e){function t(e,i){f(this,t);var r=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),n=r;function s(){n.setValue(n.__input.value)}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),P.bind(r.__input,"keyup",s),P.bind(r.__input,"change",s),P.bind(r.__input,"blur",(function(){n.__onFinishChange&&n.__onFinishChange.call(n,n.getValue())})),P.bind(r.__input,"keydown",(function(e){13===e.keyCode&&this.blur()})),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return y(t,e),m(t,[{key:"updateDisplay",value:function(){return P.isActive(this.__input)||(this.__input.value=this.getValue()),g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(S);function C(e){var t=e.toString();return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var j=function(e){function t(e,i,r){f(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),s=r||{};return n.__min=s.min,n.__max=s.max,n.__step=s.step,o.isUndefined(n.__step)?0===n.initialValue?n.__impliedStep=1:n.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(n.initialValue))/Math.LN10))/10:n.__impliedStep=n.__step,n.__precision=C(n.__impliedStep),n}return y(t,e),m(t,[{key:"setValue",value:function(e){var i=e;return void 0!==this.__min&&i<this.__min?i=this.__min:void 0!==this.__max&&i>this.__max&&(i=this.__max),void 0!==this.__step&&i%this.__step!=0&&(i=Math.round(i/this.__step)*this.__step),g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,i)}},{key:"min",value:function(e){return this.__min=e,this}},{key:"max",value:function(e){return this.__max=e,this}},{key:"step",value:function(e){return this.__step=e,this.__impliedStep=e,this.__precision=C(e),this}}]),t}(S);var R=function(e){function t(e,i,r){f(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,r));n.__truncationSuspended=!1;var s=n,a=void 0;function l(){s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function u(e){var t=a-e.clientY;s.setValue(s.getValue()+t*s.__impliedStep),a=e.clientY}function c(){P.unbind(window,"mousemove",u),P.unbind(window,"mouseup",c),l()}return n.__input=document.createElement("input"),n.__input.setAttribute("type","text"),P.bind(n.__input,"change",(function(){var e=parseFloat(s.__input.value);o.isNaN(e)||s.setValue(e)})),P.bind(n.__input,"blur",(function(){l()})),P.bind(n.__input,"mousedown",(function(e){P.bind(window,"mousemove",u),P.bind(window,"mouseup",c),a=e.clientY})),P.bind(n.__input,"keydown",(function(e){13===e.keyCode&&(s.__truncationSuspended=!0,this.blur(),s.__truncationSuspended=!1,l())})),n.updateDisplay(),n.domElement.appendChild(n.__input),n}return y(t,e),m(t,[{key:"updateDisplay",value:function(){var e,i,r;return this.__input.value=this.__truncationSuspended?this.getValue():(e=this.getValue(),i=this.__precision,r=Math.pow(10,i),Math.round(e*r)/r),g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(j);function I(e,t,i,r,n){return r+(e-t)/(i-t)*(n-r)}var B=function(e){function t(e,i,r,n,s){f(this,t);var o=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,{min:r,max:n,step:s})),a=o;function l(e){e.preventDefault();var t=a.__background.getBoundingClientRect();return a.setValue(I(e.clientX,t.left,t.right,a.__min,a.__max)),!1}function u(){P.unbind(window,"mousemove",l),P.unbind(window,"mouseup",u),a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}function c(e){var t=e.touches[0].clientX,i=a.__background.getBoundingClientRect();a.setValue(I(t,i.left,i.right,a.__min,a.__max))}function h(){P.unbind(window,"touchmove",c),P.unbind(window,"touchend",h),a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}return o.__background=document.createElement("div"),o.__foreground=document.createElement("div"),P.bind(o.__background,"mousedown",(function(e){document.activeElement.blur(),P.bind(window,"mousemove",l),P.bind(window,"mouseup",u),l(e)})),P.bind(o.__background,"touchstart",(function(e){if(1!==e.touches.length)return;P.bind(window,"touchmove",c),P.bind(window,"touchend",h),c(e)})),P.addClass(o.__background,"slider"),P.addClass(o.__foreground,"slider-fg"),o.updateDisplay(),o.__background.appendChild(o.__foreground),o.domElement.appendChild(o.__background),o}return y(t,e),m(t,[{key:"updateDisplay",value:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(j),D=function(e){function t(e,i,r){f(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),s=n;return n.__button=document.createElement("div"),n.__button.innerHTML=void 0===r?"Fire":r,P.bind(n.__button,"click",(function(e){return e.preventDefault(),s.fire(),!1})),P.addClass(n.__button,"button"),n.domElement.appendChild(n.__button),n}return y(t,e),m(t,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),t}(S),k=function(e){function t(e,i){f(this,t);var r=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));r.__color=new x(r.getValue()),r.__temp=new x(0);var n=r;r.domElement=document.createElement("div"),P.makeSelectable(r.domElement,!1),r.__selector=document.createElement("div"),r.__selector.className="selector",r.__saturation_field=document.createElement("div"),r.__saturation_field.className="saturation-field",r.__field_knob=document.createElement("div"),r.__field_knob.className="field-knob",r.__field_knob_border="2px solid ",r.__hue_knob=document.createElement("div"),r.__hue_knob.className="hue-knob",r.__hue_field=document.createElement("div"),r.__hue_field.className="hue-field",r.__input=document.createElement("input"),r.__input.type="text",r.__input_textShadow="0 1px 1px ",P.bind(r.__input,"keydown",(function(e){13===e.keyCode&&p.call(this)})),P.bind(r.__input,"blur",p),P.bind(r.__selector,"mousedown",(function(){P.addClass(this,"drag").bind(window,"mouseup",(function(){P.removeClass(n.__selector,"drag")}))})),P.bind(r.__selector,"touchstart",(function(){P.addClass(this,"drag").bind(window,"touchend",(function(){P.removeClass(n.__selector,"drag")}))}));var s,a=document.createElement("div");function l(e){g(e),P.bind(window,"mousemove",g),P.bind(window,"touchmove",g),P.bind(window,"mouseup",h),P.bind(window,"touchend",h)}function u(e){y(e),P.bind(window,"mousemove",y),P.bind(window,"touchmove",y),P.bind(window,"mouseup",d),P.bind(window,"touchend",d)}function h(){P.unbind(window,"mousemove",g),P.unbind(window,"touchmove",g),P.unbind(window,"mouseup",h),P.unbind(window,"touchend",h),m()}function d(){P.unbind(window,"mousemove",y),P.unbind(window,"touchmove",y),P.unbind(window,"mouseup",d),P.unbind(window,"touchend",d),m()}function p(){var e=c(this.value);!1!==e?(n.__color.__state=e,n.setValue(n.__color.toOriginal())):this.value=n.__color.toString()}function m(){n.__onFinishChange&&n.__onFinishChange.call(n,n.__color.toOriginal())}function g(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=n.__saturation_field.getBoundingClientRect(),i=e.touches&&e.touches[0]||e,r=i.clientX,s=i.clientY,o=(r-t.left)/(t.right-t.left),a=1-(s-t.top)/(t.bottom-t.top);return a>1?a=1:a<0&&(a=0),o>1?o=1:o<0&&(o=0),n.__color.v=a,n.__color.s=o,n.setValue(n.__color.toOriginal()),!1}function y(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=n.__hue_field.getBoundingClientRect(),i=1-((e.touches&&e.touches[0]||e).clientY-t.top)/(t.bottom-t.top);return i>1?i=1:i<0&&(i=0),n.__color.h=360*i,n.setValue(n.__color.toOriginal()),!1}return o.extend(r.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),o.extend(r.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:r.__field_knob_border+(r.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),o.extend(r.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),o.extend(r.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),o.extend(a.style,{width:"100%",height:"100%",background:"none"}),L(a,"top","rgba(0,0,0,0)","#000"),o.extend(r.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(s=r.__hue_field).style.background="",s.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",s.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",s.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",s.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",s.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.extend(r.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:r.__input_textShadow+"rgba(0,0,0,0.7)"}),P.bind(r.__saturation_field,"mousedown",l),P.bind(r.__saturation_field,"touchstart",l),P.bind(r.__field_knob,"mousedown",l),P.bind(r.__field_knob,"touchstart",l),P.bind(r.__hue_field,"mousedown",u),P.bind(r.__hue_field,"touchstart",u),r.__saturation_field.appendChild(a),r.__selector.appendChild(r.__field_knob),r.__selector.appendChild(r.__saturation_field),r.__selector.appendChild(r.__hue_field),r.__hue_field.appendChild(r.__hue_knob),r.domElement.appendChild(r.__input),r.domElement.appendChild(r.__selector),r.updateDisplay(),r}return y(t,e),m(t,[{key:"updateDisplay",value:function(){var e=c(this.getValue());if(!1!==e){var t=!1;o.each(x.COMPONENTS,(function(i){if(!o.isUndefined(e[i])&&!o.isUndefined(this.__color.__state[i])&&e[i]!==this.__color.__state[i])return t=!0,{}}),this),t&&o.extend(this.__color.__state,e)}o.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var i=this.__color.v<.5||this.__color.s>.5?255:0,r=255-i;o.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+i+","+i+","+i+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,L(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),o.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+i+","+i+","+i+")",textShadow:this.__input_textShadow+"rgba("+r+","+r+","+r+",.7)"})}}]),t}(S),F=["-moz-","-o-","-webkit-","-ms-",""];function L(e,t,i,r){e.style.background="",o.each(F,(function(n){e.style.cssText+="background: "+n+"linear-gradient("+t+", "+i+" 0%, "+r+" 100%); "}))}var N=function(e,t){var i=t||document,r=document.createElement("style");r.type="text/css",r.innerHTML=e;var n=i.getElementsByTagName("head")[0];try{n.appendChild(r)}catch(e){}},U='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>',G=function(e,t){var i=e[t];return o.isArray(arguments[2])||o.isObject(arguments[2])?new M(e,t,arguments[2]):o.isNumber(i)?o.isNumber(arguments[2])&&o.isNumber(arguments[3])?o.isNumber(arguments[4])?new B(e,t,arguments[2],arguments[3],arguments[4]):new B(e,t,arguments[2],arguments[3]):o.isNumber(arguments[4])?new R(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new R(e,t,{min:arguments[2],max:arguments[3]}):o.isString(i)?new O(e,t):o.isFunction(i)?new D(e,t,""):o.isBoolean(i)?new A(e,t):null};var H=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},V=function(){function e(){f(this,e),this.backgroundElement=document.createElement("div"),o.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),P.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),o.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;P.bind(this.backgroundElement,"click",(function(){t.hide()}))}return m(e,[{key:"show",value:function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),o.defer((function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"}))}},{key:"hide",value:function(){var e=this,t=function t(){e.domElement.style.display="none",e.backgroundElement.style.display="none",P.unbind(e.domElement,"webkitTransitionEnd",t),P.unbind(e.domElement,"transitionend",t),P.unbind(e.domElement,"oTransitionEnd",t)};P.bind(this.domElement,"webkitTransitionEnd",t),P.bind(this.domElement,"transitionend",t),P.bind(this.domElement,"oTransitionEnd",t),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-P.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-P.getHeight(this.domElement)/2+"px"}}]),e}(),W=function(e){if(e&&"undefined"!=typeof window){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .cr.function .property-name{width:100%}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");N(W);var z="Default",Y=function(){try{return!!window.localStorage}catch(e){return!1}}(),X=void 0,q=!0,$=void 0,K=!1,Q=[],Z=function e(t){var i=this,r=t||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),P.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],r=o.defaults(r,{closeOnTop:!1,autoPlace:!0,width:e.DEFAULT_WIDTH}),r=o.defaults(r,{resizable:r.autoPlace,hideable:r.autoPlace}),o.isUndefined(r.load)?r.load={preset:z}:r.preset&&(r.load.preset=r.preset),o.isUndefined(r.parent)&&r.hideable&&Q.push(this),r.resizable=o.isUndefined(r.parent)&&r.resizable,r.autoPlace&&o.isUndefined(r.scrollable)&&(r.scrollable=!0);var n,s=Y&&"true"===localStorage.getItem(ne(this,"isLocal")),a=void 0,l=void 0;if(Object.defineProperties(this,{parent:{get:function(){return r.parent}},scrollable:{get:function(){return r.scrollable}},autoPlace:{get:function(){return r.autoPlace}},closeOnTop:{get:function(){return r.closeOnTop}},preset:{get:function(){return i.parent?i.getRoot().preset:r.load.preset},set:function(e){i.parent?i.getRoot().preset=e:r.load.preset=e,function(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}(this),i.revert()}},width:{get:function(){return r.width},set:function(e){r.width=e,ue(i,e)}},name:{get:function(){return r.name},set:function(e){r.name=e,l&&(l.innerHTML=r.name)}},closed:{get:function(){return r.closed},set:function(t){r.closed=t,r.closed?P.addClass(i.__ul,e.CLASS_CLOSED):P.removeClass(i.__ul,e.CLASS_CLOSED),this.onResize(),i.__closeButton&&(i.__closeButton.innerHTML=t?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return r.load}},useLocalStorage:{get:function(){return s},set:function(e){Y&&(s=e,e?P.bind(window,"unload",a):P.unbind(window,"unload",a),localStorage.setItem(ne(i,"isLocal"),e))}}}),o.isUndefined(r.parent)){if(this.closed=r.closed||!1,P.addClass(this.domElement,e.CLASS_MAIN),P.makeSelectable(this.domElement,!1),Y&&s){i.useLocalStorage=!0;var u=localStorage.getItem(ne(this,"gui"));u&&(r.load=JSON.parse(u))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,P.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),r.closeOnTop?(P.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(P.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),P.bind(this.__closeButton,"click",(function(){i.closed=!i.closed}))}else{void 0===r.closed&&(r.closed=!0);var c=document.createTextNode(r.name);P.addClass(c,"controller-name"),l=J(i,c);P.addClass(this.__ul,e.CLASS_CLOSED),P.addClass(l,"title"),P.bind(l,"click",(function(e){return e.preventDefault(),i.closed=!i.closed,!1})),r.closed||(this.closed=!1)}r.autoPlace&&(o.isUndefined(r.parent)&&(q&&($=document.createElement("div"),P.addClass($,"dg"),P.addClass($,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild($),q=!1),$.appendChild(this.domElement),P.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||ue(i,r.width)),this.__resizeHandler=function(){i.onResizeDebounced()},P.bind(window,"resize",this.__resizeHandler),P.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),P.bind(this.__ul,"transitionend",this.__resizeHandler),P.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),r.resizable&&le(this),a=function(){Y&&"true"===localStorage.getItem(ne(i,"isLocal"))&&localStorage.setItem(ne(i,"gui"),JSON.stringify(i.getSaveObject()))},this.saveToLocalStorageIfPossible=a,r.parent||((n=i.getRoot()).width+=1,o.defer((function(){n.width-=1})))};function J(e,t,i){var r=document.createElement("li");return t&&r.appendChild(t),i?e.__ul.insertBefore(r,i):e.__ul.appendChild(r),e.onResize(),r}function ee(e){P.unbind(window,"resize",e.__resizeHandler),e.saveToLocalStorageIfPossible&&P.unbind(window,"unload",e.saveToLocalStorageIfPossible)}function te(e,t){var i=e.__preset_select[e.__preset_select.selectedIndex];i.innerHTML=t?i.value+"*":i.value}function ie(e,t){var i=e.getRoot(),r=i.__rememberedObjects.indexOf(t.object);if(-1!==r){var n=i.__rememberedObjectIndecesToControllers[r];if(void 0===n&&(n={},i.__rememberedObjectIndecesToControllers[r]=n),n[t.property]=t,i.load&&i.load.remembered){var s=i.load.remembered,o=void 0;if(s[e.preset])o=s[e.preset];else{if(!s.Default)return;o=s.Default}if(o[r]&&void 0!==o[r][t.property]){var a=o[r][t.property];t.initialValue=a,t.setValue(a)}}}}function re(e,t,i,r){if(void 0===t[i])throw new Error('Object "'+t+'" has no property "'+i+'"');var n=void 0;if(r.color)n=new k(t,i);else{var s=[t,i].concat(r.factoryArgs);n=G.apply(e,s)}r.before instanceof S&&(r.before=r.before.__li),ie(e,n),P.addClass(n.domElement,"c");var a=document.createElement("span");P.addClass(a,"property-name"),a.innerHTML=n.property;var l=document.createElement("div");l.appendChild(a),l.appendChild(n.domElement);var u=J(e,l,r.before);return P.addClass(u,Z.CLASS_CONTROLLER_ROW),n instanceof k?P.addClass(u,"color"):P.addClass(u,p(n.getValue())),function(e,t,i){if(i.__li=t,i.__gui=e,o.extend(i,{options:function(t){if(arguments.length>1){var r=i.__li.nextElementSibling;return i.remove(),re(e,i.object,i.property,{before:r,factoryArgs:[o.toArray(arguments)]})}if(o.isArray(t)||o.isObject(t)){var n=i.__li.nextElementSibling;return i.remove(),re(e,i.object,i.property,{before:n,factoryArgs:[t]})}},name:function(e){return i.__li.firstElementChild.firstElementChild.innerHTML=e,i},listen:function(){return i.__gui.listen(i),i},remove:function(){return i.__gui.remove(i),i}}),i instanceof B){var r=new R(i.object,i.property,{min:i.__min,max:i.__max,step:i.__step});o.each(["updateDisplay","onChange","onFinishChange","step","min","max"],(function(e){var t=i[e],n=r[e];i[e]=r[e]=function(){var e=Array.prototype.slice.call(arguments);return n.apply(r,e),t.apply(i,e)}})),P.addClass(t,"has-slider"),i.domElement.insertBefore(r.domElement,i.domElement.firstElementChild)}else if(i instanceof R){var n=function(t){if(o.isNumber(i.__min)&&o.isNumber(i.__max)){var r=i.__li.firstElementChild.firstElementChild.innerHTML,n=i.__gui.__listening.indexOf(i)>-1;i.remove();var s=re(e,i.object,i.property,{before:i.__li.nextElementSibling,factoryArgs:[i.__min,i.__max,i.__step]});return s.name(r),n&&s.listen(),s}return t};i.min=o.compose(n,i.min),i.max=o.compose(n,i.max)}else i instanceof A?(P.bind(t,"click",(function(){P.fakeEvent(i.__checkbox,"click")})),P.bind(i.__checkbox,"click",(function(e){e.stopPropagation()}))):i instanceof D?(P.bind(t,"click",(function(){P.fakeEvent(i.__button,"click")})),P.bind(t,"mouseover",(function(){P.addClass(i.__button,"hover")})),P.bind(t,"mouseout",(function(){P.removeClass(i.__button,"hover")}))):i instanceof k&&(P.addClass(t,"color"),i.updateDisplay=o.compose((function(e){return t.style.borderLeftColor=i.__color.toString(),e}),i.updateDisplay),i.updateDisplay());i.setValue=o.compose((function(t){return e.getRoot().__preset_select&&i.isModified()&&te(e.getRoot(),!0),t}),i.setValue)}(e,u,n),e.__controllers.push(n),n}function ne(e,t){return document.location.href+"."+t}function se(e,t,i){var r=document.createElement("option");r.innerHTML=t,r.value=t,e.__preset_select.appendChild(r),i&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function oe(e,t){t.style.display=e.useLocalStorage?"block":"none"}function ae(e){var t=e.__save_row=document.createElement("li");P.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),P.addClass(t,"save-row");var i=document.createElement("span");i.innerHTML="&nbsp;",P.addClass(i,"button gears");var r=document.createElement("span");r.innerHTML="Save",P.addClass(r,"button"),P.addClass(r,"save");var n=document.createElement("span");n.innerHTML="New",P.addClass(n,"button"),P.addClass(n,"save-as");var s=document.createElement("span");s.innerHTML="Revert",P.addClass(s,"button"),P.addClass(s,"revert");var a=e.__preset_select=document.createElement("select");if(e.load&&e.load.remembered?o.each(e.load.remembered,(function(t,i){se(e,i,i===e.preset)})):se(e,z,!1),P.bind(a,"change",(function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value})),t.appendChild(a),t.appendChild(i),t.appendChild(r),t.appendChild(n),t.appendChild(s),Y){var l=document.getElementById("dg-local-explain"),u=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(ne(0,"isLocal"))&&u.setAttribute("checked","checked"),oe(e,l),P.bind(u,"change",(function(){e.useLocalStorage=!e.useLocalStorage,oe(e,l)}))}var c=document.getElementById("dg-new-constructor");P.bind(c,"keydown",(function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||X.hide()})),P.bind(i,"click",(function(){c.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),X.show(),c.focus(),c.select()})),P.bind(r,"click",(function(){e.save()})),P.bind(n,"click",(function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)})),P.bind(s,"click",(function(){e.revert()}))}function le(e){var t=void 0;function i(i){return i.preventDefault(),e.width+=t-i.clientX,e.onResize(),t=i.clientX,!1}function r(){P.removeClass(e.__closeButton,Z.CLASS_DRAG),P.unbind(window,"mousemove",i),P.unbind(window,"mouseup",r)}function n(n){return n.preventDefault(),t=n.clientX,P.addClass(e.__closeButton,Z.CLASS_DRAG),P.bind(window,"mousemove",i),P.bind(window,"mouseup",r),!1}e.__resize_handle=document.createElement("div"),o.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),P.bind(e.__resize_handle,"mousedown",n),P.bind(e.__closeButton,"mousedown",n),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function ue(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function ce(e,t){var i={};return o.each(e.__rememberedObjects,(function(r,n){var s={},a=e.__rememberedObjectIndecesToControllers[n];o.each(a,(function(e,i){s[i]=t?e.initialValue:e.getValue()})),i[n]=s})),i}function he(e){0!==e.length&&H.call(window,(function(){he(e)})),o.each(e,(function(e){e.updateDisplay()}))}Z.toggleHide=function(){K=!K,o.each(Q,(function(e){e.domElement.style.display=K?"none":""}))},Z.CLASS_AUTO_PLACE="a",Z.CLASS_AUTO_PLACE_CONTAINER="ac",Z.CLASS_MAIN="main",Z.CLASS_CONTROLLER_ROW="cr",Z.CLASS_TOO_TALL="taller-than-window",Z.CLASS_CLOSED="closed",Z.CLASS_CLOSE_BUTTON="close-button",Z.CLASS_CLOSE_TOP="close-top",Z.CLASS_CLOSE_BOTTOM="close-bottom",Z.CLASS_DRAG="drag",Z.DEFAULT_WIDTH=245,Z.TEXT_CLOSED="Close Controls",Z.TEXT_OPEN="Open Controls",Z._keydownHandler=function(e){"text"===document.activeElement.type||72!==e.which&&72!==e.keyCode||Z.toggleHide()},P.bind(window,"keydown",Z._keydownHandler,!1),o.extend(Z.prototype,{add:function(e,t){return re(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return re(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;o.defer((function(){t.onResize()}))},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&$.removeChild(this.domElement);var e=this;o.each(this.__folders,(function(t){e.removeFolder(t)})),P.unbind(window,"keydown",Z._keydownHandler,!1),ee(this)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var i=new Z(t);this.__folders[e]=i;var r=J(this,i.domElement);return P.addClass(r,"folder"),i},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],ee(e);var t=this;o.each(e.__folders,(function(t){e.removeFolder(t)})),o.defer((function(){t.onResize()}))},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=P.getOffset(e.__ul).top,i=0;o.each(e.__ul.childNodes,(function(t){e.autoPlace&&t===e.__save_row||(i+=P.getHeight(t))})),window.innerHeight-t-20<i?(P.addClass(e.domElement,Z.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+"px"):(P.removeClass(e.domElement,Z.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&o.defer((function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"})),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:o.debounce((function(){this.onResize()}),50),remember:function(){if(o.isUndefined(X)&&((X=new V).domElement.innerHTML=U),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;o.each(Array.prototype.slice.call(arguments),(function(t){0===e.__rememberedObjects.length&&ae(e),-1===e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)})),this.autoPlace&&ue(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=ce(this)),e.folders={},o.each(this.__folders,(function(t,i){e.folders[i]=t.getSaveObject()})),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=ce(this),te(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered.Default=ce(this,!0)),this.load.remembered[e]=ce(this),this.preset=e,se(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){o.each(this.__controllers,(function(t){this.getRoot().load.remembered?ie(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())}),this),o.each(this.__folders,(function(e){e.revert(e)})),e||te(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&he(this.__listening)},updateDisplay:function(){o.each(this.__controllers,(function(e){e.updateDisplay()})),o.each(this.__folders,(function(e){e.updateDisplay()}))}});var de={Color:x,math:d,interpret:c};i.color=de;var pe={Controller:S,BooleanController:A,OptionController:M,StringController:O,NumberController:j,NumberControllerBox:R,NumberControllerSlider:B,FunctionController:D,ColorController:k};i.controllers=pe;var fe={dom:P};i.dom=fe;var me={GUI:Z};i.gui=me;var ge=Z;i.GUI=ge;var ye={color:de,controllers:pe,dom:fe,gui:me,GUI:ge};i.default=ye},{}],nxWu:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=h(e("pixi.js")),n=h(e("./../lib/matter")),s=e("./physicsScene"),o=e("./viewport"),a=e("./game"),l=e("./constants"),u=h(e("dat.gui"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(c=function(e){return e?i:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=c(t);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,i&&i.set(e,r),r}var d=function(){function e(e){this.collectablesCount=0,this.player=e;var t=new r.Container;this.container=t,this.init()}return e.prototype.init=function(){this.initBg(),this.initCollectables(),this.initWalls(),this.initGameOverTrigger(),o.mainViewport.viewport.addChild(this.container)},e.prototype.initBg=function(){var e=new r.Container;e.y=973-l.LEVEL_HEIGHT,e.width=l.LEVEL_WIDTH;var t=new r.Container;t.y=973-l.LEVEL_HEIGHT,t.width=l.LEVEL_WIDTH,function(){for(var i=0;i<13;i++){var n="levelPiece".concat(i+1),s="levelPieceUp".concat(i+1),o=new r.Sprite(a.assetsGlobal[n]),l=new r.Sprite(a.assetsGlobal[s]);o.y=1e3*i,l.y=1e3*i,e.addChild(o),t.addChild(l)}}(),this.container.addChild(e),this.container.addChild(this.player.element),this.container.addChild(t)},e.prototype.initCollectables=function(){var e=this;[{name:"collectableItem1",position:{x:665.14,y:-213.799}},{name:"collectableItem2",position:{x:950.7855251465339,y:-1320.1188607780437}},{name:"collectableItem3",position:{x:1120.846145808639,y:-2356.619197575227}},{name:"collectableItem4",position:{x:1001.8359621915652,y:-3393.585124216137}},{name:"collectableItem5",position:{x:668.5721592016974,y:-4170.790006683961}},{name:"collectableItem6",position:{x:784.5522495255614,y:-5035.807613372404}},{name:"collectableItem7",position:{x:102.76018836587573,y:-6077.812486304929}},{name:"collectableItem8",position:{x:527.8303785862049,y:-7963.8508221645}},{name:"collectableItem9",position:{x:1156.7668389892667,y:-10033.77799822075}},{name:"collectableItem10",position:{x:661.0288983522071,y:-10985.873840742157}}].forEach((function(t,i){var o=new r.Sprite(a.assetsGlobal[t.name]);o.x=t.position.x,o.y=t.position.y,e.container.addChild(o);var l=n.Bodies.circle(o.x+o.width/2,o.y+o.height/2,.5*(o.width+o.height)*120*.005,{isStatic:!0,isSensor:!0,render:{strokeStyle:"limegreen"}});l.name=t.name,n.Composite.add(s.mainPhysicsScene.worldInstance,l),l.onCollide((function(t){e.collectablesCount++;var i=t.bodyB;e.container.removeChild(o),n.World.remove(s.mainPhysicsScene.worldInstance,i)}))}))},e.prototype.initDebug=function(){var e=this,t={y:0},i={x:0,y:0,width:100,height:600,angle:0,getPos:null,scale:{x:1,y:1}};!function(){e.player.updateViewport(),o.mainViewport.viewport.y=0,o.mainViewport.viewport.x=0;var r=new u.GUI,a=r.addFolder("worldTranslate"),c=r.addFolder("wallSettings");a.open(),c.open();var h=n.Bodies.rectangle(0,0,100,i.height,{isStatic:!0,render:{strokeStyle:"limegreen",lineWidth:3}});c.add(i,"x",0,l.LEVEL_WIDTH).onChange((function(e){n.Body.setPosition(h,{x:e,y:h.position.y})})),c.add(i,"y",0,window.innerHeight).step(1).onChange((function(e){n.Body.setPosition(h,{x:h.position.x,y:e})})),c.add(i,"angle",0,2*Math.PI).step(.01).onChange((function(e){n.Body.rotate(h,e)})),c.add({getPos:function(){h.position.x,o.mainViewport.viewport.y,h.position.y,i.height,h.angle}},"getPos"),n.Composite.add(s.mainPhysicsScene.worldInstance,h);var d=s.mainPhysicsScene.worldInstance.bodies.map((function(e){return{x:e.position.x,y:parseFloat(e.position.y.toFixed(3))}}));a.add(t,"y",0,l.LEVEL_HEIGHT).step(50).onChange((function(e){s.mainPhysicsScene.worldInstance.bodies.forEach((function(t,i){var r,s=d;n.Body.setPosition(t,{x:t.position.x,y:(null===(r=s[i])||void 0===r?void 0:r.y)+e})})),o.mainViewport.viewport.y=e}))}()},e.prototype.initWalls=function(){[{x:463,y:-1638,height:3e3,angle:0},{x:959.338,y:-1120,height:3e3,angle:0},{x:694.065138721351,y:-1842,height:550,angle:4.24},{x:1259.065138721351,y:-1542,height:600,angle:4.24},{x:927.5753920386007,y:-2963,height:1350,angle:0},{x:689.3537825262795,y:-3377,height:600,angle:8.48},{x:1213.4413234533863,y:-3731,height:600,angle:5.18},{x:435.25073237980354,y:-4827,height:1500,angle:0},{x:927.2507323798036,y:-5627,height:2e3,angle:0},{x:197.02912286748233,y:-5248,height:600,angle:5.38},{x:752.8795450628985,y:-5591,height:600,angle:5.219},{x:530.5393761847321,y:-7452,height:1900,angle:0},{x:991.1011545752198,y:-8156,height:1e3,angle:4.199},{x:991.1011545752198,y:-8156,height:1e3,angle:4.199},{x:408.7764949164225,y:-8784,height:1200,angle:7.27},{x:911.693951404446,y:-9731,height:1200,angle:0},{x:609.9465793555057,y:-10181,height:600,angle:2.27},{x:435.25073237980354,y:-12006,height:3e3,angle:0},{x:641.7094606238153,y:-12335,height:600,angle:10.88},{x:1197.5598828192315,y:-10527,height:600,angle:5.409},{x:943.4568326727555,y:-12288,height:1800,angle:0}].forEach((function(e){var t=n.Bodies.rectangle(e.x,e.y+e.height/2,100,e.height,{isStatic:!0,render:{strokeStyle:"limegreen",lineWidth:3}});n.Body.rotate(t,e.angle),n.Composite.add(s.mainPhysicsScene.worldInstance,t)}))},e.prototype.initGameOverTrigger=function(){var e=this,t={x:705.2352231604343,y:-11791,height:600,angle:.5*Math.PI},i=n.Bodies.rectangle(t.x,t.y+t.height/2,100,t.height,{isSensor:!0,isStatic:!0,render:{strokeStyle:"blue",lineWidth:3}});i.onCollide((function(t){e.onGameOverTrigger&&e.onGameOverTrigger(e.collectablesCount),n.World.remove(s.mainPhysicsScene.worldInstance,i)})),n.Body.rotate(i,t.angle),n.Composite.add(s.mainPhysicsScene.worldInstance,i)},e}();i.default=d},{"pixi.js":"DFIJ","./../lib/matter":"X7aj","./physicsScene":"XUD9","./viewport":"oJTQ","./game":"Dffd","./constants":"ucSG","dat.gui":"KkZG"}],Dffd:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.assetsGlobal=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=m(t);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}r.default=e,i&&i.set(e,r);return r}(e("pixi.js")),n=f(e("./timer")),s=f(e("./countdown")),o=e("./scene"),a=f(e("./arrowScreenControls")),l=e("./physicsScene"),u=f(e("./layout")),c=e("./appLayoutStyles"),h=f(e("./player")),d=e("./viewport"),p=f(e("./level"));function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(m=function(e){return e?i:t})(e)}var g=function(){return g=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},g.apply(this,arguments)},y={};i.assetsGlobal=y;var v=function(){function e(){this.alreadyGameOver=!1,this.init()}return e.prototype.init=function(){var e=this;r.Assets.addBundle("fonts",{cervoLight:"/fonts/Cervo-Light.woff",cervoMedium:"/fonts/Cervo-Medium.woff",cervoRegular:"/fonts/Cervo-Regular.woff"}),r.Assets.addBundle("images",{player:"/dist/player.png",arrowIcon:"/dist/arrow.png",levelPiece1:"/dist/level/mainBg/row-1-column-1.jpg",levelPiece2:"/dist/level/mainBg/row-2-column-1.jpg",levelPiece3:"/dist/level/mainBg/row-3-column-1.jpg",levelPiece4:"/dist/level/mainBg/row-4-column-1.jpg",levelPiece5:"/dist/level/mainBg/row-5-column-1.jpg",levelPiece6:"/dist/level/mainBg/row-6-column-1.jpg",levelPiece7:"/dist/level/mainBg/row-7-column-1.jpg",levelPiece8:"/dist/level/mainBg/row-8-column-1.jpg",levelPiece9:"/dist/level/mainBg/row-9-column-1.jpg",levelPiece10:"/dist/level/mainBg/row-10-column-1.jpg",levelPiece11:"/dist/level/mainBg/row-11-column-1.jpg",levelPiece12:"/dist/level/mainBg/row-12-column-1.jpg",levelPiece13:"/dist/level/mainBg/row-13-column-1.jpg",levelPieceUp1:"/dist/level/bgUp/row-1-column-1.png",levelPieceUp2:"/dist/level/bgUp/row-2-column-1.png",levelPieceUp3:"/dist/level/bgUp/row-3-column-1.png",levelPieceUp4:"/dist/level/bgUp/row-4-column-1.png",levelPieceUp5:"/dist/level/bgUp/row-5-column-1.png",levelPieceUp6:"/dist/level/bgUp/row-6-column-1.png",levelPieceUp7:"/dist/level/bgUp/row-7-column-1.png",levelPieceUp8:"/dist/level/bgUp/row-8-column-1.png",levelPieceUp9:"/dist/level/bgUp/row-9-column-1.png",levelPieceUp10:"/dist/level/bgUp/row-10-column-1.png",levelPieceUp11:"/dist/level/bgUp/row-11-column-1.png",levelPieceUp12:"/dist/level/bgUp/row-12-column-1.png",levelPieceUp13:"/dist/level/bgUp/row-13-column-1.png",collectableItem1:"/dist/level/collectables/1.png",collectableItem2:"/dist/level/collectables/2.png",collectableItem3:"/dist/level/collectables/3.png",collectableItem4:"/dist/level/collectables/4.png",collectableItem5:"/dist/level/collectables/5.png",collectableItem6:"/dist/level/collectables/6.png",collectableItem7:"/dist/level/collectables/7.png",collectableItem8:"/dist/level/collectables/8.png",collectableItem9:"/dist/level/collectables/9.png",collectableItem10:"/dist/level/collectables/10.png"}),r.Assets.loadBundle("images").then((function(t){r.Assets.loadBundle("fonts").then((function(r){i.assetsGlobal=y=g(g({},r),t),e.onAssetsLoad(g(g({},r),t))}))}))},e.prototype.onAssetsLoad=function(e){var t=this;d.mainViewport,l.mainPhysicsScene;var i=new a.default(y.arrowIcon);document.querySelector(".game-wrap").appendChild(o.mainScene.app.view),o.mainScene.app.stage.addChild(d.mainViewport.viewport);var r,u,c,f;r=new s.default((function(){u.start()})),u=new n.default((function(){t.alreadyGameOver||(t.alreadyGameOver=!0,t.gameOver(),t.onGameOver&&t.onGameOver(t.level.itemsCollectedCount,t.timer.time))})),t.countdown=r,t.timer=u,c=new h.default({img:y.player,arrows:i}),t.player=c,f=new p.default(t.player),t.level=f,f.onGameOverTrigger=function(e){t.alreadyGameOver||(t.alreadyGameOver=!0,t.gameOver(),t.onGameOver&&t.onGameOver(e,t.timer.time),t.gameOver())},i.addToScene(),this.adaptiveLayouts(),this.gameLogic()},e.prototype.gameLogic=function(){var e=this;o.mainScene.app.ticker.add((function(t){e.player.update(t)}))},e.prototype.gameOver=function(){o.mainScene.app.stage.removeChild(this.player.settings.arrows.container)},e.prototype.adaptiveLayouts=function(){var e=[window.innerWidth,window.innerHeight],t=e[0]/e[1];window.onresize=function(){window.innerWidth/window.innerHeight>=t?(window.innerHeight*t,window.innerHeight):(window.innerWidth,window.innerWidth),o.mainScene.app.width=window.innerWidth,o.mainScene.app.renderer.resize(window.innerWidth,window.innerHeight),window.location.reload()};var i=[this.timer.element];new u.default(i,c.appLayoutStyles)},e.prototype.start=function(){this.countdown.start()},e}();i.default=v},{"pixi.js":"DFIJ","./timer":"WwR8","./countdown":"ssQZ","./scene":"iReV","./arrowScreenControls":"ErSr","./physicsScene":"XUD9","./layout":"Rk1N","./appLayoutStyles":"TVsF","./player":"m1YV","./viewport":"oJTQ","./level":"nxWu"}],QCba:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r,n=(r=e("./core/game"))&&r.__esModule?r:{default:r};var s=new n.default;window.game=s,s.onGameOver=function(e,t){};var o=n.default;i.default=o},{"./core/game":"Dffd"}]},{},["QCba"]);